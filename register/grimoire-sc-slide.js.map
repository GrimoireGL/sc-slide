{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap e1b8aaec3b84683f555a","webpack:///./src/Components/ContainerComponent.ts","webpack:///./node_modules/grimoirejs/ref/Node/Component.js","webpack:///./src/Components/EditorComponent.ts","webpack:///./src/Components/ImageComponent.ts","webpack:///./src/Components/ParagraphComponent.ts","webpack:///./src/Components/ProgressSeeker.ts","webpack:///./src/Components/Rotate.ts","webpack:///./src/Components/VideoComponent.ts","webpack:///./node_modules/grimoirejs/ref/index.js","webpack:///./src/index.ts","webpack:///./node_modules/grimoirejs-fundamental/ref/Components/TransformComponent.js","webpack:///./node_modules/grimoirejs-math/ref/Quaternion.js","webpack:///./src/main.ts","webpack:///./node_modules/grimoirejs-forward-shading/register/index.js","webpack:///./node_modules/grimoirejs-animation/register/index.js","webpack:///./node_modules/grimoirejs-gltf/register/index.js","webpack:///./node_modules/grimoirejs-slide-system/register/index.js"],"names":["ContainerComponent","targetElement","generateTag","parentContainer","node","getComponentInAncestor","_parent","document","querySelector","getAttribute","className","reduce","a","b","idName","id","style","visibility","appendChild","createElement","buildIndex","opacity","args","progress","attributes","inBuild","converter","default","outBuild","Number","MAX_SAFE_INTEGER","defaultContainer","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","EditorComponent","url","xhr","XMLHttpRequest","open","addEventListener","responseText","send","_configured","monaco","languages","typescript","javascriptDefaults","_readText","addExtraLib","container","buttonElem","window","config","paths","that","editor","create","text","readOnly","language","scrollBeyondLastLine","automaticLayout","fontSize","scrollbar","handleMouseWheel","theme","eval","getValue","emit","_configure","containerContainer","buttonContainer","buttonInnerContainer","buttonSelf","innerText","actualContainer","_createEditor","source","src","runButton","ImageComponent","img","ParagraphComponent","ProgressSeeker","setAttribute","Rotate","_transform","getComponent","rotation","multiply","euler","speed","VideoComponent","video","loop","play","__VERSION__","__NAME__","__EXPOSE__","notifyRegisteringPlugin","__BASE__","Object","assign","lib","sc_slide","register","registerComponent","registerNode","$","on","stopPropagation","parser","DOMParser","parsed","parseFromString","scene","getElementsByTagName","childs","item","children","i","n","gn","nodeName","j","length","at","name","append","innerHTML"],"mappings":"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EvJ,iDAAiD,aAAa,uFAAuF,EAAE,uFAAuF;;AAE9O,0CAA0C,+DAA+D,qGAAqG,EAAE,yEAAyE,eAAe,yEAAyE,EAAE,EAAE,uHAAuH;;AAE5e;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,aAAa;AACb;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,2BAA2B,kCAAkC;AAC7D;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA,aAAa;AACb;AACA;AACA,+BAA+B,QAAQ;AACvC;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA,KAAK;AACL;AACA;AACA;AACA,mDAAmD;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,CAAC;;AAED;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO;AACP;AA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yE,eAAe,yEAAyE,EAAE,EAAE,uHAAuH;;AAE5e;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,KAAK;;AAEL;AACA,CAAC;;AAED;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA,OAAO;AACP;AACA;;AAEA;;;AAGA;AACA;AACA,CAAC;;AAED,gCAAgC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEjjB;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,KAAK;;AAEL;AACA,CAAC;;AAED;;AAEA,OAAO;AACP;AACA;;AAEA;;;A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A;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B;AAC7B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT,KAAK;AACL;;AAEA,OAAO;AACP;AACA;;AAEA;AACA;AACA,EAAE,EAAE;;AAEJ,OAAO;AACP;AACA,CAAC;AACD,oD;;;;;;AC1qDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,0BAA0B,EAAE;AAC/D,yCAAyC,eAAe;AACxD;AACA;AACA;AACA;AACA;AACA,8DAA8D,+DAA+D;AAC7H;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA,CAAC;;AAED,gCAAgC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEjjB;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,mEAAmE;AACnE;AACA;AACA;;AAEA;AACA;;AAEA,sEAAsE;AACtE;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA,KAAK;;AAEL;AACA,CAAC;AACD;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO;AACP;AACA;;AAEA;;;AAGA;AACA;AACA,CAAC;;AAED,gCAAgC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEjjB;;AAEA;;AAEA,sCAAsC,uCAAuC,gBA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A;;AAEA;;AAEA;;AAEA;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,4BAA4B;AAC5B;AACA;;AAEA,OAAO;AACP;AACA;;AAEA,4CAA4C,YAAY;AACxD;;;AAGA,OAAO;AACP;AACA;;AAEA;;;AAGA;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA,CAAC,qDAAqD;AACtD;;AAEA,OAAO;AACP;AACA;;AAEA,4CAA4C,YAAY;AACxD;;;AAGA,OAAO;AACP;AACA;;AAEA,4CAA4C,YAAY;AACxD;;;AAGA,OAAO;AACP;AACA;;AAEA,4CAA4C,YAAY;AACxD;;;AAGA,OAAO;AACP;AACA;;AAEA,4CAA4C,YAAY;AACxD;;;AAGA,OAAO;AACP;AACA;;AAEA,4CAA4C,YAAY;AACxD;;;AAGA,OAAO;AACP;AACA;;AAEA,4CAA4C,YAAY;AACxD;;;AAGA,OAAO;AACP;AACA;;AAEA,4CAA4C,YAAY;AACxD;;;AAGA,OAAO;AACP;AACA;;AAEA,4CAA4C,YAAY;AACxD;;;AAGA,OAAO;AACP;AACA;;AAEA;;;AAGA;AACA;AACA,CAAC;;AAED;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA,MAAM;AACN,uEAAuE,wCAAwC;AAC/G;AACA;AACA;AACA,QAAQ;AACR,sBAAsB,uDAAuD;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT,KAAK;AACL;;AAEA,OAAO;AACP;AACA,CAAC;AACD,8C;;;;;;AC/jCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,oCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,0BAA0B,EAAE;AAC/D,yCAAyC,eAAe;AACxD;AACA;AACA;AACA;AACA;AACA,8DAA8D,+DAA+D;AAC7H;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;;AAEA;;;AAGA;AACA;AACA,CAAC;;AAED,gCAAgC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEjjB;;AAEA;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ,iDAAiD,aAAa,uFAAuF,EAAE,uFAAuF;;AAE9O,0CAA0C,+DAA+D,qGAAqG,EAAE,yEAAyE,eAAe,yEAAyE,EAAE,EAAE,uHAAuH;;AAE5e;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,cAAc;AAClC;;AAEA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,mBAAmB;AACvC;;AAEA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,mBAAmB;AACvC;;AAEA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,mBAAmB;AACvC;;AAEA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,qBAAqB;AACzC;;AAEA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,CAAC;;AAED;;AAEA,OAAO;AACP;AACA;;AAEA;;;AAGA;AACA;AACA,CAAC;;AAED,gCAAgC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEjjB;;AAEA;;AAEA;;AAEA;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,CAAC;;AAED;;AAEA,OAAO;AACP;AACA;;AAEA;;;AAGA;AACA;AACA,CAAC;;AAED,gCAAgC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEjjB;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ,iDAAiD,aAAa,uFAAuF,EAAE,uFAAuF;;AAE9O,0CAA0C,+DAA+D,qGAAqG,EAAE,yEAAyE,eAAe,yEAAyE,EAAE,EAAE,uHAAuH;;AAE5e;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;;AAEL;AACA,CAAC;;AAED;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA,OAAO;AACP;AACA;;AAEA;;;AAGA;AACA;AACA,CAAC;;AAED,gCAAgC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEjjB;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ,iDAAiD,aAAa,uFAAuF,EAAE,uFAAuF;;AAE9O,0CAA0C,+DAA+D,qGAAqG,EAAE,yEAAyE,eAAe,yEAAyE,EAAE,EAAE,uHAAuH;;AAE5e;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,wKAAwK;AACxK,2BAA2B,QAAQ;AACnC;AACA;AACA;AACA,KAAK;;AAEL;AACA,CAAC;;AAED;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA,OAAO;AACP;AACA;;AAEA;AACA;AACA,EAAE,EAAE;;AAEJ,OAAO;AACP;AACA;;AAEA;AACA;AACA,EAAE,EAAE;;AAEJ,OAAO;AACP;AACA;;AAEA;AACA;AACA,EAAE,EAAE;;AAEJ,OAAO;AACP;AACA;;AAEA;;;AAGA;AACA;AACA,CAAC;;AAED,gCAAgC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEjjB;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,uBAAuB,qCAAqC;AAC5D;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,2BAA2B,uCAAuC;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iCAAiC;;AAEjC;AACA;AACA;AACA;AACA,iCAAiC;;AAEjC;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA,qCAAqC,GAAG,+BAA+B;AACvE,iCAAiC;AACjC;AACA,iCAAiC;;AAEjC;AACA;AACA;AACA;AACA;AACA,iCAAiC;AACjC;AACA;AACA,qCAAqC,GAAG,6BAA6B;AACrE;AACA;AACA,qCAAqC,GAAG,qCAAqC;AAC7E;AACA;AACA,qCAAqC,GAAG,qCAAqC;AAC7E;AACA;AACA;AACA,iCAAiC;;AAEjC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA,KAAK;;AAEL;AACA,CAAC;;AAED;;AAEA;;AAEA,OAAO;AACP;AACA;;AAEA;;;AAGA;AACA;AACA,CAAC;;AAED,gCAAgC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEjjB;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ,iDAAiD,aAAa,uFAAuF,EAAE,uFAAuF;;AAE9O,0CAA0C,+DAA+D,qGAAqG,EAAE,yEAAyE,eAAe,yEAAyE,EAAE,EAAE,uHAAuH;;AAE5e;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,yCAAyC;AACzC;AACA;AACA,6CAA6C,GAAG,oCAAoC;AACpF;AACA,yCAAyC;AACzC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA,oBAAoB,mBAAmB;AACvC;;AAEA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,mBAAmB;AACvC;;AAEA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,qBAAqB;AACzC;;AAEA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,qCAAqC;AACrC;AACA,qCAAqC;AACrC;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB,GAAG,mFAAmF;AAC3G;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,aAAa,GAAG,uFAAuF;AACvG;AACA;AACA,aAAa,GAAG,uFAAuF;AACvG;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iCAAiC,GAAG,4DAA4D;;AAEhG;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,GAAG,mEAAmE;AACvF;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,2BAA2B,oCAAoC;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,0BAA0B;AAC1D,0DAA0D;AAC1D;AACA;AACA,8CAA8C;AAC9C;AACA,iCAAiC,4BAA4B;AAC7D;AACA,mCAAmC,eAAe;AAClD,8EAA8E;AAC9E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,4BAA4B;AAC5B;AACA,4BAA4B;AAC5B;AACA,4BAA4B;AAC5B;AACA,4BAA4B;AAC5B;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,CAAC;;AAED;;AAEA,OAAO;AACP;AACA;;AAEA;;;AAGA;AACA;AACA,CAAC;;AAED,gCAAgC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEjjB;;AAEA;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,aAAa;AACb;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,OAAO;AAC3B,oBAAoB,QAAQ;AAC5B;;AAEA,KAAK;AACL;AACA;AACA,gDAAgD;AAChD;AACA;AACA;AACA,oBAAoB,OAAO;AAC3B,oBAAoB,OAAO;AAC3B;;AAEA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,OAAO;AAC3B,oBAAoB,OAAO;AAC3B;;AAEA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,OAAO;AAC3B,oBAAoB,YAAY;AAChC;;AAEA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,sBAAsB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,OAAO;AAC3B,oBAAoB,QAAQ;AAC5B;;AAEA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,2BAA2B,oBAAoB;AAC/C;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,CAAC;;AAED;;AAEA,OAAO;AACP;AACA;;AAEA;AACA;AACA,EAAE,EAAE;;AAEJ,OAAO;AACP;AACA;;AAEA;AACA;AACA,EAAE,EAAE;;AAEJ,OAAO;AACP;AACA;;AAEA;;;AAGA;AACA;AACA,CAAC;;AAED,gCAAgC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEjjB;;AAEA;;AAEA;;AAEA;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ,iDAAiD,aAAa,uFAAuF,EAAE,uFAAuF;;AAE9O,0CAA0C,+DAA+D,qGAAqG,EAAE,yEAAyE,eAAe,yEAAyE,EAAE,EAAE,uHAAuH;;AAE5e;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,wBAAwB;AAC3D;AACA;AACA,iBAAiB;AACjB,oCAAoC,yBAAyB;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,CAAC;;AAED;;AAEA,OAAO;AACP;AACA;;AAEA;AACA;AACA,EAAE,EAAE;;AAEJ,OAAO;AACP;AACA;;AAEA;;;AAGA;AACA;AACA,CAAC;;AAED,gCAAgC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEjjB;;AAEA;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ,iDAAiD,aAAa,uFAAuF,EAAE,uFAAuF;;AAE9O,0CAA0C,+DAA+D,qGAAqG,EAAE,yEAAyE,eAAe,yEAAyE,EAAE,EAAE,uHAAuH;;AAE5e;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,oBAAoB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,CAAC;;AAED;;AAEA,OAAO;AACP;AACA;;AAEA;;;AAGA;AACA;AACA,CAAC;;AAED,gCAAgC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEjjB;;AAEA;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ,iDAAiD,aAAa,uFAAuF,EAAE,uFAAuF;;AAE9O,0CAA0C,+DAA+D,qGAAqG,EAAE,yEAAyE,eAAe,yEAAyE,EAAE,EAAE,uHAAuH;;AAE5e;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,CAAC;;AAED;;AAEA,OAAO;AACP;AACA;;AAEA;;;AAGA;AACA;AACA,CAAC;;AAED,gCAAgC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEjjB;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,2EAA2E,gEAAgE;AAC3I;;AAEA;AACA;AACA,aAAa;AACb;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,iBAAiB;AACjB,uEAAuE;AACvE,mCAAmC,uBAAuB;AAC1D;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA,aAAa;AACb,gEAAgE;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,mFAAmF,mEAAmE;AACtJ;;AAEA;AACA;AACA,iBAAiB;AACjB;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,oBAAoB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA,yCAAyC,UAAU;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB,qBAAqB;AACrB;AACA;AACA,iBAAiB;AACjB;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,CAAC;;AAED;;AAEA,OAAO;AACP;AACA;;AAEA;AACA;AACA,EAAE,EAAE;;AAEJ,OAAO;AACP;AACA;;AAEA;;;AAGA;AACA;AACA,CAAC;;AAED;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,4BAA4B;AAC5B;AACA;;AAEA,OAAO;AACP;AACA;;AAEA;;;AAGA;AACA;AACA,CAAC;;AAED,gCAAgC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEjjB;;AAEA;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,sBAAsB;AACjD;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,CAAC;;AAED;;AAEA,OAAO;AACP;AACA;;AAEA;AACA;AACA,EAAE,EAAE;;AAEJ,OAAO;AACP;AACA;;AAEA;AACA;AACA,EAAE,EAAE;;AAEJ,OAAO;AACP;AACA;;AAEA;AACA;AACA,EAAE,EAAE;;AAEJ,OAAO;AACP;AACA;;AAEA;AACA;AACA,EAAE,EAAE;;AAEJ,OAAO;AACP;AACA;;AAEA;AACA;AACA,EAAE,EAAE;;AAEJ,OAAO;AACP;AACA;;AAEA;AACA;AACA,EAAE,EAAE;;AAEJ,OAAO;AACP;AACA;;AAEA;AACA;AACA,EAAE,EAAE;;AAEJ,OAAO;AACP;AACA;;AAEA;AACA;AACA,EAAE,EAAE;;AAEJ,OAAO;AACP;AACA;;AAEA;;;AAGA;AACA;AACA,CAAC;;AAED,gCAAgC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEjjB;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,sBAAsB;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yDAAyD;AACzD,yDAAyD;AACzD;AACA;AACA,qBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0DAA0D,yBAAyB;AACnF;AACA,wBAAwB;AACxB;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,oBAAoB,OAAO;AAC3B,oBAAoB,QAAQ;AAC5B;;AAEA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,oBAAoB,qBAAqB;AACzC;;AAEA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,oBAAoB,OAAO;AAC3B,oBAAoB,gBAAgB;AACpC;;AAEA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA,oBAAoB,OAAO;AAC3B,oBAAoB,YAAY;AAChC;;AAEA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,sBAAsB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,OAAO;AAC3B,oBAAoB,QAAQ;AAC5B;;AAEA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,2BAA2B,oBAAoB;AAC/C;AACA;AACA;AACA;AACA,KAAK;AACL;AAC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ACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,KAAK;AACL;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,qCAAqC;AACrC,iCAAiC;AACjC;AACA;AACA;AACA,qCAAqC;AACrC;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC;AACvC,wCAAwC;AACxC;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA,2CAA2C,yBAAyB;AACpE;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+EAA+E;;AAE/E;AACA,mFAAmF;;AAEnF;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA;AACA;AACA,mBAAmB,OAAO;AAC1B,mBAAmB,OAAO;AAC1B;;AAEA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB,OAAO;AAC3B,oBAAoB,OAAO;AAC3B;;AAEA,KAAK;AACL;AACA;AACA;AACA,2BAA2B,yBAAyB;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB,aAAa;AACb;AACA,KAAK;AACL;AACA;AACA;AACA,2BAA2B,gBAAgB;AAC3C;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,CAAC;;AAED;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO;AACP;AACA;;AAEA,4CAA4C,YAAY;AACxD;;;AAGA,OAAO;AACP;AACA;;AAEA;;;AAGA;AACA;AACA,CAAC;;AAED,gCAAgC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEjjB;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ,iDAAiD,aAAa,uFAAuF,EAAE,uFAAuF;;AAE9O,0CAA0C,+DAA+D,qGAAqG,EAAE,yEAAyE,eAAe,yEAAyE,EAAE,EAAE,uHAAuH;;AAE5e;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,CAAC;;AAED;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA,OAAO;AACP;AACA;;AAEA,4CAA4C,YAAY;AACxD;;;AAGA,OAAO;AACP;AACA;;AAEA,4CAA4C,YAAY;AACxD;;;AAGA,OAAO;AACP;AACA;;AAEA,4CAA4C,YAAY;AACxD;;;AAGA,OAAO;AACP;AACA;;AAEA;;;AAGA;AACA;AACA,CAAC;;AAED,gCAAgC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEjjB;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ,iDAAiD,aAAa,uFAAuF,EAAE,uFAAuF;;AAE9O,0CAA0C,+DAA+D,qGAAqG,EAAE,yEAAyE,eAAe,yEAAyE,EAAE,EAAE,uHAAuH;;AAE5e;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB;AACjB;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;;AAEL;AACA,CAAC;;AAED;;AAEA;;AAEA,OAAO;AACP;AACA;;AAEA;;;AAGA;AACA;AACA,CAAC;;AAED,gCAAgC,2CAA2C,gBAAgB,kBAAkB,OAAO,2BAA2B,wDAAwD,gCAAgC,uDAAuD,2DAA2D,EAAE,EAAE,yDAAyD,qEAAqE,6DAA6D,oBAAoB,GAAG,EAAE;;AAEjjB;;AAEA;;AAEA;;AAEA;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F,iDAAiD,0CAA0C,0DAA0D,EAAE;;AAEvJ,iDAAiD,aAAa,uFAAuF,EAAE,uFAAuF;;AAE9O,0CAA0C,+DAA+D,qGAAqG,EAAE,yEAAyE,eAAe,yEAAyE,EAAE,EAAE,uHAAuH;;AAE5e;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA,KAAK;;AAEL;AACA,CAAC;;AAED;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA,OAAO;AACP;AACA;;AAEA,4CAA4C,YAAY;AACxD;;;AAGA,OAAO;AACP;AACA;;AAEA;;;AAGA;AACA;AACA,CAAC;;AAED;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,4BAA4B;AAC5B;AACA;;AAEA,OAAO;AACP;AACA;;AAEA,4CAA4C,YAAY;AACxD;;;AAGA,OAAO;AACP;AACA;;AAEA,4CAA4C,YAAY;AACxD;;;AAGA,OAAO;AACP;AACA;;AAEA,4CAA4C,YAAY;AACxD;;;AAGA,OAAO;AACP;AACA;;AAEA,4CAA4C,YAAY;AACxD;;;AAGA,OAAO;AACP;AACA;;AAEA;;;AAGA;AACA;AACA,CAAC;;AAED;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA,sCAAsC,uCAAuC,gBAAgB;;AAE7F;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA,KAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0FAA0F;;AAE1F;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,SAAS;AACT,KAAK;AACL;;AAEA,OAAO;AACP;AACA,CAAC;AACD,iC","file":"./register/grimoire-sc-slide.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 9);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap e1b8aaec3b84683f555a","import Component from \"grimoirejs/ref/Node/Component\";\nexport default class ContainerComponent extends Component {\n    $mount() {\n        this.targetElement = this.generateTag();\n        const parentContainer = this.node.getComponentInAncestor(ContainerComponent);\n        if (parentContainer) {\n            this._parent = parentContainer.targetElement;\n        }\n        else {\n            this._parent = document.querySelector(this.getAttribute(\"defaultContainer\"));\n        }\n        const className = this.node.getAttribute(\"class\");\n        if (className) {\n            this.targetElement.className = className.reduce((a, b) => a + \" \" + b);\n        }\n        const idName = this.node.getAttribute(\"id\");\n        if (idName) {\n            this.targetElement.id = idName;\n        }\n        this.targetElement.style.visibility = \"collapse\";\n        this._parent.appendChild(this.targetElement);\n    }\n    generateTag() {\n        return document.createElement(\"div\");\n    }\n    $buildStart(buildIndex) {\n        if (this.getAttribute(\"inBuild\") === buildIndex) {\n            this.targetElement.style.visibility = \"visible\";\n            this.targetElement.style.opacity = \"1\";\n        }\n        if (buildIndex === this.getAttribute(\"outBuild\")) {\n            this.targetElement.style.visibility = \"collapse\";\n        }\n    }\n    $buildProgress(args) {\n        if (this.getAttribute(\"inBuild\") === args.buildIndex) {\n            this.targetElement.style.visibility = \"visible\";\n            this.targetElement.style.opacity = args.progress + \"\";\n        }\n    }\n    $slideEnd() {\n        this.targetElement.style.visibility = \"collapse\";\n    }\n}\nContainerComponent.attributes = {\n    inBuild: {\n        converter: \"Number\",\n        default: 0\n    },\n    outBuild: {\n        converter: \"Number\",\n        default: Number.MAX_SAFE_INTEGER\n    },\n    defaultContainer: {\n        converter: \"String\",\n        default: \"div#paragraph-root\"\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/Components/ContainerComponent.ts","Object.defineProperty(exports,\"__esModule\",{value: true});\nexports.default=window.GrimoireJS.Node.Component;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/grimoirejs/ref/Node/Component.js\n// module id = 1\n// module chunks = 0","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport ContainerComponent from \"./ContainerComponent\";\nexport default class EditorComponent extends ContainerComponent {\n    _readText(url) {\n        return new Promise((resolve, reject) => {\n            const xhr = new XMLHttpRequest();\n            xhr.open(\"GET\", `${url}`);\n            xhr.addEventListener(\"load\", () => {\n                resolve(xhr.responseText);\n            });\n            xhr.send();\n        });\n    }\n    _configure() {\n        return __awaiter(this, void 0, void 0, function* () {\n            if (EditorComponent._configured)\n                return;\n            monaco.languages.typescript.javascriptDefaults.addExtraLib(yield this._readText(\"jquery.d.ts\"));\n            monaco.languages.typescript.javascriptDefaults.addExtraLib(yield this._readText(\"grimoire.d.ts\"));\n            EditorComponent._configured = true;\n        });\n    }\n    _createEditor(container, buttonElem) {\n        window[\"require\"].config({ paths: { 'vs': 'libs/monaco-editor/min/vs' } });\n        const that = this;\n        this._readText(this.getAttribute(\"src\")).then(text => {\n            window[\"require\"](['vs/editor/editor.main'], function () {\n                var editor = monaco.editor.create(container, {\n                    value: text,\n                    readOnly: false,\n                    language: that.getAttribute(\"language\"),\n                    scrollBeyondLastLine: false,\n                    automaticLayout: true,\n                    fontSize: 20,\n                    scrollbar: {\n                        handleMouseWheel: true\n                    },\n                    theme: \"vs-dark\"\n                });\n                if (that.getAttribute(\"language\") === \"javascript\") {\n                    buttonElem.addEventListener(\"click\", () => {\n                        eval(editor.getValue());\n                    });\n                }\n                buttonElem.addEventListener(\"click\", () => {\n                    that.node.emit(\"execute\", editor.getValue());\n                });\n                this.editor = editor;\n                that._configure();\n            });\n        });\n    }\n    generateTag() {\n        const container = document.createElement(\"div\");\n        const containerContainer = document.createElement(\"div\");\n        containerContainer.className = \"single-editor-container-outer\";\n        containerContainer.appendChild(container);\n        container.className = \"single-editor-container\";\n        const buttonContainer = document.createElement(\"div\");\n        buttonContainer.className = \"button-container\";\n        if (!this.getAttribute(\"runButton\")) {\n            buttonContainer.style.visibility = \"hidden\";\n        }\n        const buttonInnerContainer = document.createElement(\"div\");\n        buttonInnerContainer.className = \"button-inner-container\";\n        const buttonSelf = document.createElement(\"p\");\n        buttonSelf.innerText = \"RUN\";\n        buttonInnerContainer.appendChild(buttonSelf);\n        buttonContainer.appendChild(buttonInnerContainer);\n        container.appendChild(buttonContainer);\n        const actualContainer = document.createElement(\"div\");\n        actualContainer.className = \"actual-editor-container\";\n        container.appendChild(actualContainer);\n        this._createEditor(actualContainer, buttonInnerContainer);\n        return containerContainer;\n    }\n}\nEditorComponent._configured = false;\nEditorComponent.attributes = {\n    source: {\n        default: \"\",\n        converter: \"String\"\n    },\n    inBuild: {\n        converter: \"Number\",\n        default: 0\n    },\n    outBuild: {\n        converter: \"Number\",\n        default: Number.MAX_SAFE_INTEGER\n    },\n    defaultContainer: {\n        converter: \"String\",\n        default: \"div#editor-root\"\n    },\n    language: {\n        converter: \"String\",\n        default: \"javascript\"\n    },\n    src: {\n        converter: \"String\",\n        default: \"\"\n    },\n    runButton: {\n        converter: \"Boolean\",\n        default: false\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/Components/EditorComponent.ts","import ContainerComponent from \"./ContainerComponent\";\nexport default class ImageComponent extends ContainerComponent {\n    $mount() {\n        super.$mount();\n        const img = this.targetElement;\n        img.src = this.getAttribute(\"src\");\n    }\n    generateTag() {\n        return document.createElement(\"img\");\n    }\n}\nImageComponent.attributes = {\n    src: {\n        default: \"\",\n        converter: \"String\"\n    },\n    inBuild: {\n        converter: \"Number\",\n        default: 0\n    },\n    outBuild: {\n        converter: \"Number\",\n        default: Number.MAX_SAFE_INTEGER\n    },\n    defaultContainer: {\n        converter: \"String\",\n        default: \"div#paragraph-root\"\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/Components/ImageComponent.ts","import ContainerComponent from \"./ContainerComponent\";\nexport default class ParagraphComponent extends ContainerComponent {\n    $mount() {\n        super.$mount();\n        this.targetElement.innerText = this.getAttribute(\"text\");\n    }\n    generateTag() {\n        return document.createElement(\"p\");\n    }\n}\nParagraphComponent.attributes = {\n    text: {\n        default: \"\",\n        converter: \"String\"\n    },\n    inBuild: {\n        converter: \"Number\",\n        default: 0\n    },\n    outBuild: {\n        converter: \"Number\",\n        default: Number.MAX_SAFE_INTEGER\n    },\n    defaultContainer: {\n        converter: \"String\",\n        default: \"div#paragraph-root\"\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/Components/ParagraphComponent.ts","import Component from \"grimoirejs/ref/Node/Component\";\nexport default class ProgressSeeker extends Component {\n    $mount() {\n        this.inBuild = this.getAttribute(\"inBuild\");\n    }\n    $slideStart() {\n        this.node.setAttribute(\"progress\", 0);\n    }\n    $buildProgress(args) {\n        if (this.inBuild === args.buildIndex) {\n            this.node.setAttribute(\"progress\", args.progress);\n        }\n    }\n}\nProgressSeeker.attributes = {\n    inBuild: {\n        default: 1,\n        converter: \"Number\"\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/Components/ProgressSeeker.ts","import Component from \"grimoirejs/ref/Node/Component\";\nimport Transform from \"grimoirejs-fundamental/ref/Components/TransformComponent\";\nimport Quaternion from \"grimoirejs-math/ref/Quaternion\";\n/**\n * 定速回転のためのコンポーネント\n */\nexport default class Rotate extends Component {\n    $mount() {\n        this._transform = this.node.getComponent(Transform);\n    }\n    $update() {\n        this._transform.rotation =\n            Quaternion.multiply(this._transform.rotation, Quaternion.euler(0, this.getAttribute(\"speed\"), 0));\n    }\n}\n/**\n * このコンポーネントが持つ属性\n */\nRotate.attributes = {\n    speed: {\n        converter: \"String\",\n        default: 0.01\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/Components/Rotate.ts","import ContainerComponent from \"./ContainerComponent\";\nexport default class VideoComponent extends ContainerComponent {\n    $mount() {\n        super.$mount();\n        const video = this.targetElement;\n        video.src = this.getAttribute(\"src\");\n        video.loop = true;\n        this.video = video;\n    }\n    $slideStart() {\n        this.video.play();\n    }\n    generateTag() {\n        return document.createElement(\"video\");\n    }\n}\nVideoComponent.attributes = {\n    inBuild: {\n        converter: \"Number\",\n        default: 0\n    },\n    src: {\n        converter: \"String\",\n        default: 0\n    },\n    outBuild: {\n        converter: \"Number\",\n        default: Number.MAX_SAFE_INTEGER\n    },\n    defaultContainer: {\n        converter: \"String\",\n        default: \"div#paragraph-root\"\n    }\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/Components/VideoComponent.ts","Object.defineProperty(exports,\"__esModule\",{value: true});\nexports.default=window.GrimoireJS;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/grimoirejs/ref/index.js\n// module id = 8\n// module chunks = 0","import ComponentsContainerComponent from \"./Components/ContainerComponent\";\nimport ComponentsEditorComponent from \"./Components/EditorComponent\";\nimport ComponentsImageComponent from \"./Components/ImageComponent\";\nimport ComponentsParagraphComponent from \"./Components/ParagraphComponent\";\nimport ComponentsProgressSeeker from \"./Components/ProgressSeeker\";\nimport ComponentsRotate from \"./Components/Rotate\";\nimport ComponentsVideoComponent from \"./Components/VideoComponent\";\nlet __VERSION__ = \"1.0.0\";\nlet __NAME__ = \"grimoirejs-sc-slide\";\nimport __MAIN__ from \"./main\";\n//\"cauldron generate-exposure --src ./src --dest ./src/index.ts --ts --main ./src/main.ts --dts ./ref\",\nlet __EXPOSE__ = {\n    \"Components\": {\n        \"ContainerComponent\": ComponentsContainerComponent,\n        \"EditorComponent\": ComponentsEditorComponent,\n        \"ImageComponent\": ComponentsImageComponent,\n        \"ParagraphComponent\": ComponentsParagraphComponent,\n        \"ProgressSeeker\": ComponentsProgressSeeker,\n        \"Rotate\": ComponentsRotate,\n        \"VideoComponent\": ComponentsVideoComponent\n    }\n};\nimport gr from \"grimoirejs\";\ngr.notifyRegisteringPlugin(__NAME__);\nlet __BASE__ = __MAIN__();\nObject.assign(__EXPOSE__, {\n    __VERSION__: __VERSION__,\n    __NAME__: __NAME__\n});\nObject.assign(__BASE__ || {}, __EXPOSE__);\nwindow[\"GrimoireJS\"].lib.sc_slide = __EXPOSE__;\nexport default __BASE__;\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.ts","Object.defineProperty(exports,\"__esModule\",{value: true});\nexports.default=window.GrimoireJS&&window.GrimoireJS.lib.fundamental?window.GrimoireJS.lib.fundamental.Components.TransformComponent:undefined;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/grimoirejs-fundamental/ref/Components/TransformComponent.js\n// module id = 10\n// module chunks = 0","Object.defineProperty(exports,\"__esModule\",{value: true});\nexports.default=window.GrimoireJS&&window.GrimoireJS.lib.math?window.GrimoireJS.lib.math.Quaternion:undefined;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/grimoirejs-math/ref/Quaternion.js\n// module id = 11\n// module chunks = 0","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nimport \"grimoirejs-forward-shading/register\";\nimport \"grimoirejs-animation/register\";\nimport \"grimoirejs-gltf/register\";\nimport \"grimoirejs-slide-system/register\";\nimport gr from \"grimoirejs\";\nimport ParagraphComponent from \"./Components/ParagraphComponent\";\nimport ContainerComponent from \"./Components/ContainerComponent\";\nimport ImageComponent from \"./Components/ImageComponent\";\nimport ProgressSeeker from \"./Components/ProgressSeeker\";\nimport VideoComponent from \"./Components/VideoComponent\";\nimport EditorComponent from \"./Components/EditorComponent\";\nimport Rotate from \"./Components/Rotate\";\nexport default () => {\n    gr.register(() => __awaiter(this, void 0, void 0, function* () {\n        gr.registerComponent(\"Paragraph\", ParagraphComponent);\n        gr.registerComponent(\"Container\", ContainerComponent);\n        gr.registerComponent(\"Image\", ImageComponent);\n        gr.registerComponent(\"ProgressSeeker\", ProgressSeeker);\n        gr.registerComponent(\"Video\", VideoComponent);\n        gr.registerComponent(\"Rotate\", Rotate);\n        gr.registerComponent(\"Editor\", EditorComponent);\n        gr.registerNode(\"p\", [\"Paragraph\"]);\n        gr.registerNode(\"div\", [\"Container\"]);\n        gr.registerNode(\"img\", [\"Image\"]);\n        gr.registerNode(\"video\", [\"Video\"]);\n        gr.registerNode(\"editor\", [\"Editor\"]);\n        gr.registerNode(\"render-slide-hitarea\", [\"RenderSlideHitarea\"], {}, \"render-slide\");\n    }));\n    gr(() => {\n        $(\"#editor-root\").on(\"keydown\", (e) => {\n            e.stopPropagation();\n        });\n        gr(\"#slide\")(\"#simple-goml-container\").on(\"execute\", (e) => {\n            const parser = new DOMParser();\n            const parsed = parser.parseFromString(e, \"text/xml\");\n            const scene = parsed.getElementsByTagName(\"scene\");\n            const childs = scene.item(0).children;\n            for (let i = 0; i < 3; i++) {\n                const n = childs.item(i);\n                const gn = gr(\"#slide\")(\".editor-content-container \" + n.nodeName);\n                for (let j = 0; j < n.attributes.length; j++) {\n                    const at = n.attributes.item(j);\n                    gn.setAttribute(at.name, at.value);\n                }\n            }\n            gr(\"#slide\")(\".editor-content-container\").append(\"<object>\" + scene.item(0).innerHTML + \"</object>\");\n        });\n    });\n};\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.ts","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 16);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Vector = __webpack_require__(7);\n\nvar _Vector2 = _interopRequireDefault(_Vector);\n\nvar _FrameBuffer = __webpack_require__(17);\n\nvar _FrameBuffer2 = _interopRequireDefault(_FrameBuffer);\n\nvar _Texture2D = __webpack_require__(18);\n\nvar _Texture2D2 = _interopRequireDefault(_Texture2D);\n\nvar _SceneComponent = __webpack_require__(3);\n\nvar _SceneComponent2 = _interopRequireDefault(_SceneComponent);\n\nvar _ForwardShadingManagerComponent = __webpack_require__(4);\n\nvar _ForwardShadingManagerComponent2 = _interopRequireDefault(_ForwardShadingManagerComponent);\n\nvar _RenderBuffer = __webpack_require__(22);\n\nvar _RenderBuffer2 = _interopRequireDefault(_RenderBuffer);\n\nvar _Component2 = __webpack_require__(1);\n\nvar _Component3 = _interopRequireDefault(_Component2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar SceneLightManager = function (_Component) {\n    _inherits(SceneLightManager, _Component);\n\n    function SceneLightManager() {\n        _classCallCheck(this, SceneLightManager);\n\n        var _this = _possibleConstructorReturn(this, (SceneLightManager.__proto__ || Object.getPrototypeOf(SceneLightManager)).apply(this, arguments));\n\n        _this.lights = {\n            point: [],\n            directional: [],\n            spot: []\n        };\n        _this.shadowMapCameras = [];\n        return _this;\n    }\n\n    _createClass(SceneLightManager, [{\n        key: \"$awake\",\n        value: function $awake() {\n            var _this2 = this;\n\n            this.getAttributeRaw(\"shadowQuality\").watch(function (v) {\n                _this2._singleShadowMapSize = Math.pow(2, v);\n            }, true);\n        }\n    }, {\n        key: \"$mount\",\n        value: function $mount() {\n            this._gl = this.companion.get(\"gl\");\n            this._shadowMapTexture = new _Texture2D2.default(this._gl);\n            this._lightMatricesTexture = new _Texture2D2.default(this._gl);\n            this._lightMatricesTexture.magFilter = WebGLRenderingContext.NEAREST;\n            this._lightMatricesTexture.minFilter = WebGLRenderingContext.NEAREST;\n            this._shadowMapRenderbuffer = new _RenderBuffer2.default(this._gl);\n            this._maxTextureSize = this._gl.getParameter(WebGLRenderingContext.MAX_TEXTURE_SIZE);\n            this._shadingManager = this.node.getComponentInAncestor(_ForwardShadingManagerComponent2.default);\n            var scene = this.node.getComponent(_SceneComponent2.default);\n            this._lightSceneDesc = scene.sceneDescription.lights;\n            this._shadingManager.addSceneLightManager(this);\n            this._updateShadowMapSize();\n            this.shadowMapFBO = new _FrameBuffer2.default(this._gl);\n            this.shadowMapFBO.update(this._shadowMapTexture);\n            this.shadowMapFBO.update(this._shadowMapRenderbuffer);\n        }\n    }, {\n        key: \"$unmount\",\n        value: function $unmount() {\n            this._shadingManager.removeSceneLightManager(this);\n            this.shadowMapFBO.destroy();\n            this._shadowMapTexture.destroy();\n        }\n    }, {\n        key: \"addLight\",\n        value: function addLight(light) {\n            switch (light.lightType) {\n                case \"point\":\n                    this.lights.point.push(light);\n                    this._lightSceneDesc.point.colors.incrementLength();\n                    this._lightSceneDesc.point.positions.incrementLength();\n                    this._lightSceneDesc.point.params.incrementLength();\n                    break;\n                case \"directional\":\n                    this.lights.directional.push(light);\n                    this._lightSceneDesc.directional.colors.incrementLength();\n                    this._lightSceneDesc.directional.directions.incrementLength();\n                    this._lightSceneDesc.directional.params.incrementLength();\n                    break;\n                case \"spot\":\n                    this.lights.spot.push(light);\n                    this._lightSceneDesc.spot.colors.incrementLength();\n                    this._lightSceneDesc.spot.directions.incrementLength();\n                    this._lightSceneDesc.spot.positions.incrementLength();\n                    this._lightSceneDesc.spot.params.incrementLength();\n                    break;\n            }\n            this._shadingManager.updateLightCount();\n        }\n    }, {\n        key: \"removeLight\",\n        value: function removeLight(light) {\n            switch (light.lightType) {\n                case \"point\":\n                    var i1 = this.lights.point.indexOf(light);\n                    this.lights.point.splice(i1, 1);\n                    this._lightSceneDesc.point.colors.decrementLength();\n                    this._lightSceneDesc.point.positions.decrementLength();\n                    this._lightSceneDesc.point.params.decrementLength();\n                    break;\n                case \"directional\":\n                    var i2 = this.lights.directional.indexOf(light);\n                    this.lights.directional.splice(i2, 1);\n                    this._lightSceneDesc.directional.colors.decrementLength();\n                    this._lightSceneDesc.directional.directions.decrementLength();\n                    this._lightSceneDesc.directional.params.decrementLength();\n                    break;\n                case \"spot\":\n                    var i3 = this.lights.spot.indexOf(light);\n                    this.lights.spot.splice(i3, 1);\n                    this._lightSceneDesc.spot.colors.decrementLength();\n                    this._lightSceneDesc.spot.directions.decrementLength();\n                    this._lightSceneDesc.spot.positions.decrementLength();\n                    this._lightSceneDesc.spot.params.decrementLength();\n                    break;\n            }\n            this._shadingManager.updateLightCount();\n        }\n    }, {\n        key: \"addShadowMapCamera\",\n        value: function addShadowMapCamera(smCamera) {\n            this.shadowMapCameras.push(smCamera);\n            smCamera.shadowMapIndex = this.shadowMapCameras.length - 1;\n            this._updateShadowMapSize();\n        }\n    }, {\n        key: \"removeShadowMapCamera\",\n        value: function removeShadowMapCamera(smCamera) {\n            var index = this.shadowMapCameras.indexOf(smCamera);\n            this.shadowMapCameras.splice(index, 1);\n            for (var i = 0; i < this.shadowMapCameras.length; i++) {\n                this.shadowMapCameras[i].shadowMapIndex = i;\n            }\n            this._updateShadowMapSize();\n        }\n    }, {\n        key: \"viewportByShadowmapIndex\",\n        value: function viewportByShadowmapIndex(index) {\n            var i = index % this._shadowMapElementCounts.X;\n            var j = (index - i) / this._shadowMapElementCounts.X;\n            this._gl.viewport(i * this._singleShadowMapSize, j * this._singleShadowMapSize, this._singleShadowMapSize, this._singleShadowMapSize);\n        }\n    }, {\n        key: \"updateLightMatricies\",\n        value: function updateLightMatricies(camera) {\n            var _this3 = this;\n\n            this.shadowMapCameras.forEach(function (v) {\n                v.updateCamera(camera);\n            });\n            this.shadowMapCameras.forEach(function (v, i) {\n                var pv = v.ProjectionViewMatrix.rawElements;\n                for (var j = 0; j < 16; j++) {\n                    _this3.lightMatrices[16 * i + j] = pv[j];\n                }\n            });\n            this._updateLightMatricesTexture();\n        }\n        /**\n         * Update texture size\n         */\n\n    }, {\n        key: \"_updateShadowMapSize\",\n        value: function _updateShadowMapSize() {\n            var max = this._maxTextureSize;\n            var single = this._singleShadowMapSize; // in px\n            var byEdge = max / single;\n            var count = this.shadowMapCameras.length;\n            var size = count === 0 ? 0 : Math.pow(2, Math.ceil(Math.log2(Math.ceil(Math.sqrt(count))))) * single;\n            if (size > max) {\n                throw new Error(\"Max shadow map buffer size overflow\");\n            }\n            if (count === 0) {\n                this._shadowMapTexture.update(0, 1, 1, 0, WebGLRenderingContext.RGB, WebGLRenderingContext.UNSIGNED_BYTE);\n                this._shadowMapRenderbuffer.update(WebGLRenderingContext.DEPTH_COMPONENT16, 1, 1);\n            } else {\n                this._shadowMapTexture.update(0, size, size, 0, WebGLRenderingContext.RGB, WebGLRenderingContext.UNSIGNED_BYTE);\n                this._shadowMapRenderbuffer.update(WebGLRenderingContext.DEPTH_COMPONENT16, size, size);\n            }\n            var matCount = Math.pow(2, Math.ceil(Math.log2(count)));\n            this.lightMatrices = new Float32Array(matCount * 16);\n            this._shadowMapElementCounts = new _Vector2.default(size / single, size / single);\n            this._updateLightMatricesTexture();\n            this._lightSceneDesc.shadowMap = {\n                shadowMapCountPerEdge: this._shadowMapElementCounts,\n                count: matCount,\n                shadowMap: this._shadowMapTexture,\n                lightMatrices: this._lightMatricesTexture,\n                pixelSize: 1.0 / this._singleShadowMapSize\n            };\n        }\n    }, {\n        key: \"_updateLightMatricesTexture\",\n        value: function _updateLightMatricesTexture() {\n            var count = this.shadowMapCameras.length;\n            this._lightMatricesTexture.update(0, 4, Math.pow(2, Math.ceil(Math.log2(count))), 0, WebGLRenderingContext.RGBA, WebGLRenderingContext.FLOAT, this.lightMatrices);\n        }\n    }]);\n\n    return SceneLightManager;\n}(_Component3.default);\n\nexports.default = SceneLightManager;\n\nSceneLightManager.attributes = {\n    shadowQuality: {\n        converter: \"Number\",\n        default: 9\n    }\n};\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});exports.default=window.GrimoireJS.Node.Component;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _SceneComponent = __webpack_require__(3);\n\nvar _SceneComponent2 = _interopRequireDefault(_SceneComponent);\n\nvar _SceneLightManager = __webpack_require__(0);\n\nvar _SceneLightManager2 = _interopRequireDefault(_SceneLightManager);\n\nvar _Component2 = __webpack_require__(1);\n\nvar _Component3 = _interopRequireDefault(_Component2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar LightTypeComponentBase = function (_Component) {\n    _inherits(LightTypeComponentBase, _Component);\n\n    function LightTypeComponentBase() {\n        _classCallCheck(this, LightTypeComponentBase);\n\n        return _possibleConstructorReturn(this, (LightTypeComponentBase.__proto__ || Object.getPrototypeOf(LightTypeComponentBase)).apply(this, arguments));\n    }\n\n    _createClass(LightTypeComponentBase, [{\n        key: \"$mount\",\n        value: function $mount() {\n            this.__sceneLightManager = this.node.getComponentInAncestor(_SceneLightManager2.default);\n            var sceneDesc = this.__sceneLightManager.node.getComponent(_SceneComponent2.default).sceneDescription;\n            this.__lightDesc = sceneDesc.lights;\n            this.__sceneLightManager.addLight(this);\n        }\n    }, {\n        key: \"$unmount\",\n        value: function $unmount() {\n            this.__sceneLightManager.removeLight(this);\n        }\n    }, {\n        key: \"__ensureIndex\",\n        value: function __ensureIndex(lightParameters) {\n            var index = lightParameters.indicies.indexOf(this.id);\n            if (index >= 0) {\n                return index;\n            } else {\n                lightParameters.indicies.push(this.id);\n                return lightParameters.indicies.length - 1;\n            }\n        }\n    }]);\n\n    return LightTypeComponentBase;\n}(_Component3.default);\n\nexports.default = LightTypeComponentBase;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});exports.default=window.GrimoireJS.lib.fundamental.Components.SceneComponent;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Component2 = __webpack_require__(1);\n\nvar _Component3 = _interopRequireDefault(_Component2);\n\nvar _MaterialFactory = __webpack_require__(19);\n\nvar _MaterialFactory2 = _interopRequireDefault(_MaterialFactory);\n\nvar _MaterialContainerComponent = __webpack_require__(20);\n\nvar _MaterialContainerComponent2 = _interopRequireDefault(_MaterialContainerComponent);\n\nvar _Basic = __webpack_require__(21);\n\nvar _Basic2 = _interopRequireDefault(_Basic);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ForwardShadingManagerComponent = function (_Component) {\n    _inherits(ForwardShadingManagerComponent, _Component);\n\n    function ForwardShadingManagerComponent() {\n        _classCallCheck(this, ForwardShadingManagerComponent);\n\n        var _this = _possibleConstructorReturn(this, (ForwardShadingManagerComponent.__proto__ || Object.getPrototypeOf(ForwardShadingManagerComponent)).apply(this, arguments));\n\n        _this._sceneLightManagers = [];\n        return _this;\n    }\n\n    _createClass(ForwardShadingManagerComponent, [{\n        key: \"$awake\",\n        value: function $awake() {\n            this._macroRegistry = this.companion.get(\"MaterialFactory\").macro;\n            this._macroRegistry.setValue(\"DIR_LIGHT_COUNT\", \"0\");\n            this._macroRegistry.setValue(\"POINT_LIGHT_COUNT\", \"0\");\n            this._macroRegistry.setValue(\"SPOT_LIGHT_COUNT\", \"0\");\n            this._macroRegistry.setValue(\"SHADOW_MAP_COUNT\", \"0\");\n            _MaterialFactory2.default.addSORTMaterial(\"basic-shading\", _Basic2.default);\n            _MaterialContainerComponent2.default.rewriteDefaultMaterial(\"basic-shading\");\n        }\n    }, {\n        key: \"addSceneLightManager\",\n        value: function addSceneLightManager(s) {\n            this._sceneLightManagers.push(s);\n            this.updateLightCount();\n        }\n    }, {\n        key: \"removeSceneLightManager\",\n        value: function removeSceneLightManager(s) {\n            var o = this._sceneLightManagers.indexOf(s);\n            this._sceneLightManagers.splice(o, 1);\n            this.updateLightCount();\n        }\n    }, {\n        key: \"updateLightCount\",\n        value: function updateLightCount() {\n            var d = 0,\n                s = 0,\n                p = 0,\n                sm = 0;\n            for (var i = 0; i < this._sceneLightManagers.length; i++) {\n                var slm = this._sceneLightManagers[i];\n                d = Math.max(slm.lights.directional.length, d);\n                p = Math.max(slm.lights.point.length, p);\n                s = Math.max(slm.lights.spot.length, s);\n                sm = Math.max(slm.shadowMapCameras.length, sm);\n            }\n            this._macroRegistry.setValue(\"DIR_LIGHT_COUNT\", d + \"\");\n            this._macroRegistry.setValue(\"POINT_LIGHT_COUNT\", p + \"\");\n            this._macroRegistry.setValue(\"SPOT_LIGHT_COUNT\", s + \"\");\n            this._macroRegistry.setValue(\"SHADOW_MAP_COUNT\", sm + \"\");\n        }\n    }]);\n\n    return ForwardShadingManagerComponent;\n}(_Component3.default);\n\nexports.default = ForwardShadingManagerComponent;\n\nForwardShadingManagerComponent.attributes = {};\nForwardShadingManagerComponent._typeToMacros = {\n    point: \"POINT_LIGHT_COUNT\",\n    directional: \"DIR_LIGHT_COUNT\",\n    spot: \"SPOT_LIGHT_COUNT\"\n};\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _Matrix = __webpack_require__(24);\n\nvar _Matrix2 = _interopRequireDefault(_Matrix);\n\nvar _Vector = __webpack_require__(25);\n\nvar _Vector2 = _interopRequireDefault(_Vector);\n\nvar _SceneLightManager = __webpack_require__(0);\n\nvar _SceneLightManager2 = _interopRequireDefault(_SceneLightManager);\n\nvar _CameraComponent2 = __webpack_require__(26);\n\nvar _CameraComponent3 = _interopRequireDefault(_CameraComponent2);\n\nvar _AABB = __webpack_require__(27);\n\nvar _AABB2 = _interopRequireDefault(_AABB);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ShadowMapCameraComponent = function (_CameraComponent) {\n    _inherits(ShadowMapCameraComponent, _CameraComponent);\n\n    function ShadowMapCameraComponent() {\n        _classCallCheck(this, ShadowMapCameraComponent);\n\n        var _this = _possibleConstructorReturn(this, (ShadowMapCameraComponent.__proto__ || Object.getPrototypeOf(ShadowMapCameraComponent)).apply(this, arguments));\n\n        _this._sceneAABBCache = new _AABB2.default();\n        _this._vectorCache = new _Vector2.default(0, 0, 0);\n        return _this;\n    }\n\n    _createClass(ShadowMapCameraComponent, [{\n        key: \"$awake\",\n        value: function $awake() {\n            this.Near = 0.01;\n            this.Far = 50.0;\n            this.OrthographicMode = true;\n            this.OrthoSize = 30;\n            this.AutoAspect = false;\n            this.Aspect = 1.0;\n        }\n    }, {\n        key: \"$mount\",\n        value: function $mount() {\n            _get(ShadowMapCameraComponent.prototype.__proto__ || Object.getPrototypeOf(ShadowMapCameraComponent.prototype), \"$mount\", this).call(this);\n            var sm = this.containedScene.node.getComponent(_SceneLightManager2.default);\n            sm.addShadowMapCamera(this);\n        }\n    }, {\n        key: \"updateCamera\",\n        value: function updateCamera(sceneCamera) {\n            this._sceneAABBCache.clear();\n            var ipv = _Matrix2.default.inverse(sceneCamera.ProjectionViewMatrix);\n            for (var ix = 0; ix < 2; ix++) {\n                for (var iy = 0; iy < 2; iy++) {\n                    for (var iz = 0; iz < 2; iz++) {\n                        this._vectorCache.rawElements[0] = ix == 0 ? -1 : 1;\n                        this._vectorCache.rawElements[1] = iy == 0 ? -1 : 1;\n                        this._vectorCache.rawElements[2] = iz == 0 ? -1 : 1;\n                        this._sceneAABBCache.expand(_Matrix2.default.transformPoint(ipv, this._vectorCache));\n                    }\n                }\n            }\n            var diagonal = this._sceneAABBCache.pointLBF.subtractWith(this._sceneAABBCache.Center).magnitude;\n            //this.transform.localPosition = this._sceneAABBCache.Center.addWith(this.transform.forward.negateThis().multiplyWith(diagonal));\n        }\n    }, {\n        key: \"$unmount\",\n        value: function $unmount() {\n            var sm = this.containedScene.node.getComponent(_SceneLightManager2.default);\n            sm.removeShadowMapCamera(this);\n        }\n    }]);\n\n    return ShadowMapCameraComponent;\n}(_CameraComponent3.default);\n\nexports.default = ShadowMapCameraComponent;\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _LightTypeComponentBase = __webpack_require__(2);\n\nvar _LightTypeComponentBase2 = _interopRequireDefault(_LightTypeComponentBase);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar DirectionalLightTypeComponent = function (_LightTypeComponentBa) {\n    _inherits(DirectionalLightTypeComponent, _LightTypeComponentBa);\n\n    function DirectionalLightTypeComponent() {\n        _classCallCheck(this, DirectionalLightTypeComponent);\n\n        return _possibleConstructorReturn(this, (DirectionalLightTypeComponent.__proto__ || Object.getPrototypeOf(DirectionalLightTypeComponent)).apply(this, arguments));\n    }\n\n    _createClass(DirectionalLightTypeComponent, [{\n        key: \"$awake\",\n        value: function $awake() {\n            var _this2 = this;\n\n            this.lightType = \"directional\";\n            this.getAttributeRaw(\"color\").boundTo(\"_color\");\n            this.getAttributeRaw(\"intensity\").boundTo(\"_intensity\");\n            this.getAttributeRaw(\"shadow\").watch(function (v) {\n                return _this2._useShadowChanged(v);\n            }, true);\n            this._transform = this.node.getComponent(\"Transform\");\n        }\n    }, {\n        key: \"$update\",\n        value: function $update(args) {\n            var sceneDesc = args.sceneDescription;\n            var directionals = sceneDesc.lights.directional;\n            var index = this.__ensureIndex(directionals);\n            var d = this._transform.forward;\n            var p = this._transform.globalPosition;\n            directionals.directions.set(index, d.X, d.Y, d.Z);\n            var c = this._color;\n            directionals.colors.set(index, c.R * this._intensity, c.G * this._intensity, c.B * this._intensity);\n            directionals.params.set(index, this._shadowCamera ? this._shadowCamera.shadowMapIndex : -1, p.X, p.Y, p.Z);\n        }\n    }, {\n        key: \"_useShadowChanged\",\n        value: function _useShadowChanged(v) {\n            if (!v && this._shadowCamera) {\n                this._shadowCamera.dispose();\n                this._shadowCamera = null;\n            } else if (v) {\n                this._shadowCamera = this.node.addComponent(\"ShadowMapCamera\");\n            }\n        }\n    }]);\n\n    return DirectionalLightTypeComponent;\n}(_LightTypeComponentBase2.default);\n\nexports.default = DirectionalLightTypeComponent;\n\nDirectionalLightTypeComponent.attributes = {\n    color: {\n        converter: \"Color3\",\n        default: \"white\"\n    },\n    intensity: {\n        converter: \"Number\",\n        default: 1\n    },\n    shadow: {\n        converter: \"Boolean\",\n        default: false\n    }\n};\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports) {\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});exports.default=window.GrimoireJS.lib.math.Vector2;\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Component2 = __webpack_require__(1);\n\nvar _Component3 = _interopRequireDefault(_Component2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar LightComponent = function (_Component) {\n    _inherits(LightComponent, _Component);\n\n    function LightComponent() {\n        _classCallCheck(this, LightComponent);\n\n        return _possibleConstructorReturn(this, (LightComponent.__proto__ || Object.getPrototypeOf(LightComponent)).apply(this, arguments));\n    }\n\n    _createClass(LightComponent, [{\n        key: \"$awake\",\n        value: function $awake() {\n            var _this2 = this;\n\n            this.getAttributeRaw(\"type\").watch(function (v) {\n                return _this2._onLightTypeChanged(v);\n            }, true);\n        }\n        /**\n         * Called when the light type was changed\n         * @param {string} type [description]\n         */\n\n    }, {\n        key: \"_onLightTypeChanged\",\n        value: function _onLightTypeChanged(type) {\n            type = type.toLowerCase();\n            // check if the light type was changed actually.\n            if (type === this._lastLightType) {\n                return;\n            } else {\n                this._lastLightType = type;\n            }\n            this._removeLastTypeComponent();\n            this._addLightTypeComponent(type);\n        }\n    }, {\n        key: \"_addLightTypeComponent\",\n        value: function _addLightTypeComponent(type) {\n            switch (type) {\n                case \"directional\":\n                    this._lightTypeComponent = this.node.addComponent(\"DirectionalLightType\", {}, true);\n                    break;\n                case \"point\":\n                    this._lightTypeComponent = this.node.addComponent(\"PointLightType\", {}, true);\n                    break;\n                case \"spot\":\n                    this._lightTypeComponent = this.node.addComponent(\"SpotLightType\", {}, true);\n                    break;\n            }\n        }\n    }, {\n        key: \"_removeLastTypeComponent\",\n        value: function _removeLastTypeComponent() {\n            if (this._lightTypeComponent) {\n                this._lightTypeComponent.dispose();\n            }\n        }\n    }]);\n\n    return LightComponent;\n}(_Component3.default);\n\nexports.default = LightComponent;\n\nLightComponent.attributes = {\n    type: {\n        converter: \"String\",\n        default: \"Directional\"\n    }\n};\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _LightTypeComponentBase = __webpack_require__(2);\n\nvar _LightTypeComponentBase2 = _interopRequireDefault(_LightTypeComponentBase);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar PointLightTypeComponent = function (_LightTypeComponentBa) {\n    _inherits(PointLightTypeComponent, _LightTypeComponentBa);\n\n    function PointLightTypeComponent() {\n        _classCallCheck(this, PointLightTypeComponent);\n\n        return _possibleConstructorReturn(this, (PointLightTypeComponent.__proto__ || Object.getPrototypeOf(PointLightTypeComponent)).apply(this, arguments));\n    }\n\n    _createClass(PointLightTypeComponent, [{\n        key: \"$awake\",\n        value: function $awake() {\n            this.lightType = \"point\";\n            this.getAttributeRaw(\"color\").boundTo(\"_color\");\n            this._transform = this.node.getComponent(\"Transform\");\n            this.getAttributeRaw(\"distance\").boundTo(\"_distance\");\n            this.getAttributeRaw(\"decay\").boundTo(\"_decay\");\n            this.getAttributeRaw(\"intensity\").boundTo(\"_intensity\");\n        }\n    }, {\n        key: \"$update\",\n        value: function $update(args) {\n            var sceneDesc = args.sceneDescription;\n            var points = sceneDesc.lights.point;\n            var index = this.__ensureIndex(points);\n            var pos = this._transform.globalPosition;\n            points.positions.set(index, pos.X, pos.Y, pos.Z);\n            points.colors.set(index, this._color.R * this._intensity, this._color.G * this._intensity, this._color.B * this._intensity);\n            points.params.set(index, this._distance, this._decay);\n        }\n    }]);\n\n    return PointLightTypeComponent;\n}(_LightTypeComponentBase2.default);\n\nexports.default = PointLightTypeComponent;\n\nPointLightTypeComponent.attributes = {\n    color: {\n        converter: \"Color3\",\n        default: \"white\"\n    },\n    distance: {\n        converter: \"Number\",\n        default: 5.0\n    },\n    decay: {\n        converter: \"Number\",\n        default: 2.0\n    },\n    intensity: {\n        converter: \"Number\",\n        default: 1\n    }\n};\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _SceneLightManager = __webpack_require__(0);\n\nvar _SceneLightManager2 = _interopRequireDefault(_SceneLightManager);\n\nvar _Component2 = __webpack_require__(1);\n\nvar _Component3 = _interopRequireDefault(_Component2);\n\nvar _RenderSceneComponent = __webpack_require__(23);\n\nvar _RenderSceneComponent2 = _interopRequireDefault(_RenderSceneComponent);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar RenderShadowMapComponent = function (_Component) {\n    _inherits(RenderShadowMapComponent, _Component);\n\n    function RenderShadowMapComponent() {\n        _classCallCheck(this, RenderShadowMapComponent);\n\n        return _possibleConstructorReturn(this, (RenderShadowMapComponent.__proto__ || Object.getPrototypeOf(RenderShadowMapComponent)).apply(this, arguments));\n    }\n\n    _createClass(RenderShadowMapComponent, [{\n        key: \"$mount\",\n        value: function $mount() {\n            this._renderSceneComponent = this.node.getComponent(_RenderSceneComponent2.default);\n            if (!this._renderSceneComponent) {\n                throw new Error(\"There was no RenderScene component found on the node attached RenderShadowMapComponent\");\n            }\n            this._gl = this.companion.get(\"gl\");\n        }\n    }, {\n        key: \"$render\",\n        value: function $render(args) {\n            var _this2 = this;\n\n            var sceneCamera = this._renderSceneComponent.camera ? this._renderSceneComponent.camera : args.camera;\n            var slm = sceneCamera.containedScene.node.getComponent(_SceneLightManager2.default);\n            if (slm.shadowMapCameras.length === 0) {\n                return;\n            }\n            slm.shadowMapFBO.bind();\n            this._gl.clearColor(0, 0, 0, 0);\n            this._gl.clearDepth(1);\n            this._gl.clear(WebGLRenderingContext.COLOR_BUFFER_BIT | WebGLRenderingContext.DEPTH_BUFFER_BIT);\n            slm.updateLightMatricies(sceneCamera);\n            slm.shadowMapCameras.forEach(function (v) {\n                slm.viewportByShadowmapIndex(v.shadowMapIndex);\n                v.updateContainedScene(args.timer);\n                v.renderScene({\n                    camera: v,\n                    buffers: null,\n                    layer: \"default\",\n                    viewport: args.viewport,\n                    technique: \"depth\",\n                    renderer: _this2._renderSceneComponent,\n                    sceneDescription: {},\n                    timer: args.timer\n                });\n            });\n            this._gl.flush();\n            this._gl.bindFramebuffer(WebGLRenderingContext.FRAMEBUFFER, null);\n        }\n    }]);\n\n    return RenderShadowMapComponent;\n}(_Component3.default);\n\nexports.default = RenderShadowMapComponent;\n\nRenderShadowMapComponent.attributes = {};\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _ShadowMapCameraComponent = __webpack_require__(5);\n\nvar _ShadowMapCameraComponent2 = _interopRequireDefault(_ShadowMapCameraComponent);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar SpotLightShadowMapCameraComponent = function (_ShadowMapCameraCompo) {\n    _inherits(SpotLightShadowMapCameraComponent, _ShadowMapCameraCompo);\n\n    function SpotLightShadowMapCameraComponent() {\n        _classCallCheck(this, SpotLightShadowMapCameraComponent);\n\n        return _possibleConstructorReturn(this, (SpotLightShadowMapCameraComponent.__proto__ || Object.getPrototypeOf(SpotLightShadowMapCameraComponent)).apply(this, arguments));\n    }\n\n    _createClass(SpotLightShadowMapCameraComponent, [{\n        key: \"$awake\",\n        value: function $awake() {\n            _get(SpotLightShadowMapCameraComponent.prototype.__proto__ || Object.getPrototypeOf(SpotLightShadowMapCameraComponent.prototype), \"$awake\", this).call(this);\n            this.OrthographicMode = false;\n        }\n    }]);\n\n    return SpotLightShadowMapCameraComponent;\n}(_ShadowMapCameraComponent2.default);\n\nexports.default = SpotLightShadowMapCameraComponent;\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _LightTypeComponentBase = __webpack_require__(2);\n\nvar _LightTypeComponentBase2 = _interopRequireDefault(_LightTypeComponentBase);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar SpotLightTypeComponent = function (_LightTypeComponentBa) {\n    _inherits(SpotLightTypeComponent, _LightTypeComponentBa);\n\n    function SpotLightTypeComponent() {\n        _classCallCheck(this, SpotLightTypeComponent);\n\n        return _possibleConstructorReturn(this, (SpotLightTypeComponent.__proto__ || Object.getPrototypeOf(SpotLightTypeComponent)).apply(this, arguments));\n    }\n\n    _createClass(SpotLightTypeComponent, [{\n        key: \"$awake\",\n        value: function $awake() {\n            var _this2 = this;\n\n            this.lightType = \"spot\";\n            this.getAttributeRaw(\"color\").boundTo(\"_color\");\n            this._transform = this.node.getComponent(\"Transform\");\n            this.getAttributeRaw(\"innerCone\").boundTo(\"_innerCone\");\n            this.getAttributeRaw(\"outerCone\").boundTo(\"_outerCone\");\n            this.getAttributeRaw(\"decay\").boundTo(\"_decay\");\n            this.getAttributeRaw(\"intensity\").boundTo(\"_intensity\");\n            this.getAttributeRaw(\"shadow\").watch(function (v) {\n                return _this2._useShadowChanged(v);\n            }, true);\n        }\n    }, {\n        key: \"$update\",\n        value: function $update(args) {\n            var sceneDesc = args.sceneDescription;\n            var spots = sceneDesc.lights.spot;\n            var index = this.__ensureIndex(spots);\n            var pos = this._transform.globalPosition;\n            var dir = this._transform.up.negateThis();\n            spots.positions.set(index, pos.X, pos.Y, pos.Z);\n            spots.colors.set(index, this._color.R * this._intensity, this._color.G * this._intensity, this._color.B * this._intensity);\n            spots.directions.set(index, dir.X, dir.Y, dir.Z);\n            spots.params.set(index, this._innerCone, this._outerCone, this._decay, this._shadowCamera ? this._shadowCamera.shadowMapIndex : -1);\n        }\n    }, {\n        key: \"_useShadowChanged\",\n        value: function _useShadowChanged(v) {\n            if (!v && this._shadowCamera) {\n                this._shadowCamera.dispose();\n                this._shadowCamera = null;\n            } else if (v) {\n                this._shadowCamera = this.node.addComponent(\"SpotLightShadowMapCamera\");\n            }\n        }\n    }]);\n\n    return SpotLightTypeComponent;\n}(_LightTypeComponentBase2.default);\n\nexports.default = SpotLightTypeComponent;\n\nSpotLightTypeComponent.attributes = {\n    color: {\n        converter: \"Color3\",\n        default: \"white\"\n    },\n    innerCone: {\n        converter: \"Angle2D\",\n        default: \"5d\"\n    },\n    outerCone: {\n        converter: \"Angle2D\",\n        default: \"20d\"\n    },\n    decay: {\n        converter: \"Number\",\n        default: 1\n    },\n    intensity: {\n        converter: \"Number\",\n        default: 1\n    },\n    shadow: {\n        converter: \"Boolean\",\n        default: false\n    }\n};\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _ImportResolver = __webpack_require__(28);\n\nvar _ImportResolver2 = _interopRequireDefault(_ImportResolver);\n\nvar _UniformResolverRegistry = __webpack_require__(29);\n\nvar _UniformResolverRegistry2 = _interopRequireDefault(_UniformResolverRegistry);\n\nvar _ShadingChunk = __webpack_require__(30);\n\nvar _ShadingChunk2 = _interopRequireDefault(_ShadingChunk);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar LightVariableRegister = function () {\n    function LightVariableRegister() {\n        _classCallCheck(this, LightVariableRegister);\n    }\n\n    _createClass(LightVariableRegister, null, [{\n        key: \"registerAll\",\n        value: function registerAll() {\n            _ImportResolver2.default.staticImports[\"forward-shading\"] = _ShadingChunk2.default;\n            this._registerLightVariable(\"DIRECTIONAL_LIGHT_DIRECTIONS\", function (n, p, i) {\n                return p.uniformVector3Array(n, i.lights.directional.directions.elements);\n            });\n            this._registerLightVariable(\"DIRECTIONAL_LIGHT_COLORS\", function (n, p, i) {\n                return p.uniformVector3Array(n, i.lights.directional.colors.elements);\n            });\n            this._registerLightVariable(\"DIRECTIONAL_LIGHT_PARAMS\", function (n, p, i) {\n                return p.uniformVector4Array(n, i.lights.directional.params.elements);\n            });\n            this._registerLightVariable(\"POINT_LIGHT_POSITIONS\", function (n, p, i) {\n                return p.uniformVector3Array(n, i.lights.point.positions.elements);\n            });\n            this._registerLightVariable(\"POINT_LIGHT_COLORS\", function (n, p, i) {\n                return p.uniformVector3Array(n, i.lights.point.colors.elements);\n            });\n            this._registerLightVariable(\"POINT_LIGHT_PARAMS\", function (n, p, i) {\n                return p.uniformVector2Array(n, i.lights.point.params.elements);\n            });\n            this._registerLightVariable(\"SPOT_LIGHT_POSITIONS\", function (n, p, i) {\n                return p.uniformVector3Array(n, i.lights.spot.positions.elements);\n            });\n            this._registerLightVariable(\"SPOT_LIGHT_COLORS\", function (n, p, i) {\n                return p.uniformVector3Array(n, i.lights.spot.colors.elements);\n            });\n            this._registerLightVariable(\"SPOT_LIGHT_DIRECTIONS\", function (n, p, i) {\n                return p.uniformVector3Array(n, i.lights.spot.directions.elements);\n            });\n            this._registerLightVariable(\"SPOT_LIGHT_PARAMS\", function (n, p, i) {\n                return p.uniformVector4Array(n, i.lights.spot.params.elements);\n            });\n            this._registerLightVariable(\"SHADOW_MATRICES\", function (n, p, i) {\n                return p.uniformTexture2D(n, i.lights.shadowMap.lightMatrices);\n            });\n            this._registerLightVariable(\"SHADOW_MATRICES_COUNT\", function (n, p, i) {\n                return p.uniformFloat(n, i.lights.shadowMap.count);\n            });\n            this._registerLightVariable(\"SHADOW_MAP_TEXTURE\", function (n, p, i) {\n                return p.uniformTexture2D(n, i.lights.shadowMap.shadowMap);\n            });\n            this._registerLightVariable(\"SHADOW_MAP_ELEMENT_COUNT\", function (n, p, i) {\n                return p.uniformVector2(n, i.lights.shadowMap.shadowMapCountPerEdge);\n            });\n            this._registerLightVariable(\"SHADOW_MAP_PIXEL_SIZE\", function (n, p, i) {\n                return p.uniformFloat(n, i.lights.shadowMap.pixelSize);\n            });\n        }\n    }, {\n        key: \"_registerLightVariable\",\n        value: function _registerLightVariable(semantic, register) {\n            _UniformResolverRegistry2.default.add(semantic, function (valInfo) {\n                return function (proxy, args) {\n                    register(valInfo.name, proxy, args.sceneDescription);\n                };\n            });\n        }\n    }]);\n\n    return LightVariableRegister;\n}();\n\nexports.default = LightVariableRegister;\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar VectorArrayContainer = function () {\n    function VectorArrayContainer(size, length) {\n        _classCallCheck(this, VectorArrayContainer);\n\n        this.size = size;\n        this.length = length;\n        this.resize(size, length);\n    }\n\n    _createClass(VectorArrayContainer, [{\n        key: \"resize\",\n        value: function resize(size, length) {\n            this.elements = new Float32Array(size * length);\n            this.size = size;\n            this.length = length;\n        }\n    }, {\n        key: \"set\",\n        value: function set(index, x, y, z, w) {\n            var i = this.size * index;\n            this.elements[i + 0] = x;\n            if (y !== void 0) {\n                this.elements[i + 1] = y;\n                if (z !== void 0) {\n                    this.elements[i + 2] = z;\n                    if (w !== void 0) {\n                        this.elements[i + 3] = w;\n                    }\n                }\n            }\n        }\n    }, {\n        key: \"incrementLength\",\n        value: function incrementLength() {\n            this.resize(this.size, this.length + 1);\n        }\n    }, {\n        key: \"decrementLength\",\n        value: function decrementLength() {\n            this.resize(this.size, this.length - 1);\n        }\n    }]);\n\n    return VectorArrayContainer;\n}();\n\nexports.default = VectorArrayContainer;\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports) {\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});exports.default=window.GrimoireJS;\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _DirectionalLightTypeComponent = __webpack_require__(6);\n\nvar _DirectionalLightTypeComponent2 = _interopRequireDefault(_DirectionalLightTypeComponent);\n\nvar _ForwardShadingManagerComponent = __webpack_require__(4);\n\nvar _ForwardShadingManagerComponent2 = _interopRequireDefault(_ForwardShadingManagerComponent);\n\nvar _LightComponent = __webpack_require__(8);\n\nvar _LightComponent2 = _interopRequireDefault(_LightComponent);\n\nvar _LightTypeComponentBase = __webpack_require__(2);\n\nvar _LightTypeComponentBase2 = _interopRequireDefault(_LightTypeComponentBase);\n\nvar _PointLightTypeComponent = __webpack_require__(9);\n\nvar _PointLightTypeComponent2 = _interopRequireDefault(_PointLightTypeComponent);\n\nvar _RenderShadowMapComponent = __webpack_require__(10);\n\nvar _RenderShadowMapComponent2 = _interopRequireDefault(_RenderShadowMapComponent);\n\nvar _SceneLightManager = __webpack_require__(0);\n\nvar _SceneLightManager2 = _interopRequireDefault(_SceneLightManager);\n\nvar _ShadowMapCameraComponent = __webpack_require__(5);\n\nvar _ShadowMapCameraComponent2 = _interopRequireDefault(_ShadowMapCameraComponent);\n\nvar _SpotLightShadowMapCameraComponent = __webpack_require__(11);\n\nvar _SpotLightShadowMapCameraComponent2 = _interopRequireDefault(_SpotLightShadowMapCameraComponent);\n\nvar _SpotLightTypeComponent = __webpack_require__(12);\n\nvar _SpotLightTypeComponent2 = _interopRequireDefault(_SpotLightTypeComponent);\n\nvar _LightVariableRegister = __webpack_require__(13);\n\nvar _LightVariableRegister2 = _interopRequireDefault(_LightVariableRegister);\n\nvar _VectorArrayContainer = __webpack_require__(14);\n\nvar _VectorArrayContainer2 = _interopRequireDefault(_VectorArrayContainer);\n\nvar _main = __webpack_require__(31);\n\nvar _main2 = _interopRequireDefault(_main);\n\nvar _grimoirejs = __webpack_require__(15);\n\nvar _grimoirejs2 = _interopRequireDefault(_grimoirejs);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar __VERSION__ = \"1.7.3\";\nvar __NAME__ = \"grimoirejs-forward-shading\";\n\nvar __EXPOSE__ = {\n    \"Components\": {\n        \"DirectionalLightTypeComponent\": _DirectionalLightTypeComponent2.default,\n        \"ForwardShadingManagerComponent\": _ForwardShadingManagerComponent2.default,\n        \"LightComponent\": _LightComponent2.default,\n        \"LightTypeComponentBase\": _LightTypeComponentBase2.default,\n        \"PointLightTypeComponent\": _PointLightTypeComponent2.default,\n        \"RenderShadowMapComponent\": _RenderShadowMapComponent2.default,\n        \"SceneLightManager\": _SceneLightManager2.default,\n        \"ShadowMapCameraComponent\": _ShadowMapCameraComponent2.default,\n        \"SpotLightShadowMapCameraComponent\": _SpotLightShadowMapCameraComponent2.default,\n        \"SpotLightTypeComponent\": _SpotLightTypeComponent2.default\n    },\n    \"Util\": {\n        \"LightVariableRegister\": _LightVariableRegister2.default,\n        \"VectorArrayContainer\": _VectorArrayContainer2.default\n    }\n};\n\n_grimoirejs2.default.notifyRegisteringPlugin(__NAME__);\nvar __BASE__ = (0, _main2.default)();\nObject.assign(__EXPOSE__, {\n    __VERSION__: __VERSION__,\n    __NAME__: __NAME__\n});\nObject.assign(__BASE__ || {}, __EXPOSE__);\nwindow[\"GrimoireJS\"].lib.forward_shading = __EXPOSE__;\nexports.default = __BASE__;\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports) {\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});exports.default=window.GrimoireJS.lib.fundamental.Resource.FrameBuffer;\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports) {\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});exports.default=window.GrimoireJS.lib.fundamental.Resource.Texture2D;\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports) {\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});exports.default=window.GrimoireJS.lib.fundamental.Material.MaterialFactory;\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports) {\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});exports.default=window.GrimoireJS.lib.fundamental.Components.MaterialContainerComponent;\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"@Technique default{\\n@Pass{\\n@BlendFunc(SRC_ALPHA,ONE_MINUS_SRC_ALPHA)\\nFS_PREC(mediump,float)\\n\\nvarying vec3 vNormal;\\nvarying vec2 vTexCoord;\\nvarying vec4 vPosition;\\n\\n#ifdef ATTRIBUTE_COLOR_ENABLED\\nvarying vec4 vColor;\\n#endif\\n\\n#ifdef VS\\n  attribute vec3 position;\\n  attribute vec3 normal;\\n  #ifdef ATTRIBUTE_TEXCOORD_ENABLED\\n  attribute vec2 texCoord;\\n  #endif\\n  #ifdef ATTRIBUTE_COLOR_ENABLED\\n  @COLOR\\n  attribute vec4 color;\\n  #endif\\n\\n  uniform mat4 _matPVM;\\n  uniform mat4 _matM;\\n\\n  void main(){\\n    gl_Position = _matPVM * vec4(position,1.0);\\n    vNormal = normalize((_matM * vec4(normal,0.0)).xyz);\\n    vPosition = (_matM * vec4(position,1.0));\\n    #ifndef ATTRIBUTE_TEXCOORD_ENABLED\\n    vTexCoord = position.xy / 2.0 + vec2(0.5);\\n    #endif\\n    #ifdef ATTRIBUTE_TEXCOORD_ENABLED\\n    vTexCoord = texCoord;\\n    #endif\\n    #ifdef ATTRIBUTE_COLOR_ENABLED\\n    vColor = color;\\n    #endif\\n  }\\n#endif\\n\\n#ifdef FS\\n  @CAMERA_POSITION\\n  uniform vec3 _cameraPosition;\\n  @{flag:\\\"USE_TEXTURE\\\"}\\n  uniform sampler2D texture;\\n  @{flag:\\\"USE_ROUGHNESS_TEXTURE\\\"}\\n  uniform sampler2D roughnessMap;\\n\\n  @{default:\\\"white\\\",type:\\\"color\\\"}\\n  uniform vec4 albedo;\\n\\n  @{default:1.0}\\n  uniform float roughness;\\n\\n  @{default:0.99}\\n  uniform float metalic;\\n\\n  @{default:\\\"black\\\",type:\\\"color\\\"}\\n  uniform vec3 emission;\\n\\n  @import \\\"forward-shading\\\"\\n\\n\\n\\n  void main(){\\n    vec3 dBaseColor = albedo.rgb;\\n    vec4 lastColor = vec4(0,0,0,albedo.a);\\n    #ifdef ATTRIBUTE_COLOR_ENABLED\\n    dBaseColor *= vColor.rgb;\\n    #endif\\n    #ifdef USE_TEXTURE\\n      vec4 texColor = texture2D(texture,vTexCoord);\\n      dBaseColor = pow(texColor.rgb,vec3(2.2));\\n      lastColor.a *= texColor.a;\\n    #endif\\n    float r = roughness;\\n    #ifdef USE_ROUGHNESS_TEXTURE\\n      r *= texture2D(roughnessMap,vTexCoord).r;\\n    #endif\\n    vec3 dielectricSpecular = vec3(0.04);\\n    vec3 diffuse = mix(dBaseColor.rgb * (1. - dielectricSpecular.r),vec3(0),metalic);\\n    vec3 f0 = mix(dielectricSpecular,dBaseColor.rgb,metalic);\\n    pbr_params param = pbr_params(diffuse,f0,roughness*roughness,roughness);\\n    lastColor.rgb += emission + shading(param,vNormal,vPosition.xyz/vPosition.w);\\n    gl_FragColor.rgb = pow(lastColor.rgb,vec3(1.0/2.2)); // Gamma correction\\n    gl_FragColor.a = albedo.a;\\n    #ifdef ATTRIBUTE_COLOR_ENABLED\\n    gl_FragColor.a *= vColor.a;\\n    #endif\\n  }\\n#endif\\n}\\n}\\n\\n@Technique hitarea{\\n  @Disable(BLEND)\\n  @Pass{\\n    FS_PREC(mediump,float)\\n\\n    #ifdef VS\\n      attribute vec3 position;\\n      uniform mat4 _matPVM;\\n\\n      void main(){\\n        gl_Position = _matPVM * vec4(position,1.0);\\n      }\\n    #endif\\n\\n    #ifdef FS\\n      @MESH_INDEX\\n      uniform vec4 meshIndex;\\n      void main(){\\n        gl_FragColor = meshIndex;\\n      }\\n    #endif\\n  }\\n}\\n\\n@Technique depth{\\n  @Pass{\\n    @CullFace(FRONT)\\n  FS_PREC(highp,float)\\n\\n  varying vec4 vPos;\\n\\n  vec3 EncodeFloatRGB( float v ) {\\n    vec3 enc = vec3(1.0, 255.0, 65025.0) * v;\\n    enc = fract(enc);\\n    enc -= enc.yzz * vec3(1.0/255.0,1.0/255.0,0.0);\\n    return enc;\\n  }\\n\\n  float DecodeFloatRGB( vec3 rgb ) {\\n    return dot( rgb, vec3(1.0, 1./255.0, 1./65025.0) );\\n  }\\n\\n  #ifdef VS\\n    attribute vec3 position;\\n    uniform mat4 _matPVM;\\n    void main(){\\n      gl_Position = vPos= _matPVM * vec4(position,1.0);\\n    }\\n  #endif\\n\\n  #ifdef FS\\n    void main(){\\n      gl_FragColor.rgb = EncodeFloatRGB((vPos.z/vPos.w + 1.0)/2.0);\\n      gl_FragColor.a = 1.0;\\n    }\\n  #endif\\n  }\\n}\\n\"\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports) {\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});exports.default=window.GrimoireJS.lib.fundamental.Resource.RenderBuffer;\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports) {\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});exports.default=window.GrimoireJS.lib.fundamental.Components.RenderSceneComponent;\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports) {\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});exports.default=window.GrimoireJS.lib.math.Matrix;\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports) {\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});exports.default=window.GrimoireJS.lib.math.Vector3;\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports) {\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});exports.default=window.GrimoireJS.lib.fundamental.Components.CameraComponent;\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports) {\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});exports.default=window.GrimoireJS.lib.math.AABB;\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports) {\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});exports.default=window.GrimoireJS.lib.fundamental.Sort.ImportResolver;\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports) {\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});exports.default=window.GrimoireJS.lib.fundamental.Material.UniformResolverRegistry;\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"#define GR_FORWARD_SHADING_ENABLED\\n@ReferMacro(DIR_LIGHT_COUNT,0)\\n@ReferMacro(POINT_LIGHT_COUNT,0)\\n@ReferMacro(SPOT_LIGHT_COUNT,0)\\n@ReferMacro(SHADOW_MAP_COUNT,0)\\n@ReferMacro(OES_TEXTURE_FLOAT,)\\n\\n#if DIR_LIGHT_COUNT > 0\\n  #define USE_DIR_LIGHT\\n#endif\\n\\n#if POINT_LIGHT_COUNT > 0\\n  #define USE_POINT_LIGHT\\n#endif\\n\\n#if SPOT_LIGHT_COUNT > 0\\n  #define USE_SPOT_LIGHT\\n#endif\\n\\n#if SHADOW_MAP_COUNT > 0\\n  #define USE_SHADOW_MAP\\n#endif\\n\\n#ifdef USE_DIR_LIGHT\\n  @DIRECTIONAL_LIGHT_DIRECTIONS\\n  uniform vec3 _dLightDir[DIR_LIGHT_COUNT];\\n\\n  @DIRECTIONAL_LIGHT_COLORS\\n  uniform vec3 _dLightColor[DIR_LIGHT_COUNT];\\n\\n  @DIRECTIONAL_LIGHT_PARAMS\\n  uniform vec4 _dLightParams[DIR_LIGHT_COUNT];\\n#endif\\n\\n#ifdef USE_POINT_LIGHT\\n\\n  @POINT_LIGHT_POSITIONS\\n  uniform vec3 _pLightPosition[POINT_LIGHT_COUNT];\\n\\n  @POINT_LIGHT_COLORS\\n  uniform vec3 _pLightColor[POINT_LIGHT_COUNT];\\n\\n  @POINT_LIGHT_PARAMS\\n  uniform vec2 _pLightParam[POINT_LIGHT_COUNT];\\n\\n#endif\\n\\n#ifdef USE_SPOT_LIGHT\\n\\n  @SPOT_LIGHT_POSITIONS\\n  uniform vec3 _sLightPosition[SPOT_LIGHT_COUNT];\\n\\n  @SPOT_LIGHT_DIRECTIONS\\n  uniform vec3 _sLightDir[SPOT_LIGHT_COUNT];\\n\\n  @SPOT_LIGHT_COLORS\\n  uniform vec3 _sLightColor[SPOT_LIGHT_COUNT];\\n\\n  @SPOT_LIGHT_PARAMS\\n  uniform vec4 _sLightParam[SPOT_LIGHT_COUNT];\\n#endif\\n\\n#ifdef USE_SHADOW_MAP\\n  @SHADOW_MAP_ELEMENT_COUNT\\n  uniform vec2 _shadowMapElementCount;\\n\\n  @SHADOW_MAP_PIXEL_SIZE\\n  uniform float _shadowMapPixelSize;\\n\\n  @SHADOW_MATRICES\\n  uniform sampler2D _lightMatrices;\\n\\n  @SHADOW_MATRICES_COUNT\\n  uniform float _lightMatricesCount;\\n\\n  @SHADOW_MAP_TEXTURE\\n  uniform sampler2D _shadowMapTexture;\\n\\n  @{default:0.01}\\n  uniform float shadowBias;\\n\\n  highp float decodeFloatRGB( vec3 rgb ) {\\n    return dot( rgb, vec3(1.0, 1./255.0, 1./65025.0) );\\n  }\\n#endif\\n\\n// Define simple shading params\\nstruct pbr_params{\\n    vec3 diffuseColor;\\n    vec3 f0;\\n    float alpha;\\n    float roughness;\\n};\\nfloat lambert(vec3 lightDirection,vec3 surfaceNormal) {\\n  return max(0.0, dot(lightDirection, surfaceNormal));\\n}\\n\\nfloat ctd_GGX_Distribution(pbr_params param,vec3 l,vec3 v,vec3 n,vec3 h){\\n  float alpha2 = pow(param.alpha,2.0);\\n  float nh2 = pow(dot(n,h),2.0);\\n  return alpha2/(PI*pow(nh2*(alpha2 - 1.0) + 1.0,2.0));\\n}\\n\\nfloat ctg_GGX_SingleGeometryTerm(pbr_params param,vec3 n,vec3 v){\\n  float d = dot(n,v);\\n  return 2.*d /(d + sqrt(d*d + param.alpha*param.alpha*(1. - d*d)));\\n}\\n\\nvec3 ctf_Schlick(pbr_params param,vec3 l,vec3 v,vec3 n,vec3 h){\\n  vec3 f0 = param.f0;\\n  float vh = dot(v,n);\\n  return f0 + pow(1.0-vh,5.0) * (vec3(1.0) - f0);\\n}\\n\\nvec3 cookTorranceBRDF(pbr_params param,vec3 l,vec3 v,vec3 n){\\n  vec3 h = normalize(l+v);\\n  return  ctf_Schlick(param,l,v,n,h) * ctd_GGX_Distribution(param,l,v,n,h) * ctg_GGX_SingleGeometryTerm(param,n,l) * ctg_GGX_SingleGeometryTerm(param,n,v)/(4.0 * dot(l,n) * dot(v,n));\\n}\\n\\nvec3 BRDF(pbr_params params,vec3 li,vec3 lo,vec3 n){\\n  return min(vec3(1.0),params.diffuseColor/PI + cookTorranceBRDF(params,li,lo,n));\\n}\\n#ifdef USE_DIR_LIGHT\\n\\n#ifdef USE_SHADOW_MAP\\n\\n  bool isUVRegion(vec2 uv){\\n    return all(bvec4(greaterThan(uv,vec2(0,0)),lessThan(uv,vec2(1,1))));\\n  }\\n\\n  vec2 correctUV(vec2 uv,float index){\\n    float i = fract(index / _shadowMapElementCount.x) * _shadowMapElementCount.x;\\n    float j = (index - i) / _shadowMapElementCount.x;\\n    return vec2((i + uv.x)/_shadowMapElementCount.x,(j + uv.y)/_shadowMapElementCount.y);\\n  }\\n\\n  float shadowCoefficient(vec3 fragPosition,highp mat4 lightMatrix,float index){\\n    highp vec4 lPos = lightMatrix * vec4(fragPosition,1.0);\\n    if(any(bvec2(lPos.z/lPos.w > 1.0,lPos.z/lPos.w < -1.0))){\\n      return 1.0;\\n    }\\n    vec2 bUV = lPos.xy / lPos.w / 2.0 + vec2(0.5);\\n    highp float od = (lPos.z/lPos.w + 1.0)/2.0;\\n    float fill = 0.0;\\n    float N = 0.;\\n    // PCF sampling\\n    vec2 lUV = bUV;\\n    if(isUVRegion(lUV)){\\n      highp float d = decodeFloatRGB(texture2D(_shadowMapTexture,correctUV(lUV,index)).rgb);\\n      fill += step(shadowBias,od-d);\\n      N++;\\n    }\\n    lUV = bUV + vec2(_shadowMapPixelSize,0);\\n    if(isUVRegion(lUV)){\\n      highp float d = decodeFloatRGB(texture2D(_shadowMapTexture,correctUV(lUV,index)).rgb);\\n      fill += step(shadowBias,od-d);\\n      N++;\\n    }\\n    lUV = bUV + vec2(-_shadowMapPixelSize,0);\\n    if(isUVRegion(lUV)){\\n      highp float d = decodeFloatRGB(texture2D(_shadowMapTexture,correctUV(lUV,index)).rgb);\\n      fill += step(shadowBias,od-d);\\n      N++;\\n    }\\n    lUV = bUV + vec2(0,_shadowMapPixelSize);\\n    if(isUVRegion(lUV)){\\n      highp float d = decodeFloatRGB(texture2D(_shadowMapTexture,correctUV(lUV,index)).rgb);\\n      fill += step(shadowBias,od-d);\\n      N++;\\n    }\\n    lUV = bUV + vec2(0,-_shadowMapPixelSize);\\n    if(isUVRegion(lUV)){\\n      highp float d = decodeFloatRGB(texture2D(_shadowMapTexture,correctUV(lUV,index)).rgb);\\n      fill += step(shadowBias,od-d);\\n      N++;\\n    }\\n    if(N > 4.0){\\n      return 1.0 - fill/N;\\n    }\\n    return 1.0;\\n  }\\n\\n  highp vec4 fromLightMatrices(vec2 uv){\\n    return texture2D(_lightMatrices,uv);\\n  }\\n\\n  highp mat4 fetchLightMatrix(float index){\\n    float y = 1.0 / _lightMatricesCount * (index  + 0.5);\\n    return mat4(\\n      fromLightMatrices(vec2(0.125,y)),\\n      fromLightMatrices(vec2(0.375,y)),\\n      fromLightMatrices(vec2(0.625,y)),\\n      fromLightMatrices(vec2(0.875,y))\\n      );\\n  }\\n#endif\\n\\n  vec3 directionalLight(pbr_params param,vec3 fragNormal,vec3 fragPosition){\\n    vec3 result = vec3(0,0,0);\\n    for(int i = 0; i < DIR_LIGHT_COUNT;i++){\\n      vec3 lI = lambert(fragNormal,-_dLightDir[i]) * _dLightColor[i];\\n      float sc = 1.0;\\n      #ifdef USE_SHADOW_MAP // Shadowmap Calculations\\n        if(_dLightParams[i].x >= 0.0){\\n          highp mat4 lMat = fetchLightMatrix(_dLightParams[i].x);\\n          sc = shadowCoefficient(fragPosition,lMat,_dLightParams[i].x);\\n        }\\n      #endif\\n      vec3 lColor = sc * lI * BRDF(param,-_dLightDir[i],normalize(_cameraPosition - fragPosition),fragNormal);\\n      result += lColor;\\n    }\\n    return result;\\n  }\\n#endif\\n#ifdef USE_POINT_LIGHT\\n// BRDF arguments\\n// param,(normalized fragment to light verctor),(normalized fragment to camera vector), fragment position\\n  vec3 pointLight(pbr_params param,vec3 fragNormal,vec3 fragPosition){\\n    vec3 result = vec3(0,0,0);\\n    for(int i = 0; i < POINT_LIGHT_COUNT;i++){\\n      vec3 p2l = _pLightPosition[i] - fragPosition;\\n      float d = length(p2l);\\n      vec2 lightParam = _pLightParam[i];\\n      float atten = max(0.,1.0-d/lightParam.x)/(1.0 + lightParam.y*lightParam.y*d);\\n      p2l = normalize(p2l);\\n      vec3 lI = lambert(fragNormal,p2l)* _pLightColor[i] * atten;\\n      vec3 lColor = lI  * BRDF(param,p2l,normalize(_cameraPosition - fragPosition),fragNormal);\\n      result += lColor ;\\n    }\\n    return result;\\n  }\\n#endif\\n#ifdef USE_SPOT_LIGHT\\n  vec3 spotLight(pbr_params param,vec3 fragNormal,vec3 fragPosition){\\n    vec3 result = vec3(0);\\n    for(int i = 0; i < SPOT_LIGHT_COUNT; i++){\\n      float innerConeAngle = _sLightParam[i].x;\\n      float outerConeAngle = _sLightParam[i].y;\\n      float outCos=cos(outerConeAngle);\\n      float innCos=cos(innerConeAngle);\\n\\n      vec3 p2l = _sLightPosition[i] - fragPosition;\\n      float d = length(p2l);\\n      p2l=normalize(p2l);\\n      float c = dot(-p2l,normalize(_sLightDir[i]));\\n      float decay = _sLightParam[i].z;//減衰係数\\n      decay = 1.;\\n      float angleDecay = decay;\\n      //\\n      float distDecayCoefficient = 1.0 / (d * d);\\n      float angleDecayCoefficient = pow(clamp((c-outCos)/(innCos-outCos),0.0,1.0),angleDecay);\\n      //\\n      vec3 lI = lambert(p2l,fragNormal)*_sLightColor[i]*angleDecayCoefficient*distDecayCoefficient;\\n      vec3 lColor = lI * BRDF(param,p2l,normalize(_cameraPosition - fragPosition),fragNormal);\\n      result += lColor;\\n    }\\n    return result;\\n  }\\n#endif\\n  vec3 shading(pbr_params params,vec3 fragNormal,vec3 fragPosition){\\n    vec3 lightingColor = vec3(0);\\n    #ifdef USE_DIR_LIGHT\\n    lightingColor.rgb += directionalLight(params,fragNormal,fragPosition);\\n    #endif\\n    #ifdef USE_POINT_LIGHT\\n    lightingColor.rgb += pointLight(params,fragNormal,fragPosition);\\n    #endif\\n    #ifdef USE_SPOT_LIGHT\\n    lightingColor.rgb += spotLight(params,fragNormal,fragPosition);\\n    #endif\\n    return lightingColor;\\n  }\\n\"\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _SpotLightShadowMapCameraComponent = __webpack_require__(11);\n\nvar _SpotLightShadowMapCameraComponent2 = _interopRequireDefault(_SpotLightShadowMapCameraComponent);\n\nvar _Vector = __webpack_require__(7);\n\nvar _Vector2 = _interopRequireDefault(_Vector);\n\nvar _RenderShadowMapComponent = __webpack_require__(10);\n\nvar _RenderShadowMapComponent2 = _interopRequireDefault(_RenderShadowMapComponent);\n\nvar _ShadowMapCameraComponent = __webpack_require__(5);\n\nvar _ShadowMapCameraComponent2 = _interopRequireDefault(_ShadowMapCameraComponent);\n\nvar _VectorArrayContainer = __webpack_require__(14);\n\nvar _VectorArrayContainer2 = _interopRequireDefault(_VectorArrayContainer);\n\nvar _SceneLightManager = __webpack_require__(0);\n\nvar _SceneLightManager2 = _interopRequireDefault(_SceneLightManager);\n\nvar _DirectionalLightTypeComponent = __webpack_require__(6);\n\nvar _DirectionalLightTypeComponent2 = _interopRequireDefault(_DirectionalLightTypeComponent);\n\nvar _LightComponent = __webpack_require__(8);\n\nvar _LightComponent2 = _interopRequireDefault(_LightComponent);\n\nvar _PointLightTypeComponent = __webpack_require__(9);\n\nvar _PointLightTypeComponent2 = _interopRequireDefault(_PointLightTypeComponent);\n\nvar _SpotLightTypeComponent = __webpack_require__(12);\n\nvar _SpotLightTypeComponent2 = _interopRequireDefault(_SpotLightTypeComponent);\n\nvar _ForwardShadingManagerComponent = __webpack_require__(4);\n\nvar _ForwardShadingManagerComponent2 = _interopRequireDefault(_ForwardShadingManagerComponent);\n\nvar _grimoirejs = __webpack_require__(15);\n\nvar _grimoirejs2 = _interopRequireDefault(_grimoirejs);\n\nvar _GLExtRequestor = __webpack_require__(32);\n\nvar _GLExtRequestor2 = _interopRequireDefault(_GLExtRequestor);\n\nvar _LightVariableRegister = __webpack_require__(13);\n\nvar _LightVariableRegister2 = _interopRequireDefault(_LightVariableRegister);\n\nvar _SceneComponent = __webpack_require__(3);\n\nvar _SceneComponent2 = _interopRequireDefault(_SceneComponent);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar __awaiter = undefined && undefined.__awaiter || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) {\n            try {\n                step(generator.next(value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function rejected(value) {\n            try {\n                step(generator[\"throw\"](value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function step(result) {\n            result.done ? resolve(result.value) : new P(function (resolve) {\n                resolve(result.value);\n            }).then(fulfilled, rejected);\n        }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n// Please do not change the name of variable on the line below.\n\nexports.default = function () {\n    _grimoirejs2.default.register(function () {\n        return __awaiter(undefined, void 0, void 0, regeneratorRuntime.mark(function _callee() {\n            var g;\n            return regeneratorRuntime.wrap(function _callee$(_context) {\n                while (1) {\n                    switch (_context.prev = _context.next) {\n                        case 0:\n                            _SceneComponent2.default.onSceneDescriptionCreation(function (s) {\n                                s.lights = {\n                                    directional: {\n                                        indicies: [],\n                                        directions: new _VectorArrayContainer2.default(3, 0),\n                                        colors: new _VectorArrayContainer2.default(3, 0),\n                                        params: new _VectorArrayContainer2.default(4, 0)\n                                    },\n                                    point: {\n                                        indicies: [],\n                                        positions: new _VectorArrayContainer2.default(3, 0),\n                                        colors: new _VectorArrayContainer2.default(3, 0),\n                                        params: new _VectorArrayContainer2.default(2, 0)\n                                    },\n                                    spot: {\n                                        indicies: [],\n                                        positions: new _VectorArrayContainer2.default(3, 0),\n                                        directions: new _VectorArrayContainer2.default(3, 0),\n                                        colors: new _VectorArrayContainer2.default(3, 0),\n                                        params: new _VectorArrayContainer2.default(4, 0)\n                                    },\n                                    shadowMap: {\n                                        shadowMapCountPerEdge: new _Vector2.default(0, 0),\n                                        shadowMap: null,\n                                        lightMatrices: null,\n                                        pixelSize: 0,\n                                        count: 0\n                                    }\n                                };\n                            });\n                            g = _grimoirejs2.default;\n\n                            g.registerComponent(\"ForwardShadingManager\", _ForwardShadingManagerComponent2.default);\n                            g.registerComponent(\"Light\", _LightComponent2.default);\n                            g.registerComponent(\"DirectionalLightType\", _DirectionalLightTypeComponent2.default);\n                            g.registerComponent(\"PointLightType\", _PointLightTypeComponent2.default);\n                            g.registerComponent(\"SpotLightType\", _SpotLightTypeComponent2.default);\n                            g.registerComponent(\"SceneLightManager\", _SceneLightManager2.default);\n                            g.registerComponent(\"ShadowMapCamera\", _ShadowMapCameraComponent2.default);\n                            g.registerComponent(\"RenderShadowMap\", _RenderShadowMapComponent2.default);\n                            g.registerComponent(\"SpotLightShadowMapCamera\", _SpotLightShadowMapCameraComponent2.default);\n                            g.overrideDeclaration(\"scene\", [\"SceneLightManager\"]);\n                            g.overrideDeclaration(\"render-scene\", [\"RenderShadowMap\"]);\n                            g.overrideDeclaration(\"goml\", [\"ForwardShadingManager\"]);\n                            g.registerNode(\"light\", [\"Transform\", \"Light\"]);\n                            _LightVariableRegister2.default.registerAll();\n                            _GLExtRequestor2.default.request(\"OES_texture_float\");\n\n                        case 17:\n                        case \"end\":\n                            return _context.stop();\n                    }\n                }\n            }, _callee, this);\n        }));\n    });\n};\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports) {\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});exports.default=window.GrimoireJS.lib.fundamental.Resource.GLExtRequestor;\n\n/***/ })\n/******/ ]);\n});\n//# sourceMappingURL=grimoire-forward-shading.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/grimoirejs-forward-shading/register/index.js\n// module id = 13\n// module chunks = 0","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 9);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _AnimationParser = __webpack_require__(4);\n\nvar _AnimationParser2 = _interopRequireDefault(_AnimationParser);\n\nvar _TextFileResolver = __webpack_require__(19);\n\nvar _TextFileResolver2 = _interopRequireDefault(_TextFileResolver);\n\nvar _Animation = __webpack_require__(1);\n\nvar _Animation2 = _interopRequireDefault(_Animation);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar __awaiter = undefined && undefined.__awaiter || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) {\n            try {\n                step(generator.next(value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function rejected(value) {\n            try {\n                step(generator[\"throw\"](value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function step(result) {\n            result.done ? resolve(result.value) : new P(function (resolve) {\n                resolve(result.value);\n            }).then(fulfilled, rejected);\n        }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n/**\n * Store registered animations.\n * Animations are instanciated from this class.\n */\nvar AnimationFactory = function () {\n    function AnimationFactory() {\n        _classCallCheck(this, AnimationFactory);\n    }\n\n    _createClass(AnimationFactory, null, [{\n        key: \"addAnimationType\",\n\n        /**\n         * Add animation type by generator and typeName\n         * @param typeName\n         * @param animationGenerator\n         */\n        value: function addAnimationType(typeName, animationGenerator) {\n            if (this._knownTypeNames.has(typeName)) {\n                throw new Error(\"Specified animation \" + typeName + \" was loaded already.\");\n            }\n            this._knownTypeNames.add(typeName);\n            this.animationGenerators[typeName] = animationGenerator;\n            if (AnimationFactory.onRegisterHandlers[typeName]) {\n                AnimationFactory.onRegisterHandlers[typeName].forEach(function (t) {\n                    return t();\n                });\n            }\n        }\n        /**\n         * Add animation type directly.\n         * @param typeName\n         * @param source\n         */\n\n    }, {\n        key: \"addAnimation\",\n        value: function addAnimation(typeName, source) {\n            var recipe = _AnimationParser2.default.parse(source);\n            AnimationFactory.addAnimationType(typeName, function () {\n                return new _Animation2.default(recipe);\n            });\n        }\n        /**\n         * Load animation type from specified url.\n         * @param typeName\n         * @param url\n         */\n\n    }, {\n        key: \"addAnimationFromURL\",\n        value: function addAnimationFromURL(typeName, url) {\n            return __awaiter(this, void 0, void 0, /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n                var source;\n                return regeneratorRuntime.wrap(function _callee$(_context) {\n                    while (1) {\n                        switch (_context.prev = _context.next) {\n                            case 0:\n                                if (!this._knownTypeNames.has(typeName)) {\n                                    _context.next = 2;\n                                    break;\n                                }\n\n                                throw new Error(\"Specified animation \" + typeName + \" was loaded already.\");\n\n                            case 2:\n                                this._knownTypeNames.add(typeName); // TextFileResolver can be async, to prevent being appended new loader for same typeName\n                                // Mark as the typeName loading temporary.\n                                _context.next = 5;\n                                return _TextFileResolver2.default.resolve(url);\n\n                            case 5:\n                                source = _context.sent;\n\n                                this._knownTypeNames.delete(typeName); // Remove once.\n                                AnimationFactory.addAnimation(typeName, source);\n\n                            case 8:\n                            case \"end\":\n                                return _context.stop();\n                        }\n                    }\n                }, _callee, this);\n            }));\n        }\n    }, {\n        key: \"_onRegister\",\n        value: function _onRegister(typeName, handler) {\n            if (AnimationFactory.onRegisterHandlers[typeName]) {\n                AnimationFactory.onRegisterHandlers[typeName].push(handler);\n            } else {\n                AnimationFactory.onRegisterHandlers[typeName] = [handler];\n            }\n        }\n        /**\n         * Instanciate animation by specifing typeName.\n         * @param typeName\n         */\n\n    }, {\n        key: \"instanciate\",\n        value: function instanciate(typeName) {\n            return __awaiter(this, void 0, void 0, /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n                return regeneratorRuntime.wrap(function _callee2$(_context2) {\n                    while (1) {\n                        switch (_context2.prev = _context2.next) {\n                            case 0:\n                                if (!AnimationFactory.animationGenerators[typeName]) {\n                                    _context2.next = 4;\n                                    break;\n                                }\n\n                                return _context2.abrupt(\"return\", AnimationFactory.animationGenerators[typeName]());\n\n                            case 4:\n                                _context2.next = 6;\n                                return this._waitForRegistered(typeName);\n\n                            case 6:\n                                return _context2.abrupt(\"return\", _context2.sent);\n\n                            case 7:\n                            case \"end\":\n                                return _context2.stop();\n                        }\n                    }\n                }, _callee2, this);\n            }));\n        }\n    }, {\n        key: \"_waitForRegistered\",\n        value: function _waitForRegistered(typeName) {\n            return new Promise(function (resolve) {\n                AnimationFactory._onRegister(typeName, function () {\n                    resolve(AnimationFactory.animationGenerators[typeName]());\n                });\n            });\n        }\n    }]);\n\n    return AnimationFactory;\n}();\n/**\n * Registered animation generators.\n */\n\n\nexports.default = AnimationFactory;\nAnimationFactory.animationGenerators = {};\n/**\n * To wait an animation loaded, instanciate can postpone instanciating by storeing this handler and call later.\n */\nAnimationFactory.onRegisterHandlers = {};\n/**\n * typeNames that already loaded or loading.\n */\nAnimationFactory._knownTypeNames = new Set();\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _AnimationClip = __webpack_require__(2);\n\nvar _AnimationClip2 = _interopRequireDefault(_AnimationClip);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Animation = function () {\n    function Animation(_clips) {\n        _classCallCheck(this, Animation);\n\n        this.clips = {};\n        for (var key in _clips) {\n            this.clips[key] = new _AnimationClip2.default(_clips[key]);\n        }\n    }\n\n    _createClass(Animation, [{\n        key: \"getClip\",\n        value: function getClip(clipName) {\n            if (this.clips[clipName] === void 0) {\n                throw new Error(\"Animation type \" + clipName + \" is not exist.\");\n            } else {\n                return this.clips[clipName];\n            }\n        }\n    }]);\n\n    return Animation;\n}();\n\nexports.default = Animation;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _GomlNode = __webpack_require__(10);\n\nvar _GomlNode2 = _interopRequireDefault(_GomlNode);\n\nvar _TimelineCalculator = __webpack_require__(3);\n\nvar _TimelineCalculator2 = _interopRequireDefault(_TimelineCalculator);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar AnimationClip = function () {\n    function AnimationClip(timeline) {\n        _classCallCheck(this, AnimationClip);\n\n        this._timeline = {};\n        for (var key in timeline) {\n            this.timeline[key] = timeline[key];\n        }\n    }\n\n    _createClass(AnimationClip, [{\n        key: \"step\",\n        value: function step(rootNode, time) {\n            var _this = this;\n\n            var _loop = function _loop(key) {\n                // TODO cache!!!!!\n                var e = _this.timeline[key];\n                var component = rootNode.getComponent(e.component);\n                var attribute = component.getAttributeRaw(e.attribute);\n                if (e.query === '@') {\n                    component.setAttribute(e.attribute, _TimelineCalculator2.default.calc(time, e, attribute));\n                } else {\n                    rootNode.element.querySelectorAll(e.query).forEach(function (childElement) {\n                        _GomlNode2.default.fromElement(childElement).getComponent(e.component).setAttribute(e.attribute, _TimelineCalculator2.default.calc(time, e, attribute));\n                    });\n                }\n            };\n\n            for (var key in this.timeline) {\n                _loop(key);\n            }\n        }\n    }, {\n        key: \"timeline\",\n        get: function get() {\n            return this._timeline;\n        }\n    }, {\n        key: \"length\",\n        get: function get() {\n            var len = 0;\n            for (var key in this.timeline) {\n                var t = this.timeline[key].timeline[this.timeline[key].timeline.length - 1];\n                len = t > len ? t : len;\n            }\n            return len;\n        }\n    }]);\n\n    return AnimationClip;\n}();\n\nexports.default = AnimationClip;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _IAnimationEffectName = __webpack_require__(11);\n\nvar _Vector = __webpack_require__(12);\n\nvar _Vector2 = _interopRequireDefault(_Vector);\n\nvar _Vector3 = __webpack_require__(13);\n\nvar _Vector4 = _interopRequireDefault(_Vector3);\n\nvar _Vector5 = __webpack_require__(14);\n\nvar _Vector6 = _interopRequireDefault(_Vector5);\n\nvar _Color = __webpack_require__(15);\n\nvar _Color2 = _interopRequireDefault(_Color);\n\nvar _Color3 = __webpack_require__(16);\n\nvar _Color4 = _interopRequireDefault(_Color3);\n\nvar _Quaternion = __webpack_require__(17);\n\nvar _Quaternion2 = _interopRequireDefault(_Quaternion);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar TimelineCalculator = function () {\n    function TimelineCalculator() {\n        _classCallCheck(this, TimelineCalculator);\n    }\n\n    _createClass(TimelineCalculator, null, [{\n        key: \"calc\",\n        value: function calc(time, element, attribute) {\n            var timelinePosition = this._decideTimelinePosition(time, element.timeline);\n            if (element.values.length - 1 === timelinePosition) {\n                return element.values[timelinePosition];\n            }\n            if (element.defaultEffect !== void 0) {\n                var t = Math.max(0, Math.min(1, (time - element.timeline[timelinePosition]) / (element.timeline[timelinePosition + 1] - element.timeline[timelinePosition])));\n                var v1 = attribute.converter.convert(element.values[timelinePosition], attribute);\n                var v2 = attribute.converter.convert(element.values[timelinePosition + 1], attribute);\n                if (element.defaultEffect === _IAnimationEffectName.EffectName.LINEAR) {\n                    switch (attribute.converter.name.name) {\n                        case \"Number\" || \"Angle2D\":\n                            return v1 + (v2 - v1) * t;\n                        case \"Vector2\":\n                            return _Vector6.default.lerp(v1, v2, t);\n                        case \"Vector3\":\n                            return _Vector4.default.lerp(v1, v2, t);\n                        case \"Vector4\":\n                            return _Vector2.default.lerp(v1, v2, t);\n                        case \"Rotation3\":\n                            return _Quaternion2.default.slerp(v1, v2, t);\n                        case \"Color3\":\n                            var v3 = _Vector4.default.lerp(v1.toVector(), v2.toVector(), t);\n                            return new _Color2.default(v3.X, v3.Y, v3.Z);\n                        case \"Color4\":\n                            var v4 = _Vector2.default.lerp(v1.toVector(), v2.toVector(), t);\n                            return new _Color4.default(v4.X, v4.Y, v4.Z, v4.W);\n                        default:\n                            throw new Error('Converter ' + attribute.converter.name + ' is not supported.');\n                    }\n                } else if (element.defaultEffect === _IAnimationEffectName.EffectName.DESCRETE) {\n                    return element.values[timelinePosition];\n                }\n            }\n        }\n    }, {\n        key: \"_decideTimelinePosition\",\n        value: function _decideTimelinePosition(time, timeline) {\n            var left = 0;\n            var right = timeline.length - 1;\n            var mid = void 0;\n            if (time < timeline[left]) {\n                return left;\n            } else if (time > timeline[right]) {\n                return right;\n            }\n            while (right - left > 1) {\n                mid = Math.floor((left + right) / 2);\n                if (timeline[mid] === time) {\n                    return mid;\n                } else if (timeline[mid] < time) {\n                    left = mid;\n                } else if (time < timeline[mid]) {\n                    right = mid;\n                }\n            }\n            return left;\n        }\n    }]);\n\n    return TimelineCalculator;\n}();\n\nexports.default = TimelineCalculator;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _HashCalculator = __webpack_require__(18);\n\nvar _HashCalculator2 = _interopRequireDefault(_HashCalculator);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar AnimationParser = function () {\n    function AnimationParser() {\n        _classCallCheck(this, AnimationParser);\n    }\n\n    _createClass(AnimationParser, null, [{\n        key: \"parse\",\n        value: function parse(source) {\n            var sourceHash = _HashCalculator2.default.calcHash(source);\n            // Might be faster if we don't use hash to cache.\n            // Just do in simple way.\n            if (AnimationParser._parsedCache[sourceHash] !== void 0) {\n                return AnimationParser._parsedCache[sourceHash];\n            } else {\n                AnimationParser._parsedCache[sourceHash] = JSON.parse(source);\n                return AnimationParser._parsedCache[sourceHash];\n            }\n        }\n    }]);\n\n    return AnimationParser;\n}();\n\nexports.default = AnimationParser;\n\nAnimationParser._parsedCache = {};\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _AnimationFactory = __webpack_require__(0);\n\nvar _AnimationFactory2 = _interopRequireDefault(_AnimationFactory);\n\nvar _Component2 = __webpack_require__(6);\n\nvar _Component3 = _interopRequireDefault(_Component2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar __awaiter = undefined && undefined.__awaiter || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) {\n            try {\n                step(generator.next(value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function rejected(value) {\n            try {\n                step(generator[\"throw\"](value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function step(result) {\n            result.done ? resolve(result.value) : new P(function (resolve) {\n                resolve(result.value);\n            }).then(fulfilled, rejected);\n        }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\nvar AnimationComponent = function (_Component) {\n    _inherits(AnimationComponent, _Component);\n\n    function AnimationComponent() {\n        _classCallCheck(this, AnimationComponent);\n\n        return _possibleConstructorReturn(this, (AnimationComponent.__proto__ || Object.getPrototypeOf(AnimationComponent)).apply(this, arguments));\n    }\n\n    _createClass(AnimationComponent, [{\n        key: \"$mount\",\n        value: function $mount() {\n            this.__bindAttributes();\n            if (this.animation && typeof this.animation === \"string\") {\n                this._animationPromise = _AnimationFactory2.default.instanciate(this.animation);\n                this._registerAttributes();\n            } else {\n                throw new Error(\"Animation type name must be sppecified and string\");\n            }\n        }\n    }, {\n        key: \"$update\",\n        value: function $update(args) {\n            if (this._ready && this.auto) this._update(args.timer);\n        }\n    }, {\n        key: \"_registerAttributes\",\n        value: function _registerAttributes() {\n            return __awaiter(this, void 0, void 0, /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n                return regeneratorRuntime.wrap(function _callee$(_context) {\n                    while (1) {\n                        switch (_context.prev = _context.next) {\n                            case 0:\n                                _context.next = 2;\n                                return this._animationPromise;\n\n                            case 2:\n                                this._animation = _context.sent;\n\n                                this._ready = true;\n\n                            case 4:\n                            case \"end\":\n                                return _context.stop();\n                        }\n                    }\n                }, _callee, this);\n            }));\n        }\n    }, {\n        key: \"_update\",\n        value: function _update(timer) {\n            for (var key in this.clips) {\n                var length = this._animation.getClip(this.clips[key]).length;\n                var t = this.loop ? timer.time % length : Math.max(timer.time, length);\n                if (t > length) return;\n                this._animation.getClip(this.clips[key]).step(this.node, t);\n            }\n        }\n    }, {\n        key: \"getClip\",\n        value: function getClip(clipName) {\n            return this._animation.getClip(clipName);\n        }\n    }, {\n        key: \"Animation\",\n        get: function get() {\n            return this._animation;\n        }\n    }]);\n\n    return AnimationComponent;\n}(_Component3.default);\n\nexports.default = AnimationComponent;\n\nAnimationComponent.attributes = {\n    animation: {\n        converter: \"String\",\n        default: null\n    },\n    clips: {\n        converter: \"StringArray\",\n        default: null\n    },\n    auto: {\n        converter: \"Boolean\",\n        default: true\n    },\n    loop: {\n        converter: \"Boolean\",\n        default: true\n    }\n};\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports) {\n\nObject.defineProperty(exports,\"__esModule\",{value: true});\nexports.default=window.GrimoireJS.Node.Component;\n\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _AnimationFactory = __webpack_require__(0);\n\nvar _AnimationFactory2 = _interopRequireDefault(_AnimationFactory);\n\nvar _Component2 = __webpack_require__(6);\n\nvar _Component3 = _interopRequireDefault(_Component2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar AnimationImporterComponent = function (_Component) {\n    _inherits(AnimationImporterComponent, _Component);\n\n    function AnimationImporterComponent() {\n        _classCallCheck(this, AnimationImporterComponent);\n\n        return _possibleConstructorReturn(this, (AnimationImporterComponent.__proto__ || Object.getPrototypeOf(AnimationImporterComponent)).apply(this, arguments));\n    }\n\n    _createClass(AnimationImporterComponent, [{\n        key: \"$awake\",\n        value: function $awake() {\n            this.__bindAttributes();\n            this.getAttributeRaw(\"typeName\").watch(function (v) {\n                console.warn(\"Changeing 'typeName' on AnimationImporter makes no sense. This change won't affect anything.\");\n            });\n            this.getAttributeRaw(\"src\").watch(function (v) {\n                console.warn(\"Changeing 'src' on AnimationImporter makes no sense. This change won't affect anything.\");\n            });\n            if (!this.typeName || !this.src) {\n                throw new Error(\"type or src cannot be null in Animation importer\");\n            } else {\n                _AnimationFactory2.default.addAnimationFromURL(this.typeName, this.src);\n            }\n        }\n    }]);\n\n    return AnimationImporterComponent;\n}(_Component3.default);\n\nexports.default = AnimationImporterComponent;\n\nAnimationImporterComponent.attributes = {\n    typeName: {\n        default: null,\n        converter: \"String\"\n    },\n    src: {\n        default: null,\n        converter: \"String\"\n    }\n};\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports) {\n\nObject.defineProperty(exports,\"__esModule\",{value: true});\nexports.default=window.GrimoireJS;\n\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _Animation = __webpack_require__(1);\n\nvar _Animation2 = _interopRequireDefault(_Animation);\n\nvar _AnimationClip = __webpack_require__(2);\n\nvar _AnimationClip2 = _interopRequireDefault(_AnimationClip);\n\nvar _AnimationFactory = __webpack_require__(0);\n\nvar _AnimationFactory2 = _interopRequireDefault(_AnimationFactory);\n\nvar _AnimationParser = __webpack_require__(4);\n\nvar _AnimationParser2 = _interopRequireDefault(_AnimationParser);\n\nvar _AnimationComponent = __webpack_require__(5);\n\nvar _AnimationComponent2 = _interopRequireDefault(_AnimationComponent);\n\nvar _AnimationImporterComponent = __webpack_require__(7);\n\nvar _AnimationImporterComponent2 = _interopRequireDefault(_AnimationImporterComponent);\n\nvar _TimelineCalculator = __webpack_require__(3);\n\nvar _TimelineCalculator2 = _interopRequireDefault(_TimelineCalculator);\n\nvar _main = __webpack_require__(20);\n\nvar _main2 = _interopRequireDefault(_main);\n\nvar _grimoirejs = __webpack_require__(8);\n\nvar _grimoirejs2 = _interopRequireDefault(_grimoirejs);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar __VERSION__ = \"1.3.1\";\nvar __NAME__ = \"grimoirejs-animation\";\n\nvar __EXPOSE__ = {\n    \"Animation\": {\n        \"Animation\": _Animation2.default,\n        \"AnimationClip\": _AnimationClip2.default,\n        \"AnimationFactory\": _AnimationFactory2.default,\n        \"AnimationParser\": _AnimationParser2.default\n    },\n    \"Components\": {\n        \"AnimationComponent\": _AnimationComponent2.default,\n        \"AnimationImporterComponent\": _AnimationImporterComponent2.default\n    },\n    \"Util\": {\n        \"TimelineCalculator\": _TimelineCalculator2.default\n    }\n};\n\n_grimoirejs2.default.notifyRegisteringPlugin(__NAME__);\nvar __BASE__ = (0, _main2.default)();\nObject.assign(__EXPOSE__, {\n    __VERSION__: __VERSION__,\n    __NAME__: __NAME__\n});\nObject.assign(__BASE__ || {}, __EXPOSE__);\nwindow[\"GrimoireJS\"].lib.animation = __EXPOSE__;\nexports.default = __BASE__;\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports) {\n\nObject.defineProperty(exports,\"__esModule\",{value: true});\nexports.default=window.GrimoireJS.Node.GomlNode;\n\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nvar EffectName = exports.EffectName = undefined;\n(function (EffectName) {\n    EffectName.LINEAR = \"LINEAR\";\n    EffectName.DESCRETE = \"DESCRETE\";\n    EffectName.BEZIER = \"BEZIER\";\n})(EffectName || (exports.EffectName = EffectName = {}));\nexports.default = EffectName;\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports) {\n\nObject.defineProperty(exports,\"__esModule\",{value: true});\nexports.default=window.GrimoireJS&&window.GrimoireJS.lib.math?window.GrimoireJS.lib.math.Vector4:undefined;\n\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports) {\n\nObject.defineProperty(exports,\"__esModule\",{value: true});\nexports.default=window.GrimoireJS&&window.GrimoireJS.lib.math?window.GrimoireJS.lib.math.Vector3:undefined;\n\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports) {\n\nObject.defineProperty(exports,\"__esModule\",{value: true});\nexports.default=window.GrimoireJS&&window.GrimoireJS.lib.math?window.GrimoireJS.lib.math.Vector2:undefined;\n\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports) {\n\nObject.defineProperty(exports,\"__esModule\",{value: true});\nexports.default=window.GrimoireJS&&window.GrimoireJS.lib.math?window.GrimoireJS.lib.math.Color3:undefined;\n\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports) {\n\nObject.defineProperty(exports,\"__esModule\",{value: true});\nexports.default=window.GrimoireJS&&window.GrimoireJS.lib.math?window.GrimoireJS.lib.math.Color4:undefined;\n\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports) {\n\nObject.defineProperty(exports,\"__esModule\",{value: true});\nexports.default=window.GrimoireJS&&window.GrimoireJS.lib.math?window.GrimoireJS.lib.math.Quaternion:undefined;\n\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports) {\n\nObject.defineProperty(exports,\"__esModule\",{value: true});\nexports.default=window.GrimoireJS&&window.GrimoireJS.lib.fundamental?window.GrimoireJS.lib.fundamental.Util.HashCalculator:undefined;\n\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports) {\n\nObject.defineProperty(exports,\"__esModule\",{value: true});\nexports.default=window.GrimoireJS&&window.GrimoireJS.lib.fundamental?window.GrimoireJS.lib.fundamental.Asset.TextFileResolver:undefined;\n\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _grimoirejs = __webpack_require__(8);\n\nvar _grimoirejs2 = _interopRequireDefault(_grimoirejs);\n\nvar _AnimationImporterComponent = __webpack_require__(7);\n\nvar _AnimationImporterComponent2 = _interopRequireDefault(_AnimationImporterComponent);\n\nvar _AnimationComponent = __webpack_require__(5);\n\nvar _AnimationComponent2 = _interopRequireDefault(_AnimationComponent);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar __awaiter = undefined && undefined.__awaiter || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) {\n            try {\n                step(generator.next(value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function rejected(value) {\n            try {\n                step(generator[\"throw\"](value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function step(result) {\n            result.done ? resolve(result.value) : new P(function (resolve) {\n                resolve(result.value);\n            }).then(fulfilled, rejected);\n        }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\n// function animate(attributeName: string, value: number[], time: number) {\n//   if (this instanceof NodeInterface) {\n//     (this as NodeInterface).forEach(n => (n as any).animate(attributeName, value, time))\n//   } else {\n//     const animation = (this as GomlNode).addComponent(\"Animation\", { animation: 'dynamic', clip: 'dynamic' }) as AnimationComponent;\n//     let timelines: {\n//       \"times\": number[],\n//       \"values\": number[]\n//     }[] = [];\n//     for (let i = 0; i < this.getAttributeRaw(attributeName)._value.length; i++) {\n//       timelines[i] = {\n//         \"times\": [0, time],\n//         \"values\": [this.getAttributeRaw(attributeName)._value[i], value[i]]\n//       }\n//     }\n//\n//     const animationRecipe = {\n//       'dynamic': [\n//         {\n//           \"query\": \"@\",\n//           \"component\": this.getAttributeRaw('position').component.name.name,\n//           \"attribute\": attributeName,\n//           \"timelines\": timelines\n//         }\n//       ]\n//     }\n//     animation.Animation = new Animation(animationRecipe);\n//   }\n// }\nexports.default = function () {\n    _grimoirejs2.default.register(function () {\n        return __awaiter(undefined, void 0, void 0, /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n            return regeneratorRuntime.wrap(function _callee$(_context) {\n                while (1) {\n                    switch (_context.prev = _context.next) {\n                        case 0:\n                            _grimoirejs2.default.registerNode(\"import-animation\", [\"AnimationImporter\"]);\n                            _grimoirejs2.default.registerComponent(\"Animation\", _AnimationComponent2.default);\n                            _grimoirejs2.default.registerComponent(\"AnimationImporter\", _AnimationImporterComponent2.default);\n                            // gr.prototype.constructor.Interface.NodeInterface.prototype.animate = animate;\n                            // (GomlNode.prototype as any).animate = animate;\n\n                        case 3:\n                        case \"end\":\n                            return _context.stop();\n                    }\n                }\n            }, _callee, this);\n        }));\n    });\n};\n\n/***/ })\n/******/ ]);\n});\n//# sourceMappingURL=grimoire-animation.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/grimoirejs-animation/register/index.js\n// module id = 14\n// module chunks = 0","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 18);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _ParserModuleBase2 = __webpack_require__(9);\n\nvar _ParserModuleBase3 = _interopRequireDefault(_ParserModuleBase2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar ParserModule = function (_ParserModuleBase) {\n    _inherits(ParserModule, _ParserModuleBase);\n\n    function ParserModule(parser, baseDirectory) {\n        _classCallCheck(this, ParserModule);\n\n        var _this = _possibleConstructorReturn(this, (ParserModule.__proto__ || Object.getPrototypeOf(ParserModule)).call(this));\n\n        _this.parser = parser;\n        _this.baseDirectory = baseDirectory;\n        _this.__gl = parser.gl;\n        return _this;\n    }\n\n    _createClass(ParserModule, [{\n        key: \"fetchGLTF\",\n        value: function fetchGLTF(url) {\n            return undefined;\n        }\n        /**\n         * Load .gltf file\n         * @return {Promise<GLTF>} [description]\n         */\n\n    }, {\n        key: \"loadAsGLTF\",\n        value: function loadAsGLTF(tf) {\n            return undefined;\n        }\n        /**\n         * Start loading texture resource.\n         * @return {Promise<Texture2D>} [description]\n         */\n\n    }, {\n        key: \"fetchTextureResource\",\n        value: function fetchTextureResource(tf) {\n            return undefined;\n        }\n        /**\n         * Start loading texture resource.\n         * @return {Promise<Texture2D>} [description]\n         */\n\n    }, {\n        key: \"loadTextureResources\",\n        value: function loadTextureResources(tf) {\n            return undefined;\n        }\n        /**\n         * Load image as texture\n         * @return {Promise<Texture2D>} [description]\n         */\n\n    }, {\n        key: \"convertTotexture\",\n        value: function convertTotexture(arg) {\n            return undefined;\n        }\n        /**\n         * Start loading buffer resource.\n         * @return {Promise<ArrayBuffer>} [description]\n         */\n\n    }, {\n        key: \"loadBufferResource\",\n        value: function loadBufferResource(tf) {\n            return undefined;\n        }\n    }, {\n        key: \"loadBufferResources\",\n        value: function loadBufferResources(tf) {\n            return undefined;\n        }\n    }, {\n        key: \"loadBufferViews\",\n        value: function loadBufferViews(args) {\n            return undefined;\n        }\n    }, {\n        key: \"loadPrimitivesOfMesh\",\n        value: function loadPrimitivesOfMesh(args) {\n            return undefined;\n        }\n    }, {\n        key: \"loadPrimitive\",\n        value: function loadPrimitive(args) {\n            return undefined;\n        }\n    }, {\n        key: \"appendIndices\",\n        value: function appendIndices(args) {\n            return undefined;\n        }\n    }, {\n        key: \"addVertexAttributes\",\n        value: function addVertexAttributes(args) {\n            return undefined;\n        }\n    }, {\n        key: \"complementVertexAttributes\",\n        value: function complementVertexAttributes(args) {\n            return undefined;\n        }\n    }, {\n        key: \"loadMaterials\",\n        value: function loadMaterials(args) {\n            return undefined;\n        }\n    }, {\n        key: \"loadMaterial\",\n        value: function loadMaterial(args) {\n            return undefined;\n        }\n    }, {\n        key: \"loadAnimations\",\n        value: function loadAnimations(args) {\n            return undefined;\n        }\n    }, {\n        key: \"loadAnimation\",\n        value: function loadAnimation(args) {\n            return undefined;\n        }\n    }]);\n\n    return ParserModule;\n}(_ParserModuleBase3.default);\n\nexports.default = ParserModule;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Color = __webpack_require__(20);\n\nvar _Color2 = _interopRequireDefault(_Color);\n\nvar _Color3 = __webpack_require__(21);\n\nvar _Color4 = _interopRequireDefault(_Color3);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar GLTFConstantConvert = function () {\n    function GLTFConstantConvert() {\n        _classCallCheck(this, GLTFConstantConvert);\n    }\n\n    _createClass(GLTFConstantConvert, null, [{\n        key: \"asColorValue\",\n        value: function asColorValue(a) {\n            if (a.length === 3) {\n                return new _Color2.default(a[0], a[1], a[2]);\n            } else {\n                return new _Color4.default(a[0], a[1], a[2], a[3]);\n            }\n        }\n    }, {\n        key: \"asVectorSize\",\n        value: function asVectorSize(type) {\n            switch (type) {\n                case \"SCALAR\":\n                    return 1;\n                case \"VEC2\":\n                    return 2;\n                case \"VEC3\":\n                    return 3;\n                case \"VEC4\":\n                case \"MAT2\":\n                    return 4;\n                case \"MAT3\":\n                    return 9;\n                case \"MAT4\":\n                    return 16;\n                default:\n                    throw new Error(\"Invalid vectorSize\");\n            }\n        }\n    }, {\n        key: \"asByteSize\",\n        value: function asByteSize(componentType) {\n            switch (componentType) {\n                case WebGLRenderingContext.UNSIGNED_BYTE:\n                case WebGLRenderingContext.BYTE:\n                    return 1;\n                case WebGLRenderingContext.UNSIGNED_SHORT:\n                case WebGLRenderingContext.SHORT:\n                    return 2;\n                case WebGLRenderingContext.UNSIGNED_INT:\n                case WebGLRenderingContext.INT:\n                case WebGLRenderingContext.FLOAT:\n                    return 4;\n                default:\n                    throw new Error(\"Unknown size!\");\n            }\n        }\n    }, {\n        key: \"elementTypeToTypedArray\",\n        value: function elementTypeToTypedArray(type) {\n            switch (type) {\n                case WebGLRenderingContext.UNSIGNED_BYTE:\n                    return Uint8Array;\n                case WebGLRenderingContext.BYTE:\n                    return Int8Array;\n                case WebGLRenderingContext.UNSIGNED_SHORT:\n                    return Uint16Array;\n                case WebGLRenderingContext.SHORT:\n                    return Int16Array;\n                case WebGLRenderingContext.UNSIGNED_INT:\n                    return Uint32Array;\n                case WebGLRenderingContext.INT:\n                    return Int32Array;\n                case WebGLRenderingContext.FLOAT:\n                    return Float32Array;\n                default:\n                    throw new Error(\"Unsupported\");\n            }\n        }\n    }, {\n        key: \"indexCountToBufferInfo\",\n        value: function indexCountToBufferInfo(count) {\n            if (count < 256) {\n                return {\n                    elementType: WebGLRenderingContext.UNSIGNED_BYTE,\n                    byteSize: 1,\n                    ctor: Uint8Array\n                };\n            } else if (count < 65536) {\n                return {\n                    elementType: WebGLRenderingContext.UNSIGNED_SHORT,\n                    byteSize: 2,\n                    ctor: Uint16Array\n                };\n            } else {\n                return {\n                    elementType: WebGLRenderingContext.UNSIGNED_INT,\n                    byteSize: 4,\n                    ctor: Uint32Array\n                };\n            }\n        }\n    }]);\n\n    return GLTFConstantConvert;\n}();\n\nexports.default = GLTFConstantConvert;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Component2 = __webpack_require__(6);\n\nvar _Component3 = _interopRequireDefault(_Component2);\n\nvar _Parser = __webpack_require__(7);\n\nvar _Parser2 = _interopRequireDefault(_Parser);\n\nvar _DefaultInstanciator = __webpack_require__(16);\n\nvar _DefaultInstanciator2 = _interopRequireDefault(_DefaultInstanciator);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar GLTFModelComponent = function (_Component) {\n    _inherits(GLTFModelComponent, _Component);\n\n    function GLTFModelComponent() {\n        _classCallCheck(this, GLTFModelComponent);\n\n        var _this = _possibleConstructorReturn(this, (GLTFModelComponent.__proto__ || Object.getPrototypeOf(GLTFModelComponent)).apply(this, arguments));\n\n        _this.jointMatrices = {};\n        _this.skeletons = {};\n        return _this;\n    }\n\n    _createClass(GLTFModelComponent, [{\n        key: \"$mount\",\n        value: function $mount() {\n            var _this2 = this;\n\n            var src = this.getAttribute(\"src\");\n            if (src) {\n                var gl = this.companion.get(\"gl\");\n                var promise = _Parser2.default.parseFromURL(gl, src).then(function (data) {\n                    GLTFModelComponent.instanciator.instanciateAll(data, _this2, _this2.getAttribute(\"scene\"));\n                });\n                if (this.getAttribute(\"waitForLoad\")) {\n                    var loader = this.companion.get(\"loader\");\n                    loader[\"register\"](promise, this);\n                }\n            }\n        }\n    }, {\n        key: \"$update\",\n        value: function $update() {}\n    }]);\n\n    return GLTFModelComponent;\n}(_Component3.default);\n\nexports.default = GLTFModelComponent;\n\nGLTFModelComponent.instanciator = new _DefaultInstanciator2.default();\nGLTFModelComponent.componentName = \"GLTFModelComponent\";\nGLTFModelComponent.attributes = {\n    src: {\n        converter: \"String\",\n        default: null\n    },\n    scene: {\n        converter: \"String\",\n        default: null\n    },\n    waitForLoad: {\n        converter: \"Boolean\",\n        default: false\n    }\n};\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Matrix = __webpack_require__(4);\n\nvar _Matrix2 = _interopRequireDefault(_Matrix);\n\nvar _TransformComponent = __webpack_require__(5);\n\nvar _TransformComponent2 = _interopRequireDefault(_TransformComponent);\n\nvar _Component2 = __webpack_require__(6);\n\nvar _Component3 = _interopRequireDefault(_Component2);\n\nvar _GLTFModelComponent = __webpack_require__(2);\n\nvar _GLTFModelComponent2 = _interopRequireDefault(_GLTFModelComponent);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar GLTFJointComponent = function (_Component) {\n    _inherits(GLTFJointComponent, _Component);\n\n    function GLTFJointComponent() {\n        _classCallCheck(this, GLTFJointComponent);\n\n        return _possibleConstructorReturn(this, (GLTFJointComponent.__proto__ || Object.getPrototypeOf(GLTFJointComponent)).apply(this, arguments));\n    }\n\n    _createClass(GLTFJointComponent, [{\n        key: \"$mount\",\n        value: function $mount() {\n            this._model = this.node.getComponentInAncestor(_GLTFModelComponent2.default);\n            this._transform = this.node.getComponent(_TransformComponent2.default);\n            this._invBindMatrix = new _Matrix2.default(this.getAttribute(\"invBindShapeMatrix\"));\n            this._skinIndex = this.getAttribute(\"skinIndex\");\n            this._jointIndex = this.getAttribute(\"jointIndex\");\n        }\n    }, {\n        key: \"$update\",\n        value: function $update() {\n            var poseMat = this._model.skeletons[this._skinIndex].globalTransformInverse.multiplyWith(this._transform.globalTransform).multiplyWith(this._invBindMatrix); //.multiplyWith(this._model.skeletons[this._skinIndex].globalTransform);\n            for (var i = 0; i < 16; i++) {\n                this._model.jointMatrices[this._skinIndex][this._jointIndex * 16 + i] = poseMat.rawElements[i];\n            }\n        }\n    }]);\n\n    return GLTFJointComponent;\n}(_Component3.default);\n\nexports.default = GLTFJointComponent;\n\nGLTFJointComponent.attributes = {\n    invBindShapeMatrix: {\n        converter: \"Object\",\n        default: null\n    },\n    skinIndex: {\n        converter: \"Number\",\n        default: null\n    },\n    jointIndex: {\n        converter: \"Number\",\n        default: null\n    }\n};\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports) {\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});exports.default=window.GrimoireJS.lib.math.Matrix;\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});exports.default=window.GrimoireJS.lib.fundamental.Components.TransformComponent;\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports) {\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});exports.default=window.GrimoireJS.Node.Component;\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _DefaultParserModule = __webpack_require__(8);\n\nvar _DefaultParserModule2 = _interopRequireDefault(_DefaultParserModule);\n\nvar _NormalComplementorModule = __webpack_require__(12);\n\nvar _NormalComplementorModule2 = _interopRequireDefault(_NormalComplementorModule);\n\nvar _IndexComplementorModule = __webpack_require__(14);\n\nvar _IndexComplementorModule2 = _interopRequireDefault(_IndexComplementorModule);\n\nvar _EmbeddedBufferModule = __webpack_require__(15);\n\nvar _EmbeddedBufferModule2 = _interopRequireDefault(_EmbeddedBufferModule);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar __awaiter = undefined && undefined.__awaiter || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) {\n            try {\n                step(generator.next(value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function rejected(value) {\n            try {\n                step(generator[\"throw\"](value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function step(result) {\n            result.done ? resolve(result.value) : new P(function (resolve) {\n                resolve(result.value);\n            }).then(fulfilled, rejected);\n        }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n// Modules\n\nvar GLTFParser = function () {\n    function GLTFParser(gl, url) {\n        _classCallCheck(this, GLTFParser);\n\n        this.gl = gl;\n        this.url = url;\n        this.parserModuleInstances = [];\n        for (var i = 0; i < GLTFParser.parserModules.length; i++) {\n            var moduleCtor = GLTFParser.parserModules[i];\n            this.parserModuleInstances.push(new moduleCtor(this, url.substr(0, url.lastIndexOf(\"/\") + 1)));\n        }\n    }\n\n    _createClass(GLTFParser, [{\n        key: \"callParserModule\",\n        value: function callParserModule(target, arg) {\n            for (var i = 0; i < this.parserModuleInstances.length; i++) {\n                var module = this.parserModuleInstances[i];\n                var moduleMethod = target(module);\n                if (moduleMethod === void 0) {\n                    continue;\n                }\n                var result = moduleMethod.call(module, arg);\n                if (result !== void 0) {\n                    return result;\n                }\n            }\n            throw new Error(\"Parsing gltf failed. At the module \\\"\" + target.toString() + \"\\\"\");\n        }\n    }, {\n        key: \"parse\",\n        value: function parse() {\n            return __awaiter(this, void 0, void 0, regeneratorRuntime.mark(function _callee() {\n                var _this = this;\n\n                var result, gltfRaw, gltf, textureResourcePromise, bufferResources;\n                return regeneratorRuntime.wrap(function _callee$(_context) {\n                    while (1) {\n                        switch (_context.prev = _context.next) {\n                            case 0:\n                                result = {};\n                                _context.next = 3;\n                                return this.callParserModule(function (t) {\n                                    return t.fetchGLTF;\n                                }, this.url);\n\n                            case 3:\n                                gltfRaw = _context.sent;\n                                gltf = this.callParserModule(function (t) {\n                                    return t.loadAsGLTF;\n                                }, gltfRaw);\n\n                                result.tf = gltf;\n                                _context.next = 8;\n                                return this.callParserModule(function (t) {\n                                    return t.loadTextureResources;\n                                }, gltf).then(function (textures) {\n                                    return _this.callParserModule(function (t) {\n                                        return t.loadMaterials;\n                                    }, { tf: gltf, textures: textures });\n                                }).then(function (materials) {\n                                    result.materials = materials;\n                                });\n\n                            case 8:\n                                textureResourcePromise = _context.sent;\n                                _context.next = 11;\n                                return this.callParserModule(function (t) {\n                                    return t.loadBufferResources;\n                                }, gltf).then(function (buffers) {\n                                    var bufferViews = _this.callParserModule(function (t) {\n                                        return t.loadBufferViews;\n                                    }, { tf: gltf, buffers: buffers });\n                                    var primitives = _this.callParserModule(function (t) {\n                                        return t.loadPrimitivesOfMesh;\n                                    }, { tf: gltf, bufferViews: bufferViews });\n                                    var animations = _this.callParserModule(function (t) {\n                                        return t.loadAnimations;\n                                    }, { tf: gltf, bufferViews: bufferViews });\n                                    result.primitives = primitives;\n                                    result.bufferViews = bufferViews;\n                                    result.animations = animations;\n                                });\n\n                            case 11:\n                                bufferResources = _context.sent;\n                                return _context.abrupt(\"return\", result);\n\n                            case 13:\n                            case \"end\":\n                                return _context.stop();\n                        }\n                    }\n                }, _callee, this);\n            }));\n        }\n    }], [{\n        key: \"parseFromURL\",\n        value: function parseFromURL(gl, url) {\n            return __awaiter(this, void 0, void 0, regeneratorRuntime.mark(function _callee2() {\n                var parser;\n                return regeneratorRuntime.wrap(function _callee2$(_context2) {\n                    while (1) {\n                        switch (_context2.prev = _context2.next) {\n                            case 0:\n                                parser = new GLTFParser(gl, url);\n                                return _context2.abrupt(\"return\", parser.parse());\n\n                            case 2:\n                            case \"end\":\n                                return _context2.stop();\n                        }\n                    }\n                }, _callee2, this);\n            }));\n        }\n    }]);\n\n    return GLTFParser;\n}();\n\nexports.default = GLTFParser;\n\nGLTFParser.parserModules = [_EmbeddedBufferModule2.default, _IndexComplementorModule2.default, _NormalComplementorModule2.default, _DefaultParserModule2.default];\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _ParserModule2 = __webpack_require__(0);\n\nvar _ParserModule3 = _interopRequireDefault(_ParserModule2);\n\nvar _ConstantConverter = __webpack_require__(1);\n\nvar _ConstantConverter2 = _interopRequireDefault(_ConstantConverter);\n\nvar _Texture2D = __webpack_require__(22);\n\nvar _Texture2D2 = _interopRequireDefault(_Texture2D);\n\nvar _Geometry = __webpack_require__(23);\n\nvar _Geometry2 = _interopRequireDefault(_Geometry);\n\nvar _MaterialFactory = __webpack_require__(11);\n\nvar _MaterialFactory2 = _interopRequireDefault(_MaterialFactory);\n\nvar _TextureReference = __webpack_require__(24);\n\nvar _TextureReference2 = _interopRequireDefault(_TextureReference);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar __awaiter = undefined && undefined.__awaiter || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) {\n            try {\n                step(generator.next(value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function rejected(value) {\n            try {\n                step(generator[\"throw\"](value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function step(result) {\n            result.done ? resolve(result.value) : new P(function (resolve) {\n                resolve(result.value);\n            }).then(fulfilled, rejected);\n        }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\nvar DefaultParserModule = function (_ParserModule) {\n    _inherits(DefaultParserModule, _ParserModule);\n\n    function DefaultParserModule() {\n        _classCallCheck(this, DefaultParserModule);\n\n        return _possibleConstructorReturn(this, (DefaultParserModule.__proto__ || Object.getPrototypeOf(DefaultParserModule)).apply(this, arguments));\n    }\n\n    _createClass(DefaultParserModule, [{\n        key: \"fetchGLTF\",\n        value: function fetchGLTF(url) {\n            return this.__fetchBuffer(url);\n        }\n    }, {\n        key: \"loadAsGLTF\",\n        value: function loadAsGLTF(buffer) {\n            var rawStr = this.__bufferToString(buffer);\n            return JSON.parse(rawStr);\n        }\n    }, {\n        key: \"loadTextureResources\",\n        value: function loadTextureResources(tf) {\n            return __awaiter(this, void 0, void 0, regeneratorRuntime.mark(function _callee() {\n                var _this2 = this;\n\n                var textures, promises, _loop, key;\n\n                return regeneratorRuntime.wrap(function _callee$(_context) {\n                    while (1) {\n                        switch (_context.prev = _context.next) {\n                            case 0:\n                                textures = {};\n                                promises = [];\n\n                                if (tf.images) {\n                                    _loop = function _loop(key) {\n                                        var texture = tf.textures[key];\n                                        var promise = _this2.parser.callParserModule(function (t) {\n                                            return t.fetchTextureResource;\n                                        }, tf.images[texture.source]).then(function (img) {\n                                            var texture = _this2.parser.callParserModule(function (t) {\n                                                return t.convertTotexture;\n                                            }, { tf: tf, image: img, texIndex: key });\n                                            textures[key] = texture;\n                                        });\n                                        promises.push(promise);\n                                    };\n\n                                    for (key in tf.textures) {\n                                        _loop(key);\n                                    }\n                                }\n                                _context.next = 5;\n                                return Promise.all(promises);\n\n                            case 5:\n                                return _context.abrupt(\"return\", textures);\n\n                            case 6:\n                            case \"end\":\n                                return _context.stop();\n                        }\n                    }\n                }, _callee, this);\n            }));\n        }\n        /**\n         * Start loading texture resource.\n         * @return {Promise<Texture2D>} [description]\n         */\n\n    }, {\n        key: \"fetchTextureResource\",\n        value: function fetchTextureResource(tf) {\n            return this.__fetchImage(this.baseDirectory + tf.uri);\n        }\n        /**\n         * Load image as texture\n         * @return {Promise<Texture2D>} [description]\n         */\n\n    }, {\n        key: \"convertTotexture\",\n        value: function convertTotexture(arg) {\n            var tex = new _Texture2D2.default(this.__gl);\n            tex.update(arg.image);\n            var texInfo = arg.tf.textures[arg.texIndex];\n            var samplerInfo = {};\n            if (!texInfo) {\n                samplerInfo = arg.tf.samplers[texInfo.sampler];\n            }\n            tex.magFilter = samplerInfo.magFilter || WebGLRenderingContext.LINEAR;\n            tex.minFilter = samplerInfo.minFilter || WebGLRenderingContext.NEAREST_MIPMAP_LINEAR;\n            tex.wrapS = samplerInfo.wrapS || WebGLRenderingContext.REPEAT;\n            tex.wrapT = samplerInfo.wrapT || WebGLRenderingContext.REPEAT;\n            return tex;\n        }\n        /**\n         * Start loading buffer resource.\n         * @return {Promise<ArrayBuffer>} [description]\n         */\n\n    }, {\n        key: \"loadBufferResource\",\n        value: function loadBufferResource(tf) {\n            return this.__fetchBuffer(this.baseDirectory + tf.uri);\n        }\n    }, {\n        key: \"loadBufferResources\",\n        value: function loadBufferResources(tf) {\n            return __awaiter(this, void 0, void 0, regeneratorRuntime.mark(function _callee2() {\n                var _this3 = this;\n\n                var buffers, promises, _loop2, key;\n\n                return regeneratorRuntime.wrap(function _callee2$(_context2) {\n                    while (1) {\n                        switch (_context2.prev = _context2.next) {\n                            case 0:\n                                buffers = {};\n                                promises = [];\n\n                                _loop2 = function _loop2(key) {\n                                    promises.push(_this3.parser.callParserModule(function (t) {\n                                        return t.loadBufferResource;\n                                    }, tf.buffers[key]).then(function (buffer) {\n                                        buffers[key] = buffer;\n                                    }));\n                                };\n\n                                for (key in tf.buffers) {\n                                    _loop2(key);\n                                }\n                                _context2.next = 6;\n                                return Promise.all(promises);\n\n                            case 6:\n                                return _context2.abrupt(\"return\", buffers);\n\n                            case 7:\n                            case \"end\":\n                                return _context2.stop();\n                        }\n                    }\n                }, _callee2, this);\n            }));\n        }\n    }, {\n        key: \"loadBufferViews\",\n        value: function loadBufferViews(args) {\n            var bufferViews = {};\n            for (var key in args.tf.bufferViews) {\n                var bufferViewInfo = args.tf.bufferViews[key];\n                bufferViews[key] = new Uint8Array(args.buffers[bufferViewInfo.buffer], bufferViewInfo.byteOffset, bufferViewInfo.byteLength);\n            }\n            return bufferViews;\n        }\n    }, {\n        key: \"loadPrimitivesOfMesh\",\n        value: function loadPrimitivesOfMesh(args) {\n            var result = {};\n            for (var key in args.tf.meshes) {\n                var meshInfo = args.tf.meshes[key];\n                var primitives = [];\n                result[key] = primitives;\n                for (var pKey in meshInfo.primitives) {\n                    primitives.push(this.parser.callParserModule(function (t) {\n                        return t.loadPrimitive;\n                    }, { tf: args.tf, bufferViews: args.bufferViews, primitive: meshInfo.primitives[pKey] }));\n                }\n            }\n            return result;\n        }\n    }, {\n        key: \"loadPrimitive\",\n        value: function loadPrimitive(args) {\n            var geo = new _Geometry2.default(this.__gl);\n            this.parser.callParserModule(function (t) {\n                return t.appendIndices;\n            }, { tf: args.tf, bufferViews: args.bufferViews, primitive: args.primitive, geometry: geo });\n            this.parser.callParserModule(function (t) {\n                return t.addVertexAttributes;\n            }, { tf: args.tf, bufferViews: args.bufferViews, primitive: args.primitive, geometry: geo });\n            return geo;\n        }\n    }, {\n        key: \"appendIndices\",\n        value: function appendIndices(args) {\n            if (args.primitive.indices !== void 0) {\n                var topology = args.primitive.mode || WebGLRenderingContext.TRIANGLES;\n                var indexAccessor = args.tf.accessors[args.primitive.indices];\n                args.geometry.addIndex(\"default\", args.bufferViews[indexAccessor.bufferView], topology, indexAccessor.byteOffset, indexAccessor.count, indexAccessor.componentType);\n                return true;\n            }\n        }\n    }, {\n        key: \"addVertexAttributes\",\n        value: function addVertexAttributes(args) {\n            for (var attrib in args.primitive.attributes) {\n                var accessor = args.tf.accessors[args.primitive.attributes[attrib]];\n                var bufAccessor = {};\n                bufAccessor[attrib] = {\n                    size: _ConstantConverter2.default.asVectorSize(accessor.type),\n                    type: accessor.componentType,\n                    stride: accessor.byteStride,\n                    offset: accessor.byteOffset\n                };\n                args.geometry.addAttributes(args.bufferViews[accessor.bufferView], bufAccessor);\n            }\n            this.parser.callParserModule(function (t) {\n                return t.complementVertexAttributes;\n            }, args);\n            return true;\n        }\n    }, {\n        key: \"complementVertexAttributes\",\n        value: function complementVertexAttributes(args) {\n            return true;\n        }\n    }, {\n        key: \"loadMaterials\",\n        value: function loadMaterials(args) {\n            return __awaiter(this, void 0, void 0, regeneratorRuntime.mark(function _callee3() {\n                var result, key;\n                return regeneratorRuntime.wrap(function _callee3$(_context3) {\n                    while (1) {\n                        switch (_context3.prev = _context3.next) {\n                            case 0:\n                                result = {};\n                                _context3.t0 = regeneratorRuntime.keys(args.tf.materials);\n\n                            case 2:\n                                if ((_context3.t1 = _context3.t0()).done) {\n                                    _context3.next = 9;\n                                    break;\n                                }\n\n                                key = _context3.t1.value;\n                                _context3.next = 6;\n                                return this.parser.callParserModule(function (t) {\n                                    return t.loadMaterial;\n                                }, { material: args.tf.materials[key], textures: args.textures });\n\n                            case 6:\n                                result[key] = _context3.sent;\n                                _context3.next = 2;\n                                break;\n\n                            case 9:\n                                return _context3.abrupt(\"return\", result);\n\n                            case 10:\n                            case \"end\":\n                                return _context3.stop();\n                        }\n                    }\n                }, _callee3, this);\n            }));\n        }\n    }, {\n        key: \"loadMaterial\",\n        value: function loadMaterial(args) {\n            return __awaiter(this, void 0, void 0, regeneratorRuntime.mark(function _callee4() {\n                var material, pmr, pass;\n                return regeneratorRuntime.wrap(function _callee4$(_context4) {\n                    while (1) {\n                        switch (_context4.prev = _context4.next) {\n                            case 0:\n                                if (!args.material[\"pbrMetallicRoughness\"]) {\n                                    _context4.next = 18;\n                                    break;\n                                }\n\n                                _context4.next = 3;\n                                return _MaterialFactory2.default.get(this.__gl).instanciate(\"gltf-pbr-metallic-roughness\");\n\n                            case 3:\n                                material = _context4.sent;\n                                pmr = args.material[\"pbrMetallicRoughness\"];\n                                pass = material.techniques[\"default\"].passes[0];\n\n                                if (pmr.baseColorFactor) {\n                                    pass.setArgument(\"baseColorFactor\", pmr.baseColorFactor, null);\n                                }\n                                if (pmr.baseColorTexture) {\n                                    pass.setArgument(\"baseColorTexture\", new _TextureReference2.default(args.textures[pmr.baseColorTexture.index]), null);\n                                }\n                                if (pmr.metallicFactor) {\n                                    pass.setArgument(\"metallicFactor\", pmr.metallicFactor, null);\n                                }\n                                if (pmr.metallicTexture) {\n                                    pass.setArgument(\"metallicTexture\", new _TextureReference2.default(args.textures[pmr.metallicTexture.index]), null);\n                                }\n                                if (pmr.roughnessFactor) {\n                                    pass.setArgument(\"roughnessFactor\", pmr.roughnessFactor, null);\n                                }\n                                if (pmr.roughnessTexture) {\n                                    pass.setArgument(\"roughnessTexture\", new _TextureReference2.default(args.textures[pmr.roughnessTexture.index]), null);\n                                }\n                                if (pmr.metallicRoughnessTexture) {\n                                    pass.setArgument(\"metallicRoughnessTexture\", new _TextureReference2.default(args.textures[pmr.metallicRoughnessTexture.index]), null);\n                                }\n                                if (args.material[\"emissiveFactor\"]) {\n                                    pass.setArgument(\"emissiveFactor\", args.material[\"emissiveFactor\"], null);\n                                }\n                                if (args.material[\"emissiveTexture\"]) {\n                                    pass.setArgument(\"emissiveTexture\", new _TextureReference2.default(args.textures[args.material[\"emissiveTexture\"].index]), null);\n                                }\n                                if (args.material[\"normalTexture\"]) {\n                                    pass.setArgument(\"normalTexture\", new _TextureReference2.default(args.textures[args.material[\"normalTexture\"].index]), null);\n                                }\n                                if (args.material[\"occlusionTexture\"]) {\n                                    pass.setArgument(\"occlusionTexture\", new _TextureReference2.default(args.textures[args.material[\"occlusionTexture\"].index]), null);\n                                }\n                                return _context4.abrupt(\"return\", material);\n\n                            case 18:\n                            case \"end\":\n                                return _context4.stop();\n                        }\n                    }\n                }, _callee4, this);\n            }));\n        }\n    }, {\n        key: \"loadAnimations\",\n        value: function loadAnimations(args) {\n            var result = {};\n            for (var key in args.tf.animations) {\n                var animation = args.tf.animations[key];\n                result[key] = this.parser.callParserModule(function (m) {\n                    return m.loadAnimation;\n                }, { tf: args.tf, bufferViews: args.bufferViews, animation: animation });\n            }\n            return result;\n        }\n    }, {\n        key: \"loadAnimation\",\n        value: function loadAnimation(args) {\n            var defaultClip = [];\n            for (var i = 0; i < args.animation.channels.length; i++) {\n                var clip = {};\n                var channel = args.animation.channels[i];\n                var query = \".gltf-node-\" + channel.target.node;\n                var target = this._pathNameToGrimoire(channel.target.path);\n                var sampler = args.animation.samplers[channel.sampler];\n                clip.query = query;\n                clip.component = target.component;\n                clip.attribute = target.attributeName;\n                var inputAccessor = args.tf.accessors[sampler.input];\n                var outputAccessor = args.tf.accessors[sampler.output];\n                var inputBuffer = args.bufferViews[inputAccessor.bufferView];\n                var outputBuffer = args.bufferViews[outputAccessor.bufferView];\n                var elemCount = _ConstantConverter2.default.asVectorSize(outputAccessor.type);\n                var inputBufferF32 = new Float32Array(inputBuffer.buffer, inputBuffer.byteOffset + inputAccessor.byteOffset, inputAccessor.count);\n                var outputBufferF32 = new Float32Array(outputBuffer.buffer, outputBuffer.byteOffset + outputAccessor.byteOffset, outputAccessor.count * elemCount);\n                var times = new Array(inputAccessor.count);\n                for (var _i = 0; _i < inputAccessor.count; _i++) {\n                    times[_i] = inputBufferF32[_i] * 1000; // SHould consider buffer stride\n                }\n                clip.timeline = times;\n                clip.defaultEffect = \"LINEAR\"; // TODO bug of animation plugin?\n                var values = [];\n                for (var _i2 = 0; _i2 < outputAccessor.count; _i2++) {\n                    values[_i2] = [];\n                    for (var j = 0; j < elemCount; j++) {\n                        values[_i2][j] = outputBufferF32[_i2 * elemCount + j]; // SHould consider buffer stride\n                    }\n                }\n                clip.values = values;\n                defaultClip.push(clip);\n            }\n            return {\n                default: defaultClip\n            };\n        }\n    }, {\n        key: \"_pathNameToGrimoire\",\n        value: function _pathNameToGrimoire(name) {\n            switch (name) {\n                case \"translation\":\n                    return { component: \"Transform\", attributeName: \"position\" };\n                case \"rotation\":\n                    return { component: \"Transform\", attributeName: \"rotation\" };\n                case \"scale\":\n                    return { component: \"Transform\", attributeName: \"scale\" };\n                case \"weights\":\n                    return { component: \"VertexMorpher\", attributeName: \"weights\" };\n                default:\n                    throw new Error(\"Unsupported path type on grimoire\");\n            }\n        }\n    }]);\n\n    return DefaultParserModule;\n}(_ParserModule3.default);\n\nexports.default = DefaultParserModule;\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _ImageResolver = __webpack_require__(10);\n\nvar _ImageResolver2 = _interopRequireDefault(_ImageResolver);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Base class of ParserModule.\n * Provides utility for parsing glTF files.\n */\nvar ParserModuleBase = function () {\n    function ParserModuleBase() {\n        _classCallCheck(this, ParserModuleBase);\n    }\n\n    _createClass(ParserModuleBase, [{\n        key: \"__fetchBuffer\",\n        value: function __fetchBuffer(url) {\n            return new Promise(function (resolve, reject) {\n                var xhr = new XMLHttpRequest();\n                xhr.open(\"GET\", url);\n                xhr.responseType = \"arraybuffer\";\n                xhr.onload = function (v) {\n                    resolve(xhr.response);\n                };\n                xhr.onerror = function (e) {\n                    reject({\n                        message: \"Loading resource at '\" + url + \" failed. Is there resource file in dependency at correct location?'\",\n                        error: e\n                    });\n                };\n                xhr.send();\n            });\n        }\n    }, {\n        key: \"__fetchImage\",\n        value: function __fetchImage(url) {\n            return _ImageResolver2.default.resolve(url);\n        }\n        /**\n         * Check provided string being data uri or not.\n         * @param  {string}  target [description]\n         * @return {boolean}        [description]\n         */\n\n    }, {\n        key: \"__isDataUri\",\n        value: function __isDataUri(target) {\n            return !!target.match(/^\\s*data\\:.*;base64/);\n        }\n        /**\n         * Get directiory location from specified url\n         * @param  {string} url [description]\n         * @return {string}     [description]\n         */\n\n    }, {\n        key: \"__getBaseDir\",\n        value: function __getBaseDir(url) {\n            return url.substr(0, url.lastIndexOf(\"/\") + 1);\n        }\n        /**\n         * Convert dataURI text to raw text\n         * @param  {string} dataUrl [description]\n         * @return {string}         [description]\n         */\n\n    }, {\n        key: \"__dataUriToText\",\n        value: function __dataUriToText(dataUrl) {\n            var splittedUri = dataUrl.split(\",\");\n            var byteString = atob(splittedUri[1]);\n            return byteString;\n        }\n        /**\n         * Convert data url string into array buffer\n         * @param  {string}      dataUri [description]\n         * @return {ArrayBuffer}         [description]\n         */\n\n    }, {\n        key: \"__dataUriToArrayBuffer\",\n        value: function __dataUriToArrayBuffer(dataUri) {\n            var splittedUri = dataUri.split(\",\");\n            var byteString = atob(splittedUri[1]);\n            var byteStringLength = byteString.length;\n            var arrayBuffer = new ArrayBuffer(byteStringLength);\n            var uint8Array = new Uint8Array(arrayBuffer);\n            for (var i = 0; i < byteStringLength; i++) {\n                uint8Array[i] = byteString.charCodeAt(i);\n            }\n            return arrayBuffer;\n        }\n        /**\n         * Convert data uri into image element\n         * @param  {string}  dataUrl [description]\n         * @return {Promise}         [description]\n         */\n\n    }, {\n        key: \"__dataUriToImage\",\n        value: function __dataUriToImage(dataUrl) {\n            return new Promise(function (resolve, reject) {\n                var image = new Image();\n                image.src = dataUrl;\n                image.onload = function () {\n                    resolve(image);\n                };\n            });\n        }\n    }, {\n        key: \"__bufferToString\",\n        value: function __bufferToString(arr) {\n            var tmp = \"\";\n            var len = 1024;\n            for (var p = 0; p < arr.byteLength; p += len) {\n                tmp += this._smallBufferToString(new Uint8Array(arr.slice(p, p + len)));\n            }\n            return tmp;\n        }\n    }, {\n        key: \"__getBufferReader\",\n        value: function __getBufferReader(arr) {\n            var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : WebGLRenderingContext.UNSIGNED_BYTE;\n            var offset = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n            var stride = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 0;\n\n            var singleByte = 0;\n            switch (type) {\n                case WebGLRenderingContext.UNSIGNED_BYTE:\n                    arr = new Uint8Array(arr.buffer, arr.byteOffset, arr.byteLength);\n                    break;\n                case WebGLRenderingContext.UNSIGNED_SHORT:\n                    arr = new Uint16Array(arr.buffer, arr.byteOffset, arr.byteLength);\n                    break;\n                case WebGLRenderingContext.UNSIGNED_BYTE:\n                    arr = new Uint32Array(arr.buffer, arr.byteOffset, arr.byteLength);\n                    break;\n                default:\n                    throw new Error(\"Unknown array buffer\");\n            }\n            if (stride !== 0) {\n                throw new Error(\"Accessing a buffer with stride is not supported yet.\");\n            }\n            return function (i) {\n                return arr[offset + i];\n            };\n        }\n    }, {\n        key: \"_smallBufferToString\",\n        value: function _smallBufferToString(arr) {\n            return String.fromCharCode.apply(\"\", arr);\n        }\n    }]);\n\n    return ParserModuleBase;\n}();\n\nexports.default = ParserModuleBase;\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports) {\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});exports.default=window.GrimoireJS.lib.fundamental.Asset.ImageResolver;\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports) {\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});exports.default=window.GrimoireJS.lib.fundamental.Material.MaterialFactory;\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _ParserModule2 = __webpack_require__(0);\n\nvar _ParserModule3 = _interopRequireDefault(_ParserModule2);\n\nvar _Vector = __webpack_require__(13);\n\nvar _Vector2 = _interopRequireDefault(_Vector);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar NormalComplementorModule = function (_ParserModule) {\n    _inherits(NormalComplementorModule, _ParserModule);\n\n    function NormalComplementorModule() {\n        _classCallCheck(this, NormalComplementorModule);\n\n        return _possibleConstructorReturn(this, (NormalComplementorModule.__proto__ || Object.getPrototypeOf(NormalComplementorModule)).apply(this, arguments));\n    }\n\n    _createClass(NormalComplementorModule, [{\n        key: \"complementVertexAttributes\",\n        value: function complementVertexAttributes(args) {\n            if (args.primitive.attributes[\"NORMAL\"] === void 0 && args.primitive.attributes[\"POSITION\"] !== void 0) {\n                var accessor = args.tf.accessors[args.primitive.attributes[\"POSITION\"]];\n                var baseBufferView = args.bufferViews[accessor.bufferView];\n                var positions = new Float32Array(baseBufferView.buffer, baseBufferView.byteOffset + accessor.byteOffset);\n                if (accessor.byteStride !== void 0 && accessor.byteStride !== 0) {\n                    throw new Error(\"Complementing normal with a position buffer which buffer has stride as a parameter\");\n                }\n                if (!accessor.count) {\n                    throw new Error(\"Accessor count of POSITION buffer should be defined for complementing NORMAL buffer\");\n                }\n                var defaultAccessor = args.tf.accessors[args.primitive.indices];\n                // generate normal buffer\n                var normal = new Float32Array(accessor.count * 3);\n                if (defaultAccessor) {\n                    var bufferSource = args.bufferViews[defaultAccessor.bufferView];\n                    var byteAccessor = this.__getBufferReader(bufferSource, defaultAccessor.componentType, defaultAccessor.byteOffset, defaultAccessor.byteStride);\n                    for (var i = 0; i < accessor.count / 3; i++) {\n                        this._calcFlatNormal(positions, normal, byteAccessor(3 * i), byteAccessor(3 * i + 1), byteAccessor(3 * i + 2));\n                    }\n                } else {\n                    for (var _i = 0; _i < accessor.count / 3; _i++) {\n                        this._calcFlatNormal(positions, normal, 3 * _i, 3 * _i + 1, 3 * _i + 2);\n                    }\n                }\n                // add normal to geometry\n                args.geometry.addAttributes(normal, {\n                    NORMAL: {\n                        size: 3\n                    }\n                });\n            }\n            return false;\n        }\n    }, {\n        key: \"_getElement\",\n        value: function _getElement(positions, posbase, elemIndex) {\n            return positions[posbase + elemIndex];\n        }\n    }, {\n        key: \"_calcFlatNormal\",\n        value: function _calcFlatNormal(positions, normals, i0, i1, i2) {\n            var v0Tov1 = new _Vector2.default(this._getElement(positions, 3 * i1, 0) - this._getElement(positions, 3 * i0, 0), this._getElement(positions, 3 * i1, 1) - this._getElement(positions, 3 * i0, 1), this._getElement(positions, 3 * i1, 2) - this._getElement(positions, 3 * i0, 2));\n            var v0Tov2 = new _Vector2.default(this._getElement(positions, 3 * i2, 0) - this._getElement(positions, 3 * i0, 0), this._getElement(positions, 3 * i2, 1) - this._getElement(positions, 3 * i0, 1), this._getElement(positions, 3 * i2, 2) - this._getElement(positions, 3 * i0, 2));\n            var nor = _Vector2.default.cross(v0Tov1, v0Tov2).normalizeThis();\n            normals[3 * i0] = nor.X;\n            normals[3 * i0 + 1] = nor.Y;\n            normals[3 * i0 + 2] = nor.Z;\n            normals[3 * i1] = nor.X;\n            normals[3 * i1 + 1] = nor.Y;\n            normals[3 * i1 + 2] = nor.Z;\n            normals[3 * i2] = nor.X;\n            normals[3 * i2 + 1] = nor.Y;\n            normals[3 * i2 + 2] = nor.Z;\n        }\n    }]);\n\n    return NormalComplementorModule;\n}(_ParserModule3.default);\n\nexports.default = NormalComplementorModule;\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports) {\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});exports.default=window.GrimoireJS.lib.math.Vector3;\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _ParserModule2 = __webpack_require__(0);\n\nvar _ParserModule3 = _interopRequireDefault(_ParserModule2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar IndexComplementorModule = function (_ParserModule) {\n    _inherits(IndexComplementorModule, _ParserModule);\n\n    function IndexComplementorModule() {\n        _classCallCheck(this, IndexComplementorModule);\n\n        return _possibleConstructorReturn(this, (IndexComplementorModule.__proto__ || Object.getPrototypeOf(IndexComplementorModule)).apply(this, arguments));\n    }\n\n    _createClass(IndexComplementorModule, [{\n        key: \"appendIndices\",\n        value: function appendIndices(args) {\n            if (args.primitive.indices === void 0) {\n                var topology = args.primitive.mode || WebGLRenderingContext.TRIANGLES;\n                var accessor = args.tf.accessors[args.primitive.attributes[\"POSITION\"]];\n                if (accessor.count === void 0) {\n                    throw new Error(\"POSITION buffer should have count parameter. Construction of index buffer was failed.\");\n                }\n                if (topology !== WebGLRenderingContext.TRIANGLES) {\n                    throw new Error(\"Complementing index buffer is only supported for TRIANGLES topology currently.\");\n                }\n                var indices = new Array(accessor.count);\n                for (var i = 0; i < accessor.count; i++) {\n                    indices[i] = i;\n                }\n                args.geometry.addIndex(\"default\", indices);\n                return true;\n            }\n        }\n    }]);\n\n    return IndexComplementorModule;\n}(_ParserModule3.default);\n\nexports.default = IndexComplementorModule;\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _ParserModule2 = __webpack_require__(0);\n\nvar _ParserModule3 = _interopRequireDefault(_ParserModule2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar EmbeddedBufferModule = function (_ParserModule) {\n    _inherits(EmbeddedBufferModule, _ParserModule);\n\n    function EmbeddedBufferModule() {\n        _classCallCheck(this, EmbeddedBufferModule);\n\n        return _possibleConstructorReturn(this, (EmbeddedBufferModule.__proto__ || Object.getPrototypeOf(EmbeddedBufferModule)).apply(this, arguments));\n    }\n\n    _createClass(EmbeddedBufferModule, [{\n        key: \"loadBufferResource\",\n        value: function loadBufferResource(tf) {\n            if (this.__isDataUri(tf.uri)) {\n                return Promise.resolve(this.__dataUriToArrayBuffer(tf.uri));\n            }\n        }\n    }]);\n\n    return EmbeddedBufferModule;\n}(_ParserModule3.default);\n\nexports.default = EmbeddedBufferModule;\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _TransformComponent = __webpack_require__(5);\n\nvar _TransformComponent2 = _interopRequireDefault(_TransformComponent);\n\nvar _MeshRendererComponent = __webpack_require__(25);\n\nvar _MeshRendererComponent2 = _interopRequireDefault(_MeshRendererComponent);\n\nvar _Quaternion = __webpack_require__(26);\n\nvar _Quaternion2 = _interopRequireDefault(_Quaternion);\n\nvar _Vector = __webpack_require__(13);\n\nvar _Vector2 = _interopRequireDefault(_Vector);\n\nvar _Matrix = __webpack_require__(4);\n\nvar _Matrix2 = _interopRequireDefault(_Matrix);\n\nvar _AnimationFactory = __webpack_require__(27);\n\nvar _AnimationFactory2 = _interopRequireDefault(_AnimationFactory);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar DefaultInstanciator = function () {\n    function DefaultInstanciator() {\n        _classCallCheck(this, DefaultInstanciator);\n    }\n\n    _createClass(DefaultInstanciator, [{\n        key: \"instanciateAll\",\n        value: function instanciateAll(recipe, model, scene) {\n            var sceneIndex = scene;\n            if (sceneIndex === null) {\n                sceneIndex = recipe.tf.scene;\n            }\n            if (typeof sceneIndex !== \"number\") {\n                for (var key in recipe.tf.scenes) {\n                    sceneIndex = key;\n                    break;\n                }\n            }\n            var sceneInfo = recipe.tf.scenes[sceneIndex];\n            this.__instanciateScene(sceneInfo, model, recipe);\n            this.__instanciateAnimations(model, recipe);\n        }\n    }, {\n        key: \"__instanciateScene\",\n        value: function __instanciateScene(scene, model, recipe) {\n            var nodes = {};\n            var _iteratorNormalCompletion = true;\n            var _didIteratorError = false;\n            var _iteratorError = undefined;\n\n            try {\n                for (var _iterator = scene.nodes[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                    var nodeName = _step.value;\n\n                    this.__instanciateNode(recipe, nodeName, nodes, model.node, model);\n                }\n            } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion && _iterator.return) {\n                        _iterator.return();\n                    }\n                } finally {\n                    if (_didIteratorError) {\n                        throw _iteratorError;\n                    }\n                }\n            }\n        }\n    }, {\n        key: \"__instanciateAnimations\",\n        value: function __instanciateAnimations(model, recipe) {\n            for (var key in recipe.animations) {\n                _AnimationFactory2.default.addAnimation(\"gltf-animation-\" + key, JSON.stringify(recipe.animations[key]));\n                model.node.addComponent(\"Animation\", {\n                    animation: \"gltf-animation-\" + key,\n                    clips: \"default\"\n                });\n            }\n        }\n    }, {\n        key: \"__instanciateNode\",\n        value: function __instanciateNode(recipe, nodeName, instanciatedNodes, parent, model) {\n            var node = recipe.tf.nodes[nodeName];\n            var currentNode = void 0;\n            var meshes = [];\n            if (node.mesh !== void 0) {\n                var primitives = recipe.primitives[node.mesh];\n                var meshInfo = recipe.tf.meshes[node.mesh];\n                if (primitives.length === 1) {\n                    var mat = recipe.materials[meshInfo.primitives[0].material];\n                    var meshNode = parent.addChildByName(\"mesh\", {\n                        geometry: primitives[0],\n                        material: mat\n                    });\n                    meshes.push(meshNode);\n                    currentNode = meshNode;\n                } else {\n                    var objectNode = parent.addChildByName(\"object\", {});\n                    for (var i = 0; i < primitives.length; i++) {\n                        var _mat = recipe.materials[meshInfo.primitives[i].material];\n                        var _meshNode = objectNode.addChildByName(\"mesh\", {\n                            geometry: primitives[i],\n                            material: _mat\n                        });\n                        meshes.push(_meshNode);\n                    }\n                    currentNode = objectNode;\n                }\n            } else {\n                currentNode = parent.addChildByName(\"object\", {});\n            }\n            instanciatedNodes[nodeName] = currentNode;\n            currentNode.setAttribute(\"class\", \"gltf-node-\" + nodeName);\n            this.__applyTransform(currentNode, node);\n            if (node.children) {\n                var _iteratorNormalCompletion2 = true;\n                var _didIteratorError2 = false;\n                var _iteratorError2 = undefined;\n\n                try {\n                    for (var _iterator2 = node.children[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                        var child = _step2.value;\n\n                        this.__instanciateNode(recipe, child, instanciatedNodes, currentNode, model);\n                    }\n                } catch (err) {\n                    _didIteratorError2 = true;\n                    _iteratorError2 = err;\n                } finally {\n                    try {\n                        if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                            _iterator2.return();\n                        }\n                    } finally {\n                        if (_didIteratorError2) {\n                            throw _iteratorError2;\n                        }\n                    }\n                }\n            }\n            // If this node was skin, create joint matrix buffer in model\n            if (node.skin !== void 0) {\n                var skinInfo = recipe.tf.skins[node.skin];\n                model.skeletons[node.skin] = currentNode.getComponent(_TransformComponent2.default);\n                var invBindShapeMatrixSourceAccessor = recipe.tf.accessors[skinInfo.inverseBindMatrices];\n                var invBindShapeMatrixSource = recipe.bufferViews[invBindShapeMatrixSourceAccessor.bufferView];\n                var invBindShapeMatrixSourceCasted = new Float32Array(invBindShapeMatrixSource.buffer, invBindShapeMatrixSource.byteOffset, invBindShapeMatrixSource.byteLength / 4);\n                var stride = !invBindShapeMatrixSourceAccessor.byteStride ? 4 : invBindShapeMatrixSourceAccessor.byteStride;\n                var getInvBindShapeElement = function getInvBindShapeElement(i) {\n                    return invBindShapeMatrixSourceCasted[invBindShapeMatrixSourceAccessor.byteOffset / 4 + stride / 4 * i];\n                };\n                if (model.jointMatrices[node.skin] === void 0) {\n                    model.jointMatrices[node.skin] = new Float32Array(skinInfo.joints.length * 16);\n                }\n                for (var _i = 0; _i < meshes.length; _i++) {\n                    meshes[_i].setAttribute(\"fundamental.MaterialContainer.jointCount\", skinInfo.joints.length);\n                    meshes[_i].getComponent(_MeshRendererComponent2.default).renderArgs[\"gltf-jointMatrices\"] = model.jointMatrices[node.skin];\n                }\n                skinInfo.joints.forEach(function (j, jointIndex) {\n                    if (instanciatedNodes[j]) {\n                        var invBindShapeMatrix = new Array(16);\n                        for (var _i2 = 0; _i2 < 16; _i2++) {\n                            invBindShapeMatrix[_i2] = getInvBindShapeElement(_i2 + 16 * jointIndex);\n                        }\n                        instanciatedNodes[j].setAttribute(\"class\", instanciatedNodes[j].getAttribute(\"class\") + \" gltf-joint-\" + jointIndex);\n                        instanciatedNodes[j].addComponent(\"GLTFJoint\", {\n                            invBindShapeMatrix: invBindShapeMatrix,\n                            skinIndex: node.skin,\n                            jointIndex: jointIndex\n                        });\n                    } else {\n                        throw new Error(\"specified node was not found\");\n                    }\n                });\n            }\n        }\n    }, {\n        key: \"__applyTransform\",\n        value: function __applyTransform(node, nodeInfo) {\n            var transform = node.getComponent(_TransformComponent2.default);\n            if (nodeInfo.rotation) {\n                transform.setAttribute(\"rotation\", new _Quaternion2.default([].concat(nodeInfo.rotation)));\n            }\n            if (nodeInfo.translation) {\n                transform.setAttribute(\"position\", new _Vector2.default([].concat(nodeInfo.translation)));\n            }\n            if (nodeInfo.scale) {\n                transform.setAttribute(\"scale\", new _Vector2.default([].concat(nodeInfo.scale)));\n            }\n            if (nodeInfo.matrix) {\n                if (nodeInfo.rotation || nodeInfo.translation || nodeInfo.scale) {\n                    throw new Error(\"Matrix property can not be existed with other transoform property\");\n                }\n                var mat = new _Matrix2.default(nodeInfo.matrix);\n                transform.applyMatrix(mat);\n            }\n        }\n    }]);\n\n    return DefaultInstanciator;\n}();\n\nexports.default = DefaultInstanciator;\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports) {\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});exports.default=window.GrimoireJS;\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _Accessor = __webpack_require__(19);\n\nvar _Accessor2 = _interopRequireDefault(_Accessor);\n\nvar _GLTFJointComponent = __webpack_require__(3);\n\nvar _GLTFJointComponent2 = _interopRequireDefault(_GLTFJointComponent);\n\nvar _GLTFModelComponent = __webpack_require__(2);\n\nvar _GLTFModelComponent2 = _interopRequireDefault(_GLTFModelComponent);\n\nvar _DefaultInstanciator = __webpack_require__(16);\n\nvar _DefaultInstanciator2 = _interopRequireDefault(_DefaultInstanciator);\n\nvar _ConstantConverter = __webpack_require__(1);\n\nvar _ConstantConverter2 = _interopRequireDefault(_ConstantConverter);\n\nvar _DefaultParserModule = __webpack_require__(8);\n\nvar _DefaultParserModule2 = _interopRequireDefault(_DefaultParserModule);\n\nvar _EmbeddedBufferModule = __webpack_require__(15);\n\nvar _EmbeddedBufferModule2 = _interopRequireDefault(_EmbeddedBufferModule);\n\nvar _IndexComplementorModule = __webpack_require__(14);\n\nvar _IndexComplementorModule2 = _interopRequireDefault(_IndexComplementorModule);\n\nvar _NormalComplementorModule = __webpack_require__(12);\n\nvar _NormalComplementorModule2 = _interopRequireDefault(_NormalComplementorModule);\n\nvar _Parser = __webpack_require__(7);\n\nvar _Parser2 = _interopRequireDefault(_Parser);\n\nvar _ParserModule = __webpack_require__(0);\n\nvar _ParserModule2 = _interopRequireDefault(_ParserModule);\n\nvar _ParserModuleBase = __webpack_require__(9);\n\nvar _ParserModuleBase2 = _interopRequireDefault(_ParserModuleBase);\n\nvar _ResourceResolver = __webpack_require__(28);\n\nvar _ResourceResolver2 = _interopRequireDefault(_ResourceResolver);\n\nvar _main = __webpack_require__(31);\n\nvar _main2 = _interopRequireDefault(_main);\n\nvar _grimoirejs = __webpack_require__(17);\n\nvar _grimoirejs2 = _interopRequireDefault(_grimoirejs);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar __VERSION__ = \"2.2.1\";\nvar __NAME__ = \"grimoirejs-gltf\";\n\nvar __EXPOSE__ = {\n    \"Accessor\": {\n        \"Accessor\": _Accessor2.default\n    },\n    \"Components\": {\n        \"GLTFJointComponent\": _GLTFJointComponent2.default,\n        \"GLTFModelComponent\": _GLTFModelComponent2.default\n    },\n    \"Instanciator\": {\n        \"DefaultInstanciator\": _DefaultInstanciator2.default\n    },\n    \"Parser\": {\n        \"ConstantConverter\": _ConstantConverter2.default,\n        \"DefaultParserModule\": _DefaultParserModule2.default,\n        \"Modules\": {\n            \"EmbeddedBufferModule\": _EmbeddedBufferModule2.default,\n            \"IndexComplementorModule\": _IndexComplementorModule2.default,\n            \"NormalComplementorModule\": _NormalComplementorModule2.default\n        },\n        \"Parser\": _Parser2.default,\n        \"ParserModule\": _ParserModule2.default,\n        \"ParserModuleBase\": _ParserModuleBase2.default\n    },\n    \"Util\": {\n        \"ResourceResolver\": _ResourceResolver2.default\n    }\n};\n\n_grimoirejs2.default.notifyRegisteringPlugin(__NAME__);\nvar __BASE__ = (0, _main2.default)();\nObject.assign(__EXPOSE__, {\n    __VERSION__: __VERSION__,\n    __NAME__: __NAME__\n});\nObject.assign(__BASE__ || {}, __EXPOSE__);\nwindow[\"GrimoireJS\"].lib.gltf = __EXPOSE__;\nexports.default = __BASE__;\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _ConstantConverter = __webpack_require__(1);\n\nvar _ConstantConverter2 = _interopRequireDefault(_ConstantConverter);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * The accessor class to be used for fetching animation frames\n */\nvar Accessor = function () {\n    function Accessor(buffer, count, componentType, elementSize, byteOffset, byteStride) {\n        _classCallCheck(this, Accessor);\n\n        this.buffer = buffer;\n        this.count = count;\n        this.componentType = componentType;\n        this.elementSize = elementSize;\n        this.byteOffset = byteOffset;\n        this.byteStride = byteStride;\n        this._dView = new DataView(buffer.buffer, buffer.byteOffset + byteOffset);\n        this._elementByteSize = _ConstantConverter2.default.asByteSize(componentType);\n        if (byteStride === 0) {\n            this.byteStride = this.elementSize * this._elementByteSize;\n        }\n    }\n\n    _createClass(Accessor, [{\n        key: \"getByIndex\",\n        value: function getByIndex(index) {\n            if (index < 0 || index >= this.count) {\n                return null;\n            }\n            var res = new Array(this.elementSize);\n            for (var i = 0; i < this.elementSize; i++) {\n                res[i] = this._getSingleByIndex(index, i);\n            }\n            return res;\n        }\n    }, {\n        key: \"_getSingleByIndex\",\n        value: function _getSingleByIndex(index, elementIndex) {\n            switch (this.componentType) {\n                case WebGLRenderingContext.FLOAT:\n                    return this._dView.getFloat32(index * this.byteStride + this._elementByteSize * elementIndex, true);\n                default:\n                    throw new Error(\"Unsupported element type\");\n            }\n        }\n    }]);\n\n    return Accessor;\n}();\n\nexports.default = Accessor;\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports) {\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});exports.default=window.GrimoireJS.lib.math.Color3;\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports) {\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});exports.default=window.GrimoireJS.lib.math.Color4;\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports) {\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});exports.default=window.GrimoireJS.lib.fundamental.Resource.Texture2D;\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports) {\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});exports.default=window.GrimoireJS.lib.fundamental.Geometry.Geometry;\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports) {\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});exports.default=window.GrimoireJS.lib.fundamental.Material.TextureReference;\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports) {\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});exports.default=window.GrimoireJS.lib.fundamental.Components.MeshRendererComponent;\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports) {\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});exports.default=window.GrimoireJS.lib.math.Quaternion;\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports) {\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});exports.default=window.GrimoireJS.lib.animation.Animation.AnimationFactory;\n\n/***/ }),\n/* 28 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _TextFileResolver = __webpack_require__(29);\n\nvar _TextFileResolver2 = _interopRequireDefault(_TextFileResolver);\n\nvar _ImageResolver = __webpack_require__(10);\n\nvar _ImageResolver2 = _interopRequireDefault(_ImageResolver);\n\nvar _HashCalculator = __webpack_require__(30);\n\nvar _HashCalculator2 = _interopRequireDefault(_HashCalculator);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Provides resolving resource dependency while parsing gltf file.\n */\nvar ResourceResolver = function () {\n    function ResourceResolver(_rootPath) {\n        _classCallCheck(this, ResourceResolver);\n\n        this._rootPath = _rootPath;\n        this.baseDirectory = this._getBaseDir(_rootPath);\n    }\n\n    _createClass(ResourceResolver, [{\n        key: \"loadGLTFFile\",\n        value: function loadGLTFFile() {\n            var _this = this;\n\n            return new Promise(function (resolve, reject) {\n                var xhr = new XMLHttpRequest();\n                xhr.open(\"GET\", _this._rootPath);\n                xhr.responseType = \"arraybuffer\";\n                xhr.onload = function (v) {\n                    var uiarr = new Uint8Array(xhr.response);\n                    var glTFMagic = [103, 108, 84, 70];\n                    var isBinary = true;\n                    for (var i = 0; i < glTFMagic.length; i++) {\n                        if (uiarr[i] !== glTFMagic[i]) {\n                            isBinary = false;\n                        }\n                    }\n                    var resultJson = void 0;\n                    if (isBinary) {\n                        var darr = new DataView(xhr.response);\n                        var fl = darr.getUint32(8, true); // fullLength\n                        var l = darr.getUint32(12, true); // contentLength\n                        resultJson = _this._bufferToString(xhr.response.slice(20, 20 + l));\n                        _this.binaryGLTFBuffer = xhr.response.slice(20 + l, fl);\n                    } else {\n                        resultJson = _this._bufferToString(xhr.response);\n                    }\n                    _this.tf = JSON.parse(resultJson);\n                    _this.tf.id = _HashCalculator2.default.calcHash(resultJson);\n                    resolve(_this.tf);\n                };\n                xhr.onerror = function (e) {\n                    // reject({\n                    //   message: `Loading resource at '${this.baseDirectory + url} failed. Is there resource file in dependency at correct location?'`,\n                    //   error:e\n                    // });\n                };\n                xhr.send();\n            });\n        }\n        /**\n         * Load image from specified url or dataURL.\n         * @param  {string}  url [description]\n         * @return {Promise}     [description]\n         */\n\n    }, {\n        key: \"loadImage\",\n        value: function loadImage(image) {\n            var url = image.uri;\n            var isBlob = false;\n            if (image[\"extensions\"] && image[\"extensions\"][\"KHR_binary_glTF\"]) {\n                var binaryInfo = image[\"extensions\"][\"KHR_binary_glTF\"];\n                var bufferViewInfo = this.tf.bufferViews[binaryInfo.bufferView];\n                var blob = new Blob([new Uint8Array(this.binaryGLTFBuffer, bufferViewInfo.byteOffset, bufferViewInfo.byteLength)], {\n                    type: binaryInfo.mimeType\n                });\n                url = window.URL.createObjectURL(blob);\n                isBlob = true;\n            }\n            if (this._isDataUrl(url)) {\n                return this._dataUriToImage(url);\n            } else {\n                return _ImageResolver2.default.resolve(isBlob ? url : this.baseDirectory + url);\n            }\n        }\n        /**\n         * Load buffer from specified url or dataURL.\n         * @return {Promise<ArrayBuffer>} [description]\n         */\n\n    }, {\n        key: \"loadBuffer\",\n        value: function loadBuffer(url) {\n            var _this2 = this;\n\n            if (this._isDataUrl(url)) {\n                return new Promise(function (resolve, reject) {\n                    resolve(_this2._dataUriToArrayBuffer(url));\n                });\n            }\n            return new Promise(function (resolve, reject) {\n                var xhr = new XMLHttpRequest();\n                xhr.open(\"GET\", _this2.baseDirectory + url);\n                xhr.responseType = \"arraybuffer\";\n                xhr.onload = function (v) {\n                    resolve(xhr.response);\n                };\n                xhr.onerror = function (e) {\n                    reject({\n                        message: \"Loading resource at '\" + (_this2.baseDirectory + url) + \" failed. Is there resource file in dependency at correct location?'\",\n                        error: e\n                    });\n                };\n                xhr.send();\n            });\n        }\n        /**\n         * Load string from specified url or dataURL\n         * @param  {string}          url [description]\n         * @return {Promise<string>}     [description]\n         */\n\n    }, {\n        key: \"loadShader\",\n        value: function loadShader(shader) {\n            var url = shader.uri;\n            var isBlob = false;\n            if (shader[\"extensions\"] && shader[\"extensions\"][\"KHR_binary_glTF\"]) {\n                var binaryInfo = shader[\"extensions\"][\"KHR_binary_glTF\"];\n                var bufferViewInfo = this.tf.bufferViews[binaryInfo.bufferView];\n                var blob = new Blob([new Uint8Array(this.binaryGLTFBuffer, bufferViewInfo.byteOffset, bufferViewInfo.byteLength)], {\n                    type: \"text/plain\"\n                });\n                url = window.URL.createObjectURL(blob);\n                isBlob = true;\n            }\n            if (this._isDataUrl(url)) {\n                return Promise.resolve(this._dataUriToText(url));\n            } else {\n                return _TextFileResolver2.default.resolve(isBlob ? url : this.baseDirectory + url);\n            }\n        }\n        /**\n         * Convert data url string into array buffer\n         * @param  {string}      dataUri [description]\n         * @return {ArrayBuffer}         [description]\n         */\n\n    }, {\n        key: \"_dataUriToArrayBuffer\",\n        value: function _dataUriToArrayBuffer(dataUri) {\n            var splittedUri = dataUri.split(\",\");\n            var byteString = atob(splittedUri[1]);\n            var byteStringLength = byteString.length;\n            var arrayBuffer = new ArrayBuffer(byteStringLength);\n            var uint8Array = new Uint8Array(arrayBuffer);\n            for (var i = 0; i < byteStringLength; i++) {\n                uint8Array[i] = byteString.charCodeAt(i);\n            }\n            return arrayBuffer;\n        }\n        /**\n         * Convert data uri into image element\n         * @param  {string}  dataUrl [description]\n         * @return {Promise}         [description]\n         */\n\n    }, {\n        key: \"_dataUriToImage\",\n        value: function _dataUriToImage(dataUrl) {\n            var _this3 = this;\n\n            return new Promise(function (resolve, reject) {\n                var canvas = document.createElement(\"canvas\");\n                var context = canvas.getContext(\"2d\");\n                var image = new Image();\n                image.src = dataUrl;\n                image.onload = function () {\n                    resolve(_this3._ensureCorrectSize(image));\n                };\n            });\n        }\n    }, {\n        key: \"_dataUriToText\",\n        value: function _dataUriToText(dataUrl) {\n            var splittedUri = dataUrl.split(\",\");\n            var byteString = atob(splittedUri[1]);\n            return byteString;\n        }\n    }, {\n        key: \"_ensureCorrectSize\",\n        value: function _ensureCorrectSize(image) {\n            var canvas = document.createElement(\"canvas\");\n            var context = canvas.getContext(\"2d\");\n            var cWidth = Math.pow(2, Math.ceil(Math.log(image.width) / Math.LN2));\n            var cHeight = Math.pow(2, Math.ceil(Math.log(image.height) / Math.LN2));\n            if (cWidth === image.width && cHeight === image.height) {\n                return image;\n            }\n            canvas.width = cWidth;\n            canvas.height = cHeight;\n            context.drawImage(image, 0, 0, image.width, image.height, 0, 0, cWidth, cHeight);\n            return canvas;\n        }\n    }, {\n        key: \"_bufferToString\",\n        value: function _bufferToString(arr) {\n            var tmp = \"\";\n            var len = 1024;\n            for (var p = 0; p < arr.byteLength; p += len) {\n                tmp += this._smallBufferToString(new Uint8Array(arr.slice(p, p + len)));\n            }\n            return tmp;\n        }\n    }, {\n        key: \"_smallBufferToString\",\n        value: function _smallBufferToString(arr) {\n            return String.fromCharCode.apply(\"\", arr);\n        }\n        /**\n         * Check specified url is dataUrl or not\n         * @param  {string}  dataUrl [description]\n         * @return {boolean}         [description]\n         */\n\n    }, {\n        key: \"_isDataUrl\",\n        value: function _isDataUrl(dataUrl) {\n            return !!dataUrl.match(/^\\s*data\\:.*;base64/);\n        }\n        /**\n         * Get directiory location from specified url\n         * @param  {string} url [description]\n         * @return {string}     [description]\n         */\n\n    }, {\n        key: \"_getBaseDir\",\n        value: function _getBaseDir(url) {\n            return url.substr(0, url.lastIndexOf(\"/\") + 1);\n        }\n    }]);\n\n    return ResourceResolver;\n}();\n\nexports.default = ResourceResolver;\n\n/***/ }),\n/* 29 */\n/***/ (function(module, exports) {\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});exports.default=window.GrimoireJS.lib.fundamental.Asset.TextFileResolver;\n\n/***/ }),\n/* 30 */\n/***/ (function(module, exports) {\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});exports.default=window.GrimoireJS.lib.fundamental.Util.HashCalculator;\n\n/***/ }),\n/* 31 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _GLTFJointComponent = __webpack_require__(3);\n\nvar _GLTFJointComponent2 = _interopRequireDefault(_GLTFJointComponent);\n\nvar _GLTFModelComponent = __webpack_require__(2);\n\nvar _GLTFModelComponent2 = _interopRequireDefault(_GLTFModelComponent);\n\nvar _grimoirejs = __webpack_require__(17);\n\nvar _grimoirejs2 = _interopRequireDefault(_grimoirejs);\n\nvar _MaterialFactory = __webpack_require__(11);\n\nvar _MaterialFactory2 = _interopRequireDefault(_MaterialFactory);\n\nvar _UniformResolverRegistry = __webpack_require__(32);\n\nvar _UniformResolverRegistry2 = _interopRequireDefault(_UniformResolverRegistry);\n\nvar _gltfUnlit = __webpack_require__(33);\n\nvar _gltfUnlit2 = _interopRequireDefault(_gltfUnlit);\n\nvar _gltfPbrMetallicRoughness = __webpack_require__(34);\n\nvar _gltfPbrMetallicRoughness2 = _interopRequireDefault(_gltfPbrMetallicRoughness);\n\nvar _ImportResolver = __webpack_require__(35);\n\nvar _ImportResolver2 = _interopRequireDefault(_ImportResolver);\n\nvar _GLExtRequestor = __webpack_require__(36);\n\nvar _GLExtRequestor2 = _interopRequireDefault(_GLExtRequestor);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar __awaiter = undefined && undefined.__awaiter || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) {\n            try {\n                step(generator.next(value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function rejected(value) {\n            try {\n                step(generator[\"throw\"](value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function step(result) {\n            result.done ? resolve(result.value) : new P(function (resolve) {\n                resolve(result.value);\n            }).then(fulfilled, rejected);\n        }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\nexports.default = function () {\n    if (typeof _ImportResolver2.default.staticImports[\"forward-shading\"] !== \"string\") {\n        _ImportResolver2.default.staticImports[\"forward-shading\"] = \"\";\n    }\n    _GLExtRequestor2.default.request(\"OES_standard_derivatives\");\n    _GLExtRequestor2.default.request(\"OES_element_index_uint\");\n    _grimoirejs2.default.register(function () {\n        return __awaiter(undefined, void 0, void 0, regeneratorRuntime.mark(function _callee() {\n            return regeneratorRuntime.wrap(function _callee$(_context) {\n                while (1) {\n                    switch (_context.prev = _context.next) {\n                        case 0:\n                            _grimoirejs2.default.registerComponent(\"GLTFModel\", _GLTFModelComponent2.default);\n                            _grimoirejs2.default.registerComponent(\"GLTFJoint\", _GLTFJointComponent2.default);\n                            _grimoirejs2.default.registerNode(\"model\", [\"GLTFModel\"], {}, \"object\");\n                            _grimoirejs2.default.registerNode(\"gltf-mesh\", [], {\n                                material: \"new(gltf-unlit)\"\n                            }, \"mesh\");\n                            _grimoirejs2.default.registerNode(\"gltf-joint\", [\"GLTFJoint\"], {}, \"object\");\n                            _grimoirejs2.default.registerNode(\"gltf-assets\", [], {});\n                            _MaterialFactory2.default.addSORTMaterial(\"gltf-unlit\", _gltfUnlit2.default);\n                            _MaterialFactory2.default.addSORTMaterial(\"gltf-pbr-metallic-roughness\", _gltfPbrMetallicRoughness2.default);\n                            _UniformResolverRegistry2.default.add(\"JOINTMATRIX\", function (valInfo, material) {\n                                return function (proxy, info) {\n                                    if (info.renderable.renderArgs[\"gltf-jointMatrices\"]) {\n                                        proxy.uniformMatrixArray(valInfo.name, info.renderable.renderArgs[\"gltf-jointMatrices\"]);\n                                    }\n                                };\n                            });\n\n                        case 9:\n                        case \"end\":\n                            return _context.stop();\n                    }\n                }\n            }, _callee, this);\n        }));\n    });\n};\n\n/***/ }),\n/* 32 */\n/***/ (function(module, exports) {\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});exports.default=window.GrimoireJS.lib.fundamental.Material.UniformResolverRegistry;\n\n/***/ }),\n/* 33 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"@Pass{\\n@BlendFunc(SRC_ALPHA,ONE_MINUS_SRC_ALPHA)\\n@ExposeMacro(int,jointCount,JOINT_COUNT,0)\\nFS_PREC(mediump,float)\\n\\nvarying vec3 vPosition;\\nvarying vec3 vNormal;\\nvarying vec2 vUV;\\n\\n#ifdef VS\\n#if JOINT_COUNT > 0\\n  @JOINTMATRIX\\n  uniform mat4 boneMatrices[JOINT_COUNT];\\n#endif\\n  @NORMAL\\n  attribute vec3 normal;\\n  @POSITION\\n  attribute vec3 position;\\n  @TEXCOORD_0\\n  attribute vec2 texCoord;\\n#if JOINT_COUNT > 0\\n  @JOINT\\n  attribute vec4 joint;\\n  @WEIGHT\\n  attribute vec4 weight;\\n#endif\\n  uniform mat4 _matPVM;\\n  uniform mat4 _matM;\\n  void main(){\\n    mat4 transform = _matM;\\n    mat4 projectionTransform = _matPVM;\\n    #if JOINT_COUNT > 0\\n      mat4 skinMat = weight.x * boneMatrices[int(joint.x)] + weight.y * boneMatrices[int(joint.y)] + weight.z * boneMatrices[int(joint.z)] + weight.w * boneMatrices[int(joint.w)];\\n      transform *= skinMat;\\n      projectionTransform *= skinMat;\\n    #endif\\n    vUV = texCoord;\\n    vNormal = normalize((transform * vec4(normal,0.0)).xyz);\\n    vPosition = (transform * vec4(position,1.0)).xyz;\\n    gl_Position = projectionTransform * vec4(position,1.0);\\n  }\\n\\n\\n#endif\\n\\n\\n#ifdef FS\\n\\n  @{type:\\\"color\\\"}\\n  uniform vec3 ambient;\\n\\n  @AMBIENT_COEFFICIENT\\n  uniform float ambientCoefficient;\\n\\n  uniform sampler2D ambientTexture;\\n\\n  @HAS_TEXTURE{sampler:\\\"ambientTexture\\\"}\\n  uniform bool ambientTextureUsed;\\n\\n  @{type:\\\"color\\\"}\\n  uniform vec4 diffuse;\\n\\n  uniform sampler2D diffuseTexture;\\n\\n  @HAS_TEXTURE{sampler:\\\"diffuseTexture\\\"}\\n  uniform bool diffuseTextureUsed;\\n\\n  @{type:\\\"color\\\"}\\n  uniform vec3 specular;\\n\\n  uniform sampler2D specularTexture;\\n\\n  @HAS_TEXTURE{sampler:\\\"specularTexture\\\"}\\n  uniform bool specularTextureUsed;\\n\\n  @{type:\\\"color\\\"}\\n  uniform vec3 emission;\\n\\n  uniform sampler2D emissionTexture;\\n\\n  @HAS_TEXTURE{sampler:\\\"emissionTexture\\\"}\\n  uniform bool emissionTextureUsed;\\n\\n  @{default:\\\"1.0\\\"}\\n  uniform float shininess;\\n\\n  @{default:\\\"1.0\\\"}\\n  uniform float transparency;\\n\\n  uniform vec3 _cameraPosition;\\n\\n  @{default:\\\"n(1,1,-1)\\\"}\\n  uniform vec3 sunDir;\\n\\n  void main(){\\n    vec4 dColor = vec4(0);\\n    vec3 sColor = vec3(0);\\n    vec3 eColor = vec3(0);\\n    vec3 aColor = vec3(0);\\n    vec3 hVec = normalize(normalize(_cameraPosition - vPosition) + sunDir);\\n    if(ambientTextureUsed){\\n      aColor = texture2D(ambientTexture,vUV).rgb;\\n    }else{\\n      aColor = ambient;\\n    }\\n    if(diffuseTextureUsed){\\n      dColor = texture2D(diffuseTexture,vUV);\\n    }else{\\n      dColor = diffuse;\\n    }\\n    dColor.rgb = max(0.,dot(sunDir,vNormal)) * dColor.rgb;\\n    if(specularTextureUsed){\\n      sColor = texture2D(specularTexture,vUV).rgb;\\n    }else{\\n      sColor = specular;\\n    }\\n    if(emissionTextureUsed){\\n      eColor = texture2D(emissionTexture,vUV).rgb;\\n    }else{\\n      eColor = emission;\\n    }\\n    sColor = sColor * pow(max(0.,dot(hVec,vNormal)),shininess);\\n    gl_FragColor.rgb = dColor.rgb + sColor + aColor * ambientCoefficient;// + eColor;// + aColor;\\n    gl_FragColor.a = dColor.a * transparency;\\n  }\\n#endif\\n}\\n\"\n\n/***/ }),\n/* 34 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"@Pass{\\n#extension GL_OES_standard_derivatives : enable\\n@BlendFunc(SRC_ALPHA,ONE_MINUS_SRC_ALPHA)\\n@ExposeMacro(int,jointCount,JOINT_COUNT,0)\\nFS_PREC(mediump,float)\\n\\nvarying vec3 vPosition;\\nvarying vec3 vNormal;\\nvarying vec2 vUV;\\n\\n#ifdef VS\\n#if JOINT_COUNT > 0\\n  @JOINTMATRIX\\n  uniform mat4 boneMatrices[JOINT_COUNT];\\n#endif\\n  @NORMAL\\n  attribute vec3 normal;\\n  @POSITION\\n  attribute vec3 position;\\n#ifdef ATTRIBUTE_TEXCOORD_0_ENABLED\\n  @TEXCOORD_0\\n  attribute vec2 texCoord;\\n#endif\\n#if JOINT_COUNT > 0\\n  @JOINTS_0\\n  attribute vec4 joint;\\n  @WEIGHTS_0\\n  attribute vec4 weight;\\n#endif\\n  uniform mat4 _matPVM;\\n  uniform mat4 _matM;\\n  void main(){\\n    mat4 transform = _matM;\\n    mat4 projectionTransform = _matPVM;\\n    #if JOINT_COUNT > 0\\n      mat4 skinMat = weight.x * boneMatrices[int(joint.x)] + weight.y * boneMatrices[int(joint.y)] + weight.z * boneMatrices[int(joint.z)] + weight.w * boneMatrices[int(joint.w)];\\n      transform *= skinMat;\\n      projectionTransform *= skinMat;\\n    #endif\\n    #ifdef ATTRIBUTE_TEXCOORD_0_ENABLED\\n        vUV = texCoord;\\n    #else\\n        vUV  = position.xy /2.0 + vec2(0.5);\\n    #endif\\n    vNormal = normalize((transform * vec4(normal,0.0)).xyz);\\n    vPosition = (transform * vec4(position,1.0)).xyz;\\n    gl_Position = projectionTransform * vec4(position,1.0);\\n  }\\n\\n\\n#endif\\n\\n\\n#ifdef FS\\n  @{flag:\\\"USE_NORMAL_TEXTURE\\\"}\\n  uniform sampler2D normalTexture;\\n\\n  @{default:\\\"1,1,1,1\\\"}\\n  uniform vec4 baseColorFactor;\\n\\n  @{flag:\\\"USE_BASECOLOR_TEXTURE\\\"}\\n  uniform sampler2D baseColorTexture;\\n\\n  @{default:\\\"1\\\"}\\n  uniform float metallicFactor;\\n\\n  @{flag:\\\"USE_METALIC_TEXTURE\\\"}\\n  uniform sampler2D metallicTexture;\\n\\n  @{default:\\\"1\\\"}\\n  uniform float roughnessFactor;\\n\\n  @{flag:\\\"USE_ROUGHNESS_TEXTURE\\\"}\\n  uniform sampler2D roughnessTexture;\\n\\n  @{default:\\\"0,0,0\\\"}\\n  uniform vec3 emissiveFactor;\\n\\n  @{flag:\\\"USE_EMISSIVE_TEXTURE\\\"}\\n  uniform sampler2D emissiveTexture;\\n\\n  @{flag:\\\"USE_METALIC_ROUGHNESS_TEXTURE\\\"}\\n  uniform sampler2D metallicRoughnessTexture;\\n\\n  @{flag:\\\"USE_OCCLUSION_TEXTURE\\\"}\\n  uniform sampler2D occlusionTexture;\\n\\n  @CAMERA_POSITION\\n  uniform vec3 _cameraPosition;\\n\\n  @import \\\"forward-shading\\\"\\n\\n  #ifndef GR_FORWARD_SHADING_ENABLED\\n\\n  struct simple_pbr_params{\\n    vec3 diffuseColor;\\n    vec3 f0;\\n    float alpha;\\n    float roughness;\\n  };\\n\\n    @{default:\\\"n(3,0.5,10)\\\"}\\n    uniform vec3 simpleLightDirection;\\n\\n    @{type:\\\"color\\\",default:\\\"gray\\\"}\\n    uniform vec3 simpleLightColor;\\n\\n    @{default:0.3}\\n    uniform float simpleLightIntencity;\\n\\n    float lambert(vec3 lightDirection,vec3 surfaceNormal) {\\n      return max(0.0, dot(lightDirection, surfaceNormal));\\n    }\\n\\n    float ctd_GGX_Distribution(simple_pbr_params param,vec3 l,vec3 v,vec3 n,vec3 h){\\n      float alpha2 = pow(param.alpha,2.0);\\n      float nh2 = pow(dot(n,h),2.0);\\n      return alpha2/(PI*pow(nh2*(alpha2 - 1.0) + 1.0,2.0));\\n    }\\n\\n    float ctg_GGX_SingleGeometryTerm(simple_pbr_params param,vec3 n,vec3 v){\\n      float d = dot(n,v);\\n      return 2.*d /(d + sqrt(d*d + param.alpha*param.alpha*(1. - d*d)));\\n    }\\n\\n    vec3 ctf_Schlick(simple_pbr_params param,vec3 l,vec3 v,vec3 n,vec3 h){\\n      vec3 f0 = param.f0;\\n      float vh = dot(v,n);\\n      return f0 + pow(1.0-vh,5.0) * (vec3(1.0) - f0);\\n    }\\n\\n    vec3 cookTorranceBRDF(simple_pbr_params param,vec3 l,vec3 v,vec3 n){\\n      vec3 h = normalize(l+v);\\n      return  ctf_Schlick(param,l,v,n,h) * ctd_GGX_Distribution(param,l,v,n,h) * ctg_GGX_SingleGeometryTerm(param,n,l) * ctg_GGX_SingleGeometryTerm(param,n,v)/(4.0 * dot(l,n) * dot(v,n));\\n    }\\n\\n    vec3 BRDF(simple_pbr_params params,vec3 li,vec3 lo,vec3 n){\\n      return params.diffuseColor/PI + cookTorranceBRDF(params,li,lo,n);\\n    }\\n\\n  #endif\\n\\n\\n  void main(){\\n    vec4 baseColor = baseColorFactor;\\n    #ifdef USE_BASECOLOR_TEXTURE\\n      baseColor *= texture2D(baseColorTexture,vUV);\\n    #endif\\n    vec3 emissive = emissiveFactor;\\n    #ifdef USE_EMISSIVE_TEXTURE\\n      emissive *= texture2D(emissiveTexture,vUV).rgb;\\n    #endif\\n    float metallic = metallicFactor;\\n    #ifdef USE_METALIC_TEXTURE\\n      metallic *= texture2D(metallicTexture,vUV).r;\\n    #endif\\n    float roughness = roughnessFactor;\\n    #ifdef USE_ROUGHNESS_TEXTURE\\n      roughness *= texture2D(roughnessTexture,vUV).r;\\n    #endif\\n    #ifdef USE_METALIC_ROUGHNESS_TEXTURE\\n      vec3 rm = texture2D(metallicRoughnessTexture,vUV).rgb;\\n      metallic *= rm.b;\\n      roughness *= rm.g;\\n    #endif\\n    vec3 normal = vNormal;\\n    #ifdef USE_NORMAL_TEXTURE\\n      vec3 pos_dx = dFdx(vPosition);\\n      vec3 pos_dy = dFdy(vPosition);\\n      vec3 tex_dx = dFdx(vec3(vUV, 0.0));\\n      vec3 tex_dy = dFdy(vec3(vUV, 0.0));\\n      vec3 t = (tex_dy.t * pos_dx - tex_dx.t * pos_dy) / (tex_dx.s * tex_dy.t - tex_dy.s * tex_dx.t);\\n      t = normalize(t - vNormal * dot(vNormal, t));\\n      vec3 b = normalize(cross(vNormal, t));\\n      mat3 tbn = mat3(t, b, vNormal);\\n      vec3 n = texture2D(normalTexture, vUV).rgb;\\n      normal = normalize(tbn * (2.0 * n - 1.0));\\n    #endif\\n    vec3 dielectricSpecular = vec3(0.04);\\n    vec3 diffuse = mix(baseColor.rgb * (1. - dielectricSpecular.r),vec3(0),metallic);\\n    vec3 f0 = mix(dielectricSpecular,baseColor.rgb,metallic);\\n    float alpha = roughness * roughness;\\n    #ifdef GR_FORWARD_SHADING_ENABLED\\n      pbr_params param = pbr_params(diffuse,f0,alpha,roughness);\\n      gl_FragColor.rgb = shading(param,normal,vPosition);\\n    #endif\\n    #ifndef GR_FORWARD_SHADING_ENABLED\\n      simple_pbr_params params = simple_pbr_params(diffuse,f0,alpha,roughness);\\n      float lam = lambert(simpleLightDirection,normal);\\n      vec3 brdfCoeff = BRDF(params,-simpleLightDirection,normalize(_cameraPosition - vPosition),normal);\\n      gl_FragColor.rgb = vec3(lam) * simpleLightIntencity * simpleLightColor * brdfCoeff;\\n    #endif\\n    gl_FragColor.rgb += emissive;\\n    gl_FragColor.rgb = pow(gl_FragColor.rgb,1.0/vec3(2.2));\\n    #ifdef USE_OCCLUSION_TEXTURE\\n      gl_FragColor.rgb *= texture2D(occlusionTexture,vUV).r;\\n    #endif\\n    gl_FragColor.a = baseColor.a;\\n  }\\n#endif\\n}\\n\"\n\n/***/ }),\n/* 35 */\n/***/ (function(module, exports) {\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});exports.default=window.GrimoireJS.lib.fundamental.Sort.ImportResolver;\n\n/***/ }),\n/* 36 */\n/***/ (function(module, exports) {\n\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});exports.default=window.GrimoireJS.lib.fundamental.Resource.GLExtRequestor;\n\n/***/ })\n/******/ ]);\n});\n//# sourceMappingURL=grimoire-gltf.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/grimoirejs-gltf/register/index.js\n// module id = 15\n// module chunks = 0","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(this, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 9);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Component2 = __webpack_require__(1);\n\nvar _Component3 = _interopRequireDefault(_Component2);\n\nvar _FrameBuffer = __webpack_require__(3);\n\nvar _FrameBuffer2 = _interopRequireDefault(_FrameBuffer);\n\nvar _Texture2D = __webpack_require__(4);\n\nvar _Texture2D2 = _interopRequireDefault(_Texture2D);\n\nvar _RenderBuffer = __webpack_require__(5);\n\nvar _RenderBuffer2 = _interopRequireDefault(_RenderBuffer);\n\nvar _SlideComponent = __webpack_require__(2);\n\nvar _SlideComponent2 = _interopRequireDefault(_SlideComponent);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar __awaiter = undefined && undefined.__awaiter || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) {\n            try {\n                step(generator.next(value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function rejected(value) {\n            try {\n                step(generator[\"throw\"](value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function step(result) {\n            result.done ? resolve(result.value) : new P(function (resolve) {\n                resolve(result.value);\n            }).then(fulfilled, rejected);\n        }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\nvar RenderSlideComponent = function (_Component) {\n    _inherits(RenderSlideComponent, _Component);\n\n    function RenderSlideComponent() {\n        _classCallCheck(this, RenderSlideComponent);\n\n        var _this = _possibleConstructorReturn(this, (RenderSlideComponent.__proto__ || Object.getPrototypeOf(RenderSlideComponent)).apply(this, arguments));\n\n        _this._transiting = false;\n        return _this;\n    }\n\n    _createClass(RenderSlideComponent, [{\n        key: \"$mount\",\n        value: function $mount() {\n            return __awaiter(this, void 0, void 0, regeneratorRuntime.mark(function _callee() {\n                var _this2 = this;\n\n                var frame, parsed, gr;\n                return regeneratorRuntime.wrap(function _callee$(_context) {\n                    while (1) {\n                        switch (_context.prev = _context.next) {\n                            case 0:\n                                this._gl = this.companion.get(\"gl\");\n                                this._currentBuffer = new _FrameBuffer2.default(this._gl);\n                                this._lastBuffer = new _FrameBuffer2.default(this._gl);\n                                this._currentTexture = new _Texture2D2.default(this._gl);\n                                this._lastTexture = new _Texture2D2.default(this._gl);\n                                this._renderBuffer = new _RenderBuffer2.default(this._gl);\n                                this._resizeTexture(1, 1);\n                                this._currentBuffer.update(this._currentTexture);\n                                this._currentBuffer.update(this._renderBuffer);\n                                this._lastBuffer.update(this._lastTexture);\n                                this._lastBuffer.update(this._renderBuffer);\n                                this._slides = this.tree(\"goml\").single().getComponentsInChildren(_SlideComponent2.default);\n                                this.getAttributeRaw(\"current\").boundTo(\"_currentFrame\");\n                                frame = window.location.hash.substring(1);\n                                parsed = void 0;\n\n                                if (frame && (parsed = /(\\d+)(?:-(\\d+))?/gm.exec(frame))) {\n                                    setTimeout(function () {\n                                        _this2._currentFrame = _this2._toFrameIndex(parseInt(parsed[1]), parseInt(parsed[2] || 0 + ''));\n                                        _this2._enterFrame(-1, _this2._currentFrame);\n                                    }, 0);\n                                } else {\n                                    setTimeout(function () {\n                                        _this2._updateHash(_this2._currentFrame);\n                                        _this2._enterFrame(-1, _this2._currentFrame);\n                                    }, 0);\n                                }\n                                gr = this.companion.get(\"GeometryRegistory\");\n                                _context.next = 19;\n                                return gr.getGeometry(\"quad\");\n\n                            case 19:\n                                this._quad = _context.sent;\n\n                            case 20:\n                            case \"end\":\n                                return _context.stop();\n                        }\n                    }\n                }, _callee, this);\n            }));\n        }\n    }, {\n        key: \"$render\",\n        value: function $render(args) {\n            var slideInfo = this._getSlide(this._currentFrame);\n            if (this._transiting && slideInfo.build === 0) {\n                var progress = (Date.now() - this._transitionStartTime) / this._lastTransitionTime;\n                this._renderTo(args, slideInfo.slide, this._currentBuffer);\n                var lastSlide = this._getSlide(this._currentFrame - 1);\n                this._renderTo(args, lastSlide.slide, this._lastBuffer);\n                this._gl.bindFramebuffer(WebGLRenderingContext.FRAMEBUFFER, null);\n                this._gl.clearColor(0, 0, 0, 0);\n                this._gl.clear(WebGLRenderingContext.COLOR_BUFFER_BIT | WebGLRenderingContext.DEPTH_BUFFER_BIT);\n                this._gl.viewport(0, 0, args.viewport.Width, args.viewport.Height);\n                slideInfo.slide.transitionMaterial.setAttribute(\"progress\", progress);\n                slideInfo.slide.transitionMaterial.setAttribute(\"last\", this._lastTexture);\n                slideInfo.slide.transitionMaterial.setAttribute(\"current\", this._currentTexture);\n                slideInfo.slide.transitionMaterial.material.draw({\n                    targetBuffer: \"default\",\n                    geometry: this._quad,\n                    attributeValues: {},\n                    sceneDescription: {},\n                    camera: null,\n                    transform: null,\n                    buffers: args.buffers,\n                    viewport: args.viewport,\n                    technique: \"default\"\n                });\n                this._gl.flush();\n            } else {\n                if (this._transiting) {\n                    var _progress = (Date.now() - this._transitionStartTime) / this._lastTransitionTime;\n                    slideInfo.slide.buildProgress(slideInfo.build, _progress);\n                }\n                this._renderTo(args, slideInfo.slide, null);\n            }\n        }\n    }, {\n        key: \"_renderTo\",\n        value: function _renderTo(args, slide, fbo) {\n            if (fbo) {\n                this._gl.viewport(0, 0, this._bufferWidth, this._bufferHeight);\n                fbo.bind();\n            } else {\n                this._gl.viewport(0, 0, args.viewport.Width, args.viewport.Height);\n                this._gl.bindFramebuffer(WebGLRenderingContext.FRAMEBUFFER, null);\n            }\n            var bg = slide.backgroundColor;\n            this._gl.clearColor(bg.R, bg.G, bg.B, bg.A);\n            this._gl.clear(WebGLRenderingContext.COLOR_BUFFER_BIT | WebGLRenderingContext.DEPTH_BUFFER_BIT);\n            slide.camera.updateContainedScene(args.timer);\n            slide.camera.renderScene({\n                renderer: this,\n                camera: slide.camera,\n                buffers: args.buffers,\n                layer: \"default\",\n                viewport: args.viewport,\n                timer: args.timer,\n                technique: \"default\",\n                sceneDescription: {}\n            });\n        }\n    }, {\n        key: \"$resizeBuffer\",\n        value: function $resizeBuffer(arg) {\n            this._resizeTexture(arg.pow2Width, arg.pow2Height);\n        }\n    }, {\n        key: \"next\",\n        value: function next() {\n            return __awaiter(this, void 0, void 0, regeneratorRuntime.mark(function _callee2() {\n                var lastFrame, allFrame, i, currentFrameInfo;\n                return regeneratorRuntime.wrap(function _callee2$(_context2) {\n                    while (1) {\n                        switch (_context2.prev = _context2.next) {\n                            case 0:\n                                if (!this._transiting) {\n                                    _context2.next = 2;\n                                    break;\n                                }\n\n                                return _context2.abrupt(\"return\");\n\n                            case 2:\n                                lastFrame = this._currentFrame;\n                                allFrame = 0;\n\n                                for (i = 0; i < this._slides.length; i++) {\n                                    allFrame += this._slides[i].build;\n                                }\n                                this._currentFrame = Math.min(this._currentFrame + 1, allFrame - 1);\n                                currentFrameInfo = this._getSlide(this._currentFrame);\n\n                                if (!(currentFrameInfo.build === 0)) {\n                                    _context2.next = 14;\n                                    break;\n                                }\n\n                                _context2.next = 10;\n                                return this._transitWait(currentFrameInfo.slide, currentFrameInfo.slide.transitionTime);\n\n                            case 10:\n                                if (_context2.sent) {\n                                    _context2.next = 12;\n                                    break;\n                                }\n\n                                return _context2.abrupt(\"return\");\n\n                            case 12:\n                                _context2.next = 18;\n                                break;\n\n                            case 14:\n                                _context2.next = 16;\n                                return this._transitWait(currentFrameInfo.slide, currentFrameInfo.slide.buildTransitionTime);\n\n                            case 16:\n                                if (_context2.sent) {\n                                    _context2.next = 18;\n                                    break;\n                                }\n\n                                return _context2.abrupt(\"return\");\n\n                            case 18:\n                                this._updateHash(this._currentFrame);\n                                this._enterFrame(lastFrame, this._currentFrame);\n\n                            case 20:\n                            case \"end\":\n                                return _context2.stop();\n                        }\n                    }\n                }, _callee2, this);\n            }));\n        }\n    }, {\n        key: \"prev\",\n        value: function prev() {\n            return __awaiter(this, void 0, void 0, regeneratorRuntime.mark(function _callee3() {\n                var lastFrame, slideInfo, prevSlideInfo;\n                return regeneratorRuntime.wrap(function _callee3$(_context3) {\n                    while (1) {\n                        switch (_context3.prev = _context3.next) {\n                            case 0:\n                                lastFrame = this._currentFrame;\n                                slideInfo = this._getSlide(this._currentFrame); // 前のスライドの最後までを計算\n\n                                this._currentFrame = Math.max(this._currentFrame - 1 - slideInfo.build, 0);\n                                prevSlideInfo = this._getSlide(this._currentFrame); // さらに前のスライドの最初まで戻す\n\n                                this._currentFrame = Math.max(this._currentFrame - prevSlideInfo.build, 0);\n                                this._updateHash(this._currentFrame);\n                                this._enterFrame(lastFrame, this._currentFrame);\n                                this._lastTransitionTime = 0;\n                                this._transitionStartTime = 0;\n                                this._lastWaitingHash = -1;\n                                this._transiting = false;\n\n                            case 11:\n                            case \"end\":\n                                return _context3.stop();\n                        }\n                    }\n                }, _callee3, this);\n            }));\n        }\n    }, {\n        key: \"_resizeTexture\",\n        value: function _resizeTexture(width, height) {\n            this._lastTexture.update(0, width, height, 0, WebGLRenderingContext.RGBA, WebGLRenderingContext.UNSIGNED_BYTE);\n            this._currentTexture.update(0, width, height, 0, WebGLRenderingContext.RGBA, WebGLRenderingContext.UNSIGNED_BYTE);\n            this._renderBuffer.update(WebGLRenderingContext.DEPTH_COMPONENT16, width, height);\n            this._bufferWidth = width;\n            this._bufferHeight = height;\n        }\n    }, {\n        key: \"_transitWait\",\n        value: function _transitWait(currentSlide, time) {\n            return __awaiter(this, void 0, void 0, regeneratorRuntime.mark(function _callee4() {\n                var hash;\n                return regeneratorRuntime.wrap(function _callee4$(_context4) {\n                    while (1) {\n                        switch (_context4.prev = _context4.next) {\n                            case 0:\n                                this._transiting = true;\n                                this._lastTransitionTime = time * 1000;\n                                this._transitionStartTime = Date.now();\n                                hash = this._lastWaitingHash = Math.random();\n                                _context4.next = 6;\n                                return this._waitFor(time * 1000);\n\n                            case 6:\n                                if (!(hash !== this._lastWaitingHash)) {\n                                    _context4.next = 8;\n                                    break;\n                                }\n\n                                return _context4.abrupt(\"return\", false);\n\n                            case 8:\n                                this._lastTransitionTime = 0;\n                                this._transitionStartTime = 0;\n                                this._transiting = false;\n                                return _context4.abrupt(\"return\", true);\n\n                            case 12:\n                            case \"end\":\n                                return _context4.stop();\n                        }\n                    }\n                }, _callee4, this);\n            }));\n        }\n        /**\n         * Call slide components events\n         * @param {number} lastFrame [description]\n         * @param {number} frame     [description]\n         */\n\n    }, {\n        key: \"_enterFrame\",\n        value: function _enterFrame(lastFrame, frame) {\n            var lastSlide = this._getSlide(lastFrame);\n            var currentSlide = this._getSlide(frame);\n            if (lastFrame !== -1) lastSlide.slide.buildEnd(lastSlide.build);\n            if (lastFrame === -1 || lastSlide.slide !== currentSlide.slide) {\n                if (lastFrame !== -1) lastSlide.slide.slideEnd();\n                currentSlide.slide.slideStart();\n            }\n            currentSlide.slide.buildStart(currentSlide.build);\n        }\n        /**\n         * Fetch slide component and build index from index.\n         * @param  {number} index [description]\n         * @return {[type]}       [description]\n         */\n\n    }, {\n        key: \"_getSlide\",\n        value: function _getSlide(index) {\n            var currentIndex = 0;\n            for (var i = 0; i < this._slides.length; i++) {\n                var slide = this._slides[i];\n                if (currentIndex + slide.build > index) {\n                    return {\n                        slideIndex: i,\n                        slide: slide,\n                        build: index - currentIndex\n                    };\n                }\n                currentIndex += slide.build;\n            }\n        }\n    }, {\n        key: \"_waitFor\",\n        value: function _waitFor(time) {\n            return new Promise(function (resolve, reject) {\n                setTimeout(function () {\n                    resolve();\n                }, time);\n            });\n        }\n    }, {\n        key: \"_toFrameIndex\",\n        value: function _toFrameIndex(slideIndex, buildIndex) {\n            var sum = 0;\n            for (var i = 0; i < slideIndex; i++) {\n                sum += this._slides[i].build;\n            }\n            return sum + buildIndex;\n        }\n    }, {\n        key: \"_updateHash\",\n        value: function _updateHash(frame) {\n            var slideInfo = this._getSlide(frame);\n            if (slideInfo.slide.build === 1) {\n                window.location.hash = \"\" + slideInfo.slideIndex;\n            } else {\n                window.location.hash = slideInfo.slideIndex + \"-\" + slideInfo.build;\n            }\n        }\n    }, {\n        key: \"camera\",\n        get: function get() {\n            return this._getSlide(this._currentFrame).slide.camera;\n        }\n    }]);\n\n    return RenderSlideComponent;\n}(_Component3.default);\n\nexports.default = RenderSlideComponent;\n\nRenderSlideComponent.attributes = {\n    current: {\n        default: 0,\n        converter: \"Number\"\n    }\n};\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\nObject.defineProperty(exports,\"__esModule\",{value: true});\nexports.default=window.GrimoireJS.Node.Component;\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Component2 = __webpack_require__(1);\n\nvar _Component3 = _interopRequireDefault(_Component2);\n\nvar _CameraComponent = __webpack_require__(10);\n\nvar _CameraComponent2 = _interopRequireDefault(_CameraComponent);\n\nvar _MaterialComponent = __webpack_require__(11);\n\nvar _MaterialComponent2 = _interopRequireDefault(_MaterialComponent);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar SlideComponent = function (_Component) {\n    _inherits(SlideComponent, _Component);\n\n    function SlideComponent() {\n        _classCallCheck(this, SlideComponent);\n\n        return _possibleConstructorReturn(this, (SlideComponent.__proto__ || Object.getPrototypeOf(SlideComponent)).apply(this, arguments));\n    }\n\n    _createClass(SlideComponent, [{\n        key: \"$awake\",\n        value: function $awake() {\n            this.build = this.getAttribute(\"build\");\n            this.transitionTime = this.getAttribute(\"transitionTime\");\n            this.buildTransitionTime = this.getAttribute(\"buildTransitionTime\");\n            this.camera = this.node.queryChildren(this.getAttribute(\"camera\"))[0].getComponent(_CameraComponent2.default);\n            this.transitionMaterial = this.tree(this.getAttribute(\"transition\")).single().getComponent(_MaterialComponent2.default);\n            this.backgroundColor = this.getAttribute(\"bgColor\");\n        }\n    }, {\n        key: \"buildProgress\",\n        value: function buildProgress(buildIndex, progress) {\n            var args = {\n                buildIndex: buildIndex,\n                progress: progress\n            };\n            this.node.broadcastMessage(\"buildProgress\", args);\n            this.node.emit(\"build-progress\", args);\n        }\n    }, {\n        key: \"slideStart\",\n        value: function slideStart() {\n            this.node.broadcastMessage(\"slideStart\");\n            this.node.emit(\"slide-start\");\n        }\n    }, {\n        key: \"slideEnd\",\n        value: function slideEnd() {\n            this.node.broadcastMessage(\"slideEnd\");\n            this.node.emit(\"slide-end\");\n        }\n    }, {\n        key: \"buildStart\",\n        value: function buildStart(build) {\n            this.node.broadcastMessage(\"buildStart\", build);\n            this.node.emit(\"build-start\", build);\n        }\n    }, {\n        key: \"buildEnd\",\n        value: function buildEnd(build) {\n            this.node.broadcastMessage(\"buildEnd\", build);\n            this.node.emit(\"slide-end\", build);\n        }\n    }]);\n\n    return SlideComponent;\n}(_Component3.default);\n\nexports.default = SlideComponent;\n\nSlideComponent.attributes = {\n    transition: {\n        default: \"material#default.transition\",\n        converter: \"String\"\n    },\n    build: {\n        default: 1,\n        converter: \"Number\"\n    },\n    type: {\n        default: \"scene\",\n        converter: \"String\"\n    },\n    camera: {\n        default: \"camera\",\n        converter: \"String\"\n    },\n    transitionTime: {\n        default: \"0.1\",\n        converter: \"Number\"\n    },\n    buildTransitionTime: {\n        default: \"0.2\",\n        converter: \"Number\"\n    },\n    bgColor: {\n        default: \"#F9EFD5\",\n        converter: \"Color4\"\n    }\n};\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\nObject.defineProperty(exports,\"__esModule\",{value: true});\nexports.default=window.GrimoireJS&&window.GrimoireJS.lib.fundamental?window.GrimoireJS.lib.fundamental.Resource.FrameBuffer:undefined;\n\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports) {\n\nObject.defineProperty(exports,\"__esModule\",{value: true});\nexports.default=window.GrimoireJS&&window.GrimoireJS.lib.fundamental?window.GrimoireJS.lib.fundamental.Resource.Texture2D:undefined;\n\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports) {\n\nObject.defineProperty(exports,\"__esModule\",{value: true});\nexports.default=window.GrimoireJS&&window.GrimoireJS.lib.fundamental?window.GrimoireJS.lib.fundamental.Resource.RenderBuffer:undefined;\n\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _MeshIndexCalculator = __webpack_require__(12);\n\nvar _MeshIndexCalculator2 = _interopRequireDefault(_MeshIndexCalculator);\n\nvar _FrameBuffer = __webpack_require__(3);\n\nvar _FrameBuffer2 = _interopRequireDefault(_FrameBuffer);\n\nvar _Texture2D = __webpack_require__(4);\n\nvar _Texture2D2 = _interopRequireDefault(_Texture2D);\n\nvar _RenderBuffer = __webpack_require__(5);\n\nvar _RenderBuffer2 = _interopRequireDefault(_RenderBuffer);\n\nvar _TextureSizeCalculator = __webpack_require__(13);\n\nvar _TextureSizeCalculator2 = _interopRequireDefault(_TextureSizeCalculator);\n\nvar _RenderSlideComponent = __webpack_require__(0);\n\nvar _RenderSlideComponent2 = _interopRequireDefault(_RenderSlideComponent);\n\nvar _Component2 = __webpack_require__(1);\n\nvar _Component3 = _interopRequireDefault(_Component2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar RenderSlideHitAreaComponent = function (_Component) {\n    _inherits(RenderSlideHitAreaComponent, _Component);\n\n    function RenderSlideHitAreaComponent() {\n        _classCallCheck(this, RenderSlideHitAreaComponent);\n\n        var _this = _possibleConstructorReturn(this, (RenderSlideHitAreaComponent.__proto__ || Object.getPrototypeOf(RenderSlideHitAreaComponent)).apply(this, arguments));\n\n        _this._readCache = new Uint8Array(4);\n        return _this;\n    }\n\n    _createClass(RenderSlideHitAreaComponent, [{\n        key: \"$mount\",\n        value: function $mount() {\n            this._sceneRenderer = this.node.getComponent(_RenderSlideComponent2.default);\n            if (!this._sceneRenderer) {\n                throw new Error(\"The node attaching RenderHitArea should contain RenderScene.\");\n            }\n            this._gl = this.companion.get(\"gl\");\n            this._canvas = this.companion.get(\"canvasElement\");\n            this.hitareaTexture = new _Texture2D2.default(this._gl);\n            this.hitareaRenderbuffer = new _RenderBuffer2.default(this._gl);\n            if (this.hitareaFBO) {\n                this.hitareaFBO.destroy();\n                this.hitareaFBO = null;\n            }\n        }\n    }, {\n        key: \"$resizeBuffer\",\n        value: function $resizeBuffer(args) {\n            var size = _TextureSizeCalculator2.default.getPow2Size(args.width, args.height);\n            this._bufferSize = [size.width, size.height];\n            this.hitareaTexture.update(0, size.width, size.height, 0, WebGLRenderingContext.RGBA, WebGLRenderingContext.UNSIGNED_BYTE);\n            this.hitareaRenderbuffer.update(WebGLRenderingContext.DEPTH_COMPONENT16, size.width, size.height);\n            if (!this.hitareaFBO) {\n                this.hitareaFBO = new _FrameBuffer2.default(this._gl);\n                this.hitareaFBO.update(this.hitareaTexture);\n                this.hitareaFBO.update(this.hitareaRenderbuffer);\n            }\n        }\n    }, {\n        key: \"$render\",\n        value: function $render(args) {\n            if (!this._mouseInside) {\n                return;\n            }\n            this.hitareaFBO.bind();\n            this._gl.viewport(0, 0, this._bufferSize[0], this._bufferSize[1]);\n            // clear buffer if needed\n            this._gl.clearColor(0, 0, 0, 0);\n            this._gl.clear(WebGLRenderingContext.COLOR_BUFFER_BIT);\n            this._gl.clearDepth(1);\n            this._gl.clear(WebGLRenderingContext.DEPTH_BUFFER_BIT);\n            var camera = this._sceneRenderer.camera || args.camera;\n            camera.renderScene({\n                renderer: this._sceneRenderer,\n                camera: camera,\n                buffers: args.buffers,\n                layer: \"default\",\n                viewport: args.viewport,\n                timer: args.timer,\n                technique: \"hitarea\",\n                sortingTechnique: \"default\",\n                sceneDescription: {}\n            });\n            this._gl.flush();\n            this._gl.readPixels(this._lastPosition[0] * this._bufferSize[0], this._lastPosition[1] * this._bufferSize[1], 1, 1, WebGLRenderingContext.RGBA, WebGLRenderingContext.UNSIGNED_BYTE, this._readCache);\n            var index = _MeshIndexCalculator2.default.fromColor(this._readCache);\n            if (index === 0) {\n                if (this._lastRenderable instanceof _Component3.default) {\n                    this._lastRenderable.node.emit(\"mouseleave\", this._lastRenderable);\n                }\n                this._lastRenderable = null;\n            } else {\n                var r = camera.containedScene.queueRegistory.getByIndex(index - 1);\n                if (this._lastRenderable !== r) {\n                    if (this._lastRenderable instanceof _Component3.default) {\n                        this._lastRenderable.node.emit(\"mouseleave\", this._lastRenderable);\n                    }\n                    if (r instanceof _Component3.default) {\n                        r.node.emit(\"mouseenter\", r);\n                    }\n                } else {\n                    if (r instanceof _Component3.default) {\n                        if (this._mouseMoved) {\n                            r.node.emit(\"mousemove\", r);\n                        } else {\n                            r.node.emit(\"mouseon\", r);\n                        }\n                    }\n                }\n                this._lastRenderable = r;\n            }\n            this._gl.bindFramebuffer(this._gl.FRAMEBUFFER, null);\n        }\n    }, {\n        key: \"$mousemove\",\n        value: function $mousemove(v) {\n            this._lastPosition = [v.viewportNormalizedX, 1.0 - v.viewportNormalizedY];\n            this._mouseMoved = true;\n        }\n    }, {\n        key: \"$mouseenter\",\n        value: function $mouseenter(v) {\n            this._mouseInside = true;\n            this._lastPosition = [v.viewportNormalizedX, 1.0 - v.viewportNormalizedY];\n            this._mouseMoved = true;\n        }\n    }, {\n        key: \"$mouseleave\",\n        value: function $mouseleave(v) {\n            this._mouseInside = false;\n            this._lastPosition = [v.viewportNormalizedX, 1.0 - v.viewportNormalizedY];\n            this._mouseMoved = true;\n            if (this._lastRenderable instanceof _Component3.default) {\n                this._lastRenderable.node.emit(\"mouseleave\", this._lastRenderable);\n            }\n            this._lastRenderable = null;\n        }\n    }]);\n\n    return RenderSlideHitAreaComponent;\n}(_Component3.default);\n\nexports.default = RenderSlideHitAreaComponent;\n\nRenderSlideHitAreaComponent.attributes = {};\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _Component2 = __webpack_require__(1);\n\nvar _Component3 = _interopRequireDefault(_Component2);\n\nvar _RenderSlideComponent = __webpack_require__(0);\n\nvar _RenderSlideComponent2 = _interopRequireDefault(_RenderSlideComponent);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar SlideControllerComponent = function (_Component) {\n    _inherits(SlideControllerComponent, _Component);\n\n    function SlideControllerComponent() {\n        _classCallCheck(this, SlideControllerComponent);\n\n        return _possibleConstructorReturn(this, (SlideControllerComponent.__proto__ || Object.getPrototypeOf(SlideControllerComponent)).apply(this, arguments));\n    }\n\n    _createClass(SlideControllerComponent, [{\n        key: \"$mount\",\n        value: function $mount() {\n            var _this2 = this;\n\n            var query = this.getAttribute(\"clickRegion\");\n            var elem = document.querySelector(query);\n            var slideRenderer = this.node.getComponent(_RenderSlideComponent2.default);\n            elem.addEventListener(\"mousedown\", function () {\n                if (_this2.getAttribute(\"clickEnabled\")) {\n                    slideRenderer.next();\n                }\n            });\n            document.addEventListener(\"keydown\", function (e) {\n                if (e.keyCode === 39) {\n                    slideRenderer.next();\n                }\n                if (e.keyCode === 37) {\n                    slideRenderer.prev();\n                }\n            });\n        }\n    }]);\n\n    return SlideControllerComponent;\n}(_Component3.default);\n\nexports.default = SlideControllerComponent;\n\nSlideControllerComponent.attributes = {\n    clickRegion: {\n        default: \".gr-container\",\n        converter: \"String\"\n    },\n    clickEnabled: {\n        default: false,\n        converter: \"Boolean\"\n    }\n};\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports) {\n\nObject.defineProperty(exports,\"__esModule\",{value: true});\nexports.default=window.GrimoireJS;\n\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _RenderSlideComponent = __webpack_require__(0);\n\nvar _RenderSlideComponent2 = _interopRequireDefault(_RenderSlideComponent);\n\nvar _RenderSlideHitareaComponent = __webpack_require__(6);\n\nvar _RenderSlideHitareaComponent2 = _interopRequireDefault(_RenderSlideHitareaComponent);\n\nvar _SlideComponent = __webpack_require__(2);\n\nvar _SlideComponent2 = _interopRequireDefault(_SlideComponent);\n\nvar _SlideControllerComponent = __webpack_require__(7);\n\nvar _SlideControllerComponent2 = _interopRequireDefault(_SlideControllerComponent);\n\nvar _main = __webpack_require__(14);\n\nvar _main2 = _interopRequireDefault(_main);\n\nvar _grimoirejs = __webpack_require__(8);\n\nvar _grimoirejs2 = _interopRequireDefault(_grimoirejs);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar __VERSION__ = \"0.0.18\";\nvar __NAME__ = \"grimoirejs-slide-system\";\n\nvar __EXPOSE__ = {\n    \"Components\": {\n        \"RenderSlideComponent\": _RenderSlideComponent2.default,\n        \"RenderSlideHitareaComponent\": _RenderSlideHitareaComponent2.default,\n        \"SlideComponent\": _SlideComponent2.default,\n        \"SlideControllerComponent\": _SlideControllerComponent2.default\n    }\n};\n\n_grimoirejs2.default.notifyRegisteringPlugin(__NAME__);\nvar __BASE__ = (0, _main2.default)();\nObject.assign(__EXPOSE__, {\n    __VERSION__: __VERSION__,\n    __NAME__: __NAME__\n});\nObject.assign(__BASE__ || {}, __EXPOSE__);\nwindow[\"GrimoireJS\"].lib.slide_system = __EXPOSE__;\nexports.default = __BASE__;\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports) {\n\nObject.defineProperty(exports,\"__esModule\",{value: true});\nexports.default=window.GrimoireJS&&window.GrimoireJS.lib.fundamental?window.GrimoireJS.lib.fundamental.Components.CameraComponent:undefined;\n\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports) {\n\nObject.defineProperty(exports,\"__esModule\",{value: true});\nexports.default=window.GrimoireJS&&window.GrimoireJS.lib.fundamental?window.GrimoireJS.lib.fundamental.Components.MaterialComponent:undefined;\n\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports) {\n\nObject.defineProperty(exports,\"__esModule\",{value: true});\nexports.default=window.GrimoireJS&&window.GrimoireJS.lib.fundamental?window.GrimoireJS.lib.fundamental.Util.MeshIndexCalculator:undefined;\n\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports) {\n\nObject.defineProperty(exports,\"__esModule\",{value: true});\nexports.default=window.GrimoireJS&&window.GrimoireJS.lib.fundamental?window.GrimoireJS.lib.fundamental.Util.TextureSizeCalculator:undefined;\n\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _grimoirejs = __webpack_require__(8);\n\nvar _grimoirejs2 = _interopRequireDefault(_grimoirejs);\n\nvar _RenderSlideComponent = __webpack_require__(0);\n\nvar _RenderSlideComponent2 = _interopRequireDefault(_RenderSlideComponent);\n\nvar _SlideComponent = __webpack_require__(2);\n\nvar _SlideComponent2 = _interopRequireDefault(_SlideComponent);\n\nvar _SlideControllerComponent = __webpack_require__(7);\n\nvar _SlideControllerComponent2 = _interopRequireDefault(_SlideControllerComponent);\n\nvar _RenderSlideHitareaComponent = __webpack_require__(6);\n\nvar _RenderSlideHitareaComponent2 = _interopRequireDefault(_RenderSlideHitareaComponent);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar __awaiter = undefined && undefined.__awaiter || function (thisArg, _arguments, P, generator) {\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) {\n            try {\n                step(generator.next(value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function rejected(value) {\n            try {\n                step(generator[\"throw\"](value));\n            } catch (e) {\n                reject(e);\n            }\n        }\n        function step(result) {\n            result.done ? resolve(result.value) : new P(function (resolve) {\n                resolve(result.value);\n            }).then(fulfilled, rejected);\n        }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\n\nexports.default = function () {\n    _grimoirejs2.default.register(function () {\n        return __awaiter(undefined, void 0, void 0, regeneratorRuntime.mark(function _callee() {\n            return regeneratorRuntime.wrap(function _callee$(_context) {\n                while (1) {\n                    switch (_context.prev = _context.next) {\n                        case 0:\n                            _grimoirejs2.default.registerComponent(\"RenderSlide\", _RenderSlideComponent2.default);\n                            _grimoirejs2.default.registerComponent(\"RenderSlideHitarea\", _RenderSlideHitareaComponent2.default);\n                            _grimoirejs2.default.registerComponent(\"Slide\", _SlideComponent2.default);\n                            _grimoirejs2.default.registerComponent(\"SlideController\", _SlideControllerComponent2.default);\n                            _grimoirejs2.default.registerNode(\"render-slide\", [\"RenderSlide\"]);\n                            _grimoirejs2.default.registerNode(\"scene-slide\", [\"Slide\"], {}, \"fundamental.scene\");\n\n                        case 6:\n                        case \"end\":\n                            return _context.stop();\n                    }\n                }\n            }, _callee, this);\n        }));\n    });\n};\n\n/***/ })\n/******/ ]);\n});\n//# sourceMappingURL=index.js.map\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/grimoirejs-slide-system/register/index.js\n// module id = 16\n// module chunks = 0"],"sourceRoot":""}